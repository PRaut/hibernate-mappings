webpackJsonp([0],[function(e,exports,t){t(1),e.exports=t(332)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=t(333),a=r(n),i=t(335),o=r(i),s=t(411),l=r(s),c=t(429),d=r(c),u=t(866),p=r(u),m=t(870),f=r(m),g=t(489),h=r(g),v=t(871),b=r(v),y=t(872),D=r(y),I=t(873),S=r(I);t(874),t(656),a.default.module("app",[o.default,l.default,d.default,"angucomplete-alt"]).config(["$locationProvider","$httpProvider",function(e,t){"ngInject";e.html5Mode(!0).hashPrefix("!"),t.interceptors.push("app_intercept")}]).component("app",p.default).service("app_intercept",b.default).service("appService",["$http","$q",f.default]).service("commonService",["$http","$q",h.default]).service("commonStorage",D.default).service("crudService",S.default).filter("INR",function(){return function(e){if(null!=e&&(e=parseInt(e.toString().replace(/,/g,""))),!isNaN(e)&&null!==e){var t=e.toString().split(".");t[0].includes(",")&&(t[0]=parseInt(e.replace(/,/g,"")));var r=t[0].substring(t[0].length-3),n=t[0].substring(0,t[0].length-3);""!=n&&(r=","+r);var a=n.replace(/\B(?=(\d{2})+(?!\d))/g,",")+r;return t.length>1&&(a+="."+t[1]),a}}}).filter("startFrom",function(){return function(e,t){if(void 0!=e||null!=e)return e.slice(t)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(412),o=r(i),s=t(421),l=r(s),c=t(427),d=r(c),u=a.default.module("app.common",[o.default,l.default,d.default]).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(413),l=r(s),c=a.default.module("navbar",[o.default]).component("navbar",l.default).name;exports.default=c},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(414),a=r(n),i=t(415),o=r(i);t(417);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<nav class="navbar">\r\n  <div class="logo">\r\n    <h1><a ui-sref="home">{{ $ctrl.name }}</a></h1>\r\n  </div>\r\n  <div class="nav-links">\r\n    <span><a ui-sref="about">about</a></span>\r\n  </div>\r\n</nav>\r\n'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="navbar"};exports.default=i},,function(e,exports,t){var r=t(418);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body,html{height:100%!important}.navbar{height:6.5rem;background-color:#0277bd;padding:1rem}.navbar .logo,.navbar .nav-links{display:inline-block}.navbar .logo{color:#f5f5f5;margin-right:50%}.navbar .nav-links span{color:#f5f5f5;font-size:1.6rem}",""])},,,function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(422),l=r(s),c=a.default.module("hero",[o.default]).component("hero",l.default).name;exports.default=c},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(423),a=r(n),i=t(424),o=r(i);t(425);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports=""},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="hero"};exports.default=i},function(e,exports,t){var r=t(426);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body,html{height:100%!important}.hero{background-color:#263238;height:50rem;padding:3rem}.hero *{color:#f5f5f5}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(428),o=r(i),s=a.default.module("user",[]).factory("User",o.default).name;exports.default=s},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){var e={},t=function(){return e},r=function(){return e.isSignedIn};return{getUser:t,isSignedIn:r}};exports.default=t},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(430),o=r(i),s=t(458),l=r(s),c=t(464),d=r(c),u=t(470),p=r(u),m=t(484),f=r(m),g=t(642),h=r(g),v=t(649),b=r(v),y=t(657),D=r(y),I=t(664),S=r(I),k=t(708),R=r(k),x=t(715),A=r(x),C=t(739),w=r(C),P=t(746),N=r(P),_=t(753),O=r(_),M=t(760),B=r(M),E=t(767),q=r(E),F=t(774),j=r(F),L=t(789),U=r(L),T=t(794),Y=r(T),z=t(811),G=r(z),V=t(828),W=r(V),Z=t(840),J=r(Z),Q=t(854),H=r(Q),X=a.default.module("app.components",[U.default,o.default,l.default,d.default,p.default,f.default,h.default,b.default,D.default,S.default,R.default,A.default,w.default,N.default,O.default,B.default,q.default,j.default,Y.default,G.default,W.default,J.default,H.default]).name;exports.default=X},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(431),l=r(s),c=t(457),d=r(c),u=a.default.module("home",[o.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("home",{url:"/home/update",component:"home"})}]).component("home",l.default).service("homeService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(432),a=r(n),i=t(433),o=r(i);t(455);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20" ng-hide="$ctrl.role ==\'ipa_checker\'">\r\n        <!-- small box -->\r\n        <h1>\r\n            <!--Temp Request Dashboard -->\r\n        </h1>\r\n\r\n        <div class="row">\r\n            <h3 class=" col-sm-8 box-title">Request Dashboard</h3>\r\n\r\n            <div class="form-group col-sm-4">\r\n               \r\n                <input type="text" ng-model="$ctrl.requestType" placeholder="Search Request" class="form-control" id="description">\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation" >\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Sr No.</th>\r\n                                                <th>Request Id</th>\r\n                                                <th>Maker Id</th>\r\n                                                <th>Status</th>\r\n                                                <th>Request For</th>\r\n                                                <th>Checker Id</th>\r\n                                                <th>Request Type</th>\r\n                                                <th>Request Date</th>\r\n                                                <th>Customer Name</th>\r\n                                                <th>Action</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="request in $ctrl.arrayToDisplay | filter:$ctrl.requestType">\r\n                                            <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                            <td>{{request.requestId}}</td>\r\n                                            <td>{{request.createdBy}}</td>\r\n                                            <td>{{request.status}}</td>\r\n                                            <td>{{request.requestFor}}</td>\r\n                                            <td>{{request.checkerId}}</td>\r\n                                            <td>{{request.requestType}}</td>\r\n                                            <td>{{request.createdOn | date : "dd/MM/yyyy"}}</td>\r\n                                            <td>{{request.customerName}}</td>\r\n                                            <td>\r\n                                                <button class="btn btn-primary" data-toggle="tooltip" title="View" ng-click="$ctrl.viewRequest(request)">\r\n                                                    <i class="fa fa-align-justify"></i>\r\n                                                </button>\r\n                                            </td>\r\n                                    </table>\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-click="$ctrl.jumpToFirst()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                            </li>\r\n                                            &nbsp; &nbsp; &nbsp; Page {{$ctrl.pagenumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                </button>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n){(0,i.default)(this,e),this.pagenumber=1,this.pageSize=10,this.masterArray=[],this.baseUrl=c.CONFIG.BASE_URL,this.state=r,this.homeService=t,this.name="home",this.commonService=n,this.role=this.commonService.getRoleName,this.userName=this.commonService.username,this.IdList=this.commonService.IdList,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList)),this.role=this.myStorage.getItem("role"),this.getAllRequest()}return(0,s.default)(e,[{key:"getAllRequest",value:function(){var e=this;this.homeService.getAllRequest(this.pagenumber,this.pageSize).then(function(t){e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pagenumber,e.pgSize=e.pageSize,e.arrayToDisplay=t.data.serviceResponse.Request):"No Record found"==t.data.serviceError?e.disable=!0:console.log("Something went wrong")})}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pagenumber=1,this.getAllRequest()}},{key:"previous",value:function(){this.pagenumber--,this.getAllRequest()}},{key:"next",value:function(){this.pagenumber++,this.getAllRequest()}},{key:"viewRequest",value:function(e,t){var r=this;"Customer_Registration"==e.requestType?this.homeService.getCutomer(e.identity).then(function(e){r.customer=e.data.serviceResponse,r.state.go("customers/edit",{customer:r.customer})}):"Br_Registration"==e.requestType?this.homeService.getBR(e.identity).then(function(e){r.br=e.data.serviceResponse,r.state.go("boardResolution/edit",{br:r.br})}):"Cp_Registration"==e.requestType?this.homeService.getCP(e.identity).then(function(e){r.cplist=e.data.serviceResponse,r.state.go("cpReg/editCP",{cplist:r.cplist})}):"Tranche_Registration"==e.requestType?this.homeService.getTranche(e.identity).then(function(e){r.tranch=e.data.serviceResponse,r.state.go("security/editTranch",{tranch:r.tranch})}):"Deal_Registration"==e.requestType?this.homeService.getDeal(e.identity).then(function(e){r.deal=e.data.serviceResponse,r.state.go("deal/editDeal",{deal:r.deal})}):"Update_Customer"==e.requestType?this.homeService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.customer=t,r.state.go("customers/edit",{customer:r.customer})}):"Update_Br"==e.requestType?this.homeService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.br=t,r.state.go("boardResolution/edit",{br:r.br})}):"Update_CP"==e.requestType?this.homeService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.cplist=t,r.state.go("cpReg/editCP/edit",{cplist:r.cplist})}):"Update_Tranche"==e.requestType?this.homeService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.tranch=t,r.homeService.getTranche(r.tranch.id).then(function(e){r.tranch.cp=e.data.serviceResponse.cp,r.state.go("security/editTranch",{tranch:r.tranch})})}):"Update_Deal"==e.requestType&&this.homeService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.deal=t,r.homeService.getDeal(r.deal.id).then(function(e){r.deal.tranche=e.data.serviceResponse.tranche,r.state.go("deal/editDeal",{deal:r.deal})})})}},{key:"approveRequest",value:function(e){var t=prompt("Enter comment for Approve Request");if(null!=t){var r="Approved";e.checkerId=this.myStorage.getItem("userName"),e.status=r,e.comments=t,this.homeService.approveRequest(e).then(function(e){$(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus})}}},{key:"callBackRequest",value:function(e){var t=prompt("Enter comment for Callback Request");if(null!=t){if(""==t)return void alert("comment is required for CallBack Request...!");if(null!=t){if(""==t)return void alert("comment is required for CallBack Request...!");var r="CallBack";e.checkerId=this.myStorage.getItem("userName"),e.status=r,e.comments=t,this.homeService.approveRequest(e).then(function(e){$(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus&&$(".se-pre-con").hide()})}}}},{key:"rejectRequest",value:function(e){var t=prompt("Enter comment for Reject Request");if(null!=t){if(""==t)return void alert("comment is required for Reject Request...!");var r="Rejected";e.checkerId=this.myStorage.getItem("userName"),e.status=r,e.comments=t,this.homeService.approveRequest(e).then(function(e){$(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus})}}}]),e}();d.$inject=["homeService","$state","commonService"],exports.default=d},,,,,,,,,,,,,,,,,,,,,function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CONFIG={BASE_URL:"https://10.9.12.247/IPA",Base_user_logouturl:"https://10.9.12.247/DealConsolidationPlatform"}},function(e,exports,t){var r=t(456);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".home{color:red}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="homeService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllRequest",value:function(e,t){var r={method:"GET",url:c.CONFIG.BASE_URL+"/api/viewRequest",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t}};return this.http(r)}},{key:"getCutomer",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getCutomer",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getBR",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/byId",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getCP",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/cpById",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getTranche",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getTrancheById",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getDeal",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getDealbyId",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"updateRequestData",value:function(e){var t=new FormData;return t.append("identity",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/requestFor",processData:!1,headers:{"content-type":void 0},data:t})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(459),l=r(s),c=a.default.module("about",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("about",{url:"/about",component:"about"})}]).component("about",l.default).name;exports.default=c},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(460),a=r(n),i=t(461),o=r(i);t(462);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports=""},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="about"};exports.default=i},function(e,exports,t){var r=t(463);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".about{color:red}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(465),l=r(s),c=a.default.module("dashboard",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("dashboard",{url:"/dashboard",component:"dashboard"})}]).component("dashboard",l.default).name;exports.default=c},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(466),a=r(n),i=t(467),o=r(i);t(468);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section>\r\n  <div class="box nq-ipa-body-cont">\r\n    <div class="box-header">\r\n      <label class="nq-ipa-title">Dashboard</label>\r\n    </div>\r\n    <div class="box-body">\r\n      <div class="row nq-ipa-form-cont">\r\n        <div>\r\n          <ul class="nav nav-tabs">\r\n            <li class="active"><a data-toggle="tab" href="#home"> Quarterly Report</a></li>\r\n            <!-- <li><a data-toggle="tab" href="#menu1">Monthly Fees </a></li>\r\n            <li><a data-toggle="tab" href="#menu2">Quarterly Fees</a></li>\r\n            <li><a data-toggle="tab" href="#menu3">Yearly Fees</a></li>\r\n            <li><a data-toggle="tab" href="#menu3">Dealwise Fees</a></li> -->\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <table class="table table-bordered table-striped nq-ipa-qr-table">\r\n            <thead>\r\n              <tr>\r\n                <th>Sr No</th>\r\n                <th>Message</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr ng-repeat="dash in $ctrl.dashDataArr">\r\n                <td>{{ $index + 1 }}</td>\r\n                <td>{{ dash.message }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r){"ngInject";(0,i.default)(this,e),this.$http=t,this.baseURL=c.CONFIG.BASE_URL+"/api/",this.commonService=r,this.getDashboardData()}return e.$inject=["$http","commonService"],(0,s.default)(e,[{key:"getDashboardData",value:function(){var e=this,t=this.$http({method:"GET",url:this.baseURL+"getNofitications",headers:{"content-type":"application/json"}});$(".se-pre-con").show(),t.then(function(t){t.data.serviceStatus&&"success"===t.data.serviceStatus.toLowerCase()?(e.dashDataArr=t.data.serviceResponse,e.prepareData(),$(".se-pre-con").hide()):t.data.serviceStatus&&"fail"===t.data.serviceStatus.toLowerCase()&&$(".se-pre-con").hide()})}},{key:"prepareData",value:function(){this.finalDataArr=[];this.dashDataArr.forEach(function(e,t){})}}]),e}();exports.default=d},function(e,exports,t){var r=t(469);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(471),l=r(s),c=t(483),d=r(c),u=a.default.module("admin",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("admin",{url:"/admin",component:"admin"})}]).component("admin",l.default).service("AdminService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(472),a=r(n),i=t(473),o=r(i);t(481);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    <div class="col-lg-12 col-xs-20">\r\n        <h1>Select Customer</h1>\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form ng-model="$ctrl.formData" role="form" name="form" enctype="multipart/form-data">\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule,\'>\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-body">\r\n                                                <div class="form-group col-sm-6">\r\n                                                    <label for="name">Customer Name:</label>\r\n                                                    <select class="form-control" ng-model="$ctrl.customerSelected"\r\n                                                        ng-change="$ctrl.getAuditDetails()">\r\n                                                        <option ng-repeat="customer in $ctrl.custDetails"\r\n                                                            value="{{customer.id}}">{{customer.customerName}}</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div class="row" ng-if="$ctrl.auDataAvail">\r\n                        <div class="col-md-12">\r\n                            <div class="box box-primary" id="boxx">\r\n                                <!-- <form role="form" name="groupCreation"> -->\r\n                                    <div class="box-body" style="overflow-x: scroll">\r\n                                        <div ng-app=\'MyModule\'>\r\n                                            <div>\r\n                                                <table class="table table-bordered table-hover">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Sr No.</th>\r\n                                                            <th>Field</th>\r\n                                                            <th>From Value</th>\r\n                                                            <th>To Value</th>\r\n                                                            <th>Modified By</th>\r\n                                                            <th>Modified Date</th>\r\n\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tr ng-repeat="au in $ctrl.auditData">\r\n                                                        <td>{{$index+1}}</td>\r\n                                                        <td>{{au.property}}</td>\r\n                                                        <td>{{au.left}}</td>\r\n                                                        <td>{{au.right}}</td>\r\n                                                        <td>{{au.commitMetadata.author}}</td>\r\n                                                        <td>{{au.commitMetadata.commitDate |  date: "dd/MM/yyyy hh:mm:ss"}}</td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=t(474),l=(r(s),t(475),function(){function e(t,r){(0,a.default)(this,e),this.pageNumber=1,this.pageSize=10,this.auditData=[],this.auDataAvail=!1,this.createService=t,this.AdminService=r,this.name="admin",this.getCustomerDetails()}return(0,o.default)(e,[{key:"getCustomerDetails",value:function(){var e=this;this.AdminService.getAllCustomer(this.customerId,this.pageNumber,this.pageSize).then(function(t){"SUCCESS"==t.data.serviceStatus&&(e.custDetails=t.data.serviceResponse.customerList)})}},{key:"getAuditDetails",value:function(){var e=this;this.auDataAvail=!1,this.AdminService.getAuditDetails(this.customerSelected).then(function(t){if("SUCCESS"==t.data.serviceStatus){e.auDataAvail=!0;for(var r=JSON.parse(t.data.serviceResponse),n=0;n<r.length;n++)e.auditData[n]=r[n]}else alert(t.data.serviceResponse)})}}]),e}());l.$inject=["createService","AdminService"],exports.default=l},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="createService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"createCustomer",value:function(e){$(".se-pre-con").show();var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/registerCustomer",headers:{"content-type":void 0},data:e};return this.http(t)}},{key:"UpdateCustomer",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/updateCustomer",headers:{"content-type":void 0},data:e})}},{key:"uploadDocument",value:function(e,t,r,n,a){var i=new FormData;return null!=e&&i.append("ipaAggrementDoc",e[0]),null!=t&&i.append("emailFaxEndemnityDoc",t[0]),i.append("trancheId",r),i.append("dealNumber",n),i.append("customerId",a),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/uploadDocument",processData:!1,headers:{"content-type":void 0},data:i})}},{key:"downloadDoc",value:function(e,t){return this.http({method:"Post",url:c.CONFIG.BASE_URL+"/api/downloadDoc",processData:!1,headers:{"content-type":"application/json"},params:{fileName:e,customerId:t},responseType:"blob"})}}]),e}();exports.default=d},,,,,,,function(e,exports,t){var r=t(482);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);
return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="AdminService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllCustomer",value:function(e,t,r){void 0!=e&&null!=e||(e="");var n={method:"GET",url:c.CONFIG.BASE_URL+"/api/getAllCustomers",headers:{"content-type":"application/json"},params:{}};return this.http(n)}},{key:"getAuditDetails",value:function(e){var t={method:"GET",url:c.CONFIG.BASE_URL+"/admin/audit",headers:{"content-type":"application/json"},params:{id:e}};return this.http(t)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(485),l=r(s),c=t(474),d=r(c),u=(t(510),a.default.module("create",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("customers/create/reg",{url:"/customers/create/reg",component:"create"}).state("customers/edit",{url:"/customers/edit",component:"create",params:{customer:null}})}]).directive("filesInput",function(){return{require:"ngModel",link:function(e,t,r,n){t.on("change",function(e){var r=t[0].files;n.$setViewValue(r)})}}}).component("create",l.default).service("createService",d.default).name);exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(486),a=r(n),i=t(487),o=r(i);t(640);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    <div class="col-lg-12 col-xs-20">\r\n\r\n        <h1>\r\n            Customer Onboarding\r\n        </h1>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form ng-model="$ctrl.formData" role="form" name="form" enctype="multipart/form-data"\r\n                        ng-init="$ctrl.onloadForm()">\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule,\'>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Customer Id:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" id="gCustomerId"\r\n                                        placeholder="Customer Id" ng-disabled="$ctrl.isEdit==true"\r\n                                        ng-pattern="/^[a-zA-Z0-9\\.]*$/" ng-model="$ctrl.form.customerId"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Name:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" id="gName"\r\n                                        placeholder="Customer name" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                                        ng-model="$ctrl.form.customerName"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit==true"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="col-sm-12">\r\n                                    <input type="checkbox" id="isNotAxisAccount" ng-model="$ctrl.form.isNotAxisAccount"\r\n                                        ng-change="$ctrl.notAxisBankStatusChange()"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit==true">\r\n                                    <span> Not an Axis AC</span>\r\n                                </div>\r\n\r\n                                <div ng-show="$ctrl.form.isNotAxisAccount" class="form-group">\r\n                                    <div class="form-group col-sm-6">\r\n                                        <label for="name">Bank Name:\r\n                                            <span style="color: red">*\r\n                                        </label>\r\n                                        <!--ng-pattern="/^[0-9\\.]*$/"-->\r\n                                        <!-- <span ng-show="form.bankName.$touched && form.bankName.$error.required"> <p style="color: red">name is required. </p></span> -->\r\n                                        <input type="text" class="form-control input-group-lg reg_name"\r\n                                            placeholder="Bank Name" id="bankName" name="bankName"\r\n                                            ng-required="!$ctrl.form.isNotAxisAccount" ng-model="$ctrl.form.bankName"\r\n                                            ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                            autocomplete="off">\r\n                                    </div>\r\n                                    <div class="form-group col-sm-6">\r\n                                        <label for="name">Other A/c IFSC Code:\r\n                                            <span style="color: red">*\r\n                                        </label>\r\n                                        <!--ng-pattern="/^[0-9\\.]*$/"-->\r\n                                        <input type="text" class="form-control input-group-lg reg_name"\r\n                                            placeholder="Other Account IFSC code" id="ifscCode"\r\n                                            ng-required="!$ctrl.form.isNotAxisAccount" ng-model="$ctrl.form.ifscCode"\r\n                                            ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                    <div class="form-group col-sm-6">\r\n                                        <label for="name">Other Bank A/c No:\r\n                                            <span style="color: red">*\r\n                                        </label>\r\n                                        <input type="text" class="form-control input-group-lg reg_name"\r\n                                            placeholder="Account Number" ng-pattern="/^[0-9\\.]*$/" id="gAccountNo"\r\n                                            ng-change="$ctrl.accountNoValidation($event)"\r\n                                            ng-required="!$ctrl.form.isNotAxisAccount"\r\n                                            ng-model="$ctrl.form.otherBankAccount"\r\n                                            ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Axis A/c IFSC Code:\r\n                                        <span style="color: red" ng-hide="$ctrl.form.isNotAxisAccount">*\r\n                                    </label>\r\n                                    <!--ng-pattern="/^[0-9\\.]*$/"-->\r\n                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                        placeholder="Axis Account IFSC code" id="ifscCode"\r\n                                        ng-model="$ctrl.form.axisIfscCode" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Axis A/c No:\r\n                                        <span style="color: red" ng-hide="$ctrl.form.isNotAxisAccount">*\r\n                                    </label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                        placeholder="Account Number" ng-pattern="/^[0-9\\.]*$/" id="gAccountNo"\r\n                                        ng-change="$ctrl.accountNoValidation($event)"\r\n                                        ng-model="$ctrl.form.accountNumber" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <!-- <div class="form-group col-sm-6">\r\n                                    <label for="name">Axis A/c Branch Code:\r\n                                        <span style="color: red" ng-hide="$ctrl.form.isNotAxisAccount">*\r\n                                    </label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" placeholder="Axis A/c Branch Code" ng-pattern="/^[0-9\\.]*$/" id="gAccountNo"\r\n                                        ng-model="$ctrl.form.axisAccBranchCode" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                </div> -->\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Axis A/c Branch Code:\r\n                                        <span style="color: red" ng-hide="$ctrl.form.isNotAxisAccount">*</span>\r\n                                    </label>\r\n                                    <!-- ng-pattern="/^[0-9\\.]*$/" -->\r\n                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                        placeholder="Axis A/c Branch Code" id="gDAccountNo"\r\n                                        ng-pattern="/^[a-zA-Z0-9\\.]*$/" ng-model="$ctrl.form.axisAccBranchCode"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Designated A/c IFSC Code:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <!-- ng-pattern="/^[0-9\\.]*$/" -->\r\n                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                        placeholder="Designated A/c IFSC " id="gDAccountNoIfsc"\r\n                                        ng-pattern="/^[a-zA-Z0-9\\.]*$/" ng-model="$ctrl.form.designatedAccIfsc"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Designated A/c No:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                        placeholder="Designated A/c No" ng-pattern="/^[0-9\\.]*$/" id="gAccountNo"\r\n                                        ng-model="$ctrl.form.designatedAccountNumber"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                </div>\r\n\r\n                                <!-- <div class="form-group col-sm-6">\r\n                                    <label for="name">Designated A/c Branch Code:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" placeholder="Designated A/c Branch Code" ng-pattern="/^[0-9\\.]*$/"\r\n                                        id="gAccountNo" ng-model="$ctrl.form.desigAccBranchCode" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                </div> -->\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Designated A/c Branch Code:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <!-- ng-pattern="/^[0-9\\.]*$/" -->\r\n                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                        placeholder="Designated A/c Branch Code" id="gDAccountNo"\r\n                                        ng-pattern="/^[a-zA-Z0-9\\.]*$/" ng-model="$ctrl.form.desigAccBranchCode"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                </div>\r\n\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">GST No:</label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" id="gGSTNo"\r\n                                        placeholder="GST Number" ng-pattern="/^[a-zA-Z0-9]+$/"\r\n                                        ng-model="$ctrl.form.gstNo" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="email">Email:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="email" class="form-control input-group-lg reg_name" id="gEmail"\r\n                                        placeholder="Email Address" ng-change="$ctrl.emailValidation($event)"\r\n                                        ng-pattern="/^[\\w\\-\\.\\+]+\\@[a-zA-Z0-9\\.\\-]+\\.[a-zA-z0-9]{2,4}$/"\r\n                                        ng-model="$ctrl.form.email" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                    <spam ng-show="$ctrl.validMail==false">Enter valid email Id</spam>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Contact Number:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" id="gcontactNo" placeholder="Contact Number"\r\n                                        ng-pattern="/^[0-9\\.]*$/" minlength="10" maxlength="10"\r\n                                        ng-model="$ctrl.form.contactNumber" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">LEI Number:</label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" id="gLEINumber"\r\n                                        placeholder="LEI Number" ng-pattern="/^[a-zA-Z0-9]+$/"\r\n                                        ng-model="$ctrl.form.leiNumber" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">LEI Maturity Date:\r\n\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <div class="input-group-addon">\r\n                                            <i class="fa fa-calendar"></i>\r\n                                        </div>\r\n                                        <input id="dtpFilter4" type="text" placeholder="dd/mm/yyyy" class="form-control"\r\n                                            data-date-format="dd/mm/yyyy" ng-model="$ctrl.form.leiMaturityDate"\r\n                                            ng-disabled="$ctrl.isChecked==true" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                            autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <!-- Net Worth:  {{ $ctrl.form.netWorth | INR}} -->\r\n                                    <label for="name">Net Worth:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <span class="input-group-addon">\r\n                                            <i class="fa fa-inr"></i>\r\n                                        </span>\r\n                                        <input type="text" class="form-control input-group-lg reg_name" id="gNetWorth"\r\n                                            placeholder="Net Worth" ng-model="$ctrl.form.netWorth"\r\n                                            ng-change="$ctrl.form.netWorth = ($ctrl.form.netWorth | INR)"\r\n                                            ng-init="$ctrl.form.netWorth = ($ctrl.form.netWorth | INR)"\r\n                                            ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Working Capital:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <span class="input-group-addon">\r\n                                            <i class="fa fa-inr"></i>\r\n                                        </span>\r\n                                        <!-- ng-pattern="/^[0-9]\\d{0,500}?%?$/"  -->\r\n                                        <input ng-init="$ctrl.form.workingCapital = ($ctrl.form.workingCapital | INR)"\r\n                                            type="text" class="form-control input-group-lg reg_name"\r\n                                            id="gWorkingCapital" placeholder="Working Capital"\r\n                                            ng-model="$ctrl.form.workingCapital"\r\n                                            ng-change="$ctrl.form.workingCapital = ($ctrl.form.workingCapital | INR)"\r\n                                            ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-12">&nbsp;\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Registered Office:</label>\r\n                                    <textarea rows="5" class="form-control" id="gAddress2"\r\n                                        placeholder="Registered office" ng-model="$ctrl.form.address1"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off"></textarea>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Corporate Office:</label>\r\n                                    <textarea rows="5" class="form-control input-group-lg" id="gAddress1"\r\n                                        placeholder="Corporate Office" ng-model="$ctrl.form.address2"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off"></textarea>\r\n                                </div>\r\n\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Contact 1:</label>\r\n                                    <input type="email" class="form-control" id="gContact1" placeholder="Contact Number"\r\n                                        ng-pattern="/^[\\w\\-\\.\\+]+\\@[a-zA-Z0-9\\.\\-]+\\.[a-zA-z0-9]{2,4}$/"\r\n                                        ng-model="$ctrl.form.contact1" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Contact 2:</label>\r\n                                    <input type="email" class="form-control" id="gContact2" placeholder="Contact Number"\r\n                                        ng-pattern="/^[\\w\\-\\.\\+]+\\@[a-zA-Z0-9\\.\\-]+\\.[a-zA-z0-9]{2,4}$/"\r\n                                        ng-model="$ctrl.form.contact2" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Contact 3:</label>\r\n                                    <input type="email" class="form-control" id="gContact3" placeholder="Contact Number"\r\n                                        ng-pattern="/^[\\w\\-\\.\\+]+\\@[a-zA-Z0-9\\.\\-]+\\.[a-zA-z0-9]{2,4}$/"\r\n                                        ng-model="$ctrl.form.contact3" ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                        autocomplete="off">\r\n                                </div>\r\n\r\n                                <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n\r\n                                <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-heading">\r\n                                                <div class="row" ng-init="ipaAgree=\'false\'">\r\n                                                    <h4 class="panel-title col-sm-3">\r\n                                                        <b>IPA Agreement:</b>\r\n                                                    </h4>\r\n\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                            <div>\r\n                                                <div class="panel-body">\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">IPA Fees Frequency:</label>\r\n                                                        <select class="form-control" ng-model="$ctrl.form.ipaFrequency"\r\n                                                            ng-change="$ctrl.validateIpaFrequency()">\r\n                                                            <option value="">Select</option>\r\n                                                            <option value="Yearly">Yearly</option>\r\n                                                            <option value="Quarterly">Quarterly</option>\r\n                                                            <option value="Monthly">Monthly</option>\r\n                                                            <option value="Dealwise">Dealwise</option>\r\n                                                            <option value="percentFees">Percent Fees</option>\r\n\r\n                                                        </select>\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">IPA Fees:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <span class="input-group-addon">\r\n                                                                <i class="fa fa-inr"></i>\r\n                                                            </span>\r\n                                                            <input type="number" class="form-control" id="gIpafees"\r\n                                                                placeholder="IPA Fees" maxlength="100"\r\n                                                                ng-pattern="/^[0-9]\\d{0,100}?%?$/"\r\n                                                                ng-model="$ctrl.form.ipaFees"\r\n                                                                ng-change="$ctrl.calculateFees()"\r\n                                                                ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                                                ng-disabled="$ctrl.isIpaFeqDisable==true">\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">GST:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <span class="input-group-addon">\r\n                                                                <i class="fa fa-inr"></i>\r\n                                                            </span>\r\n                                                            <input type="number" min="1" class="form-control"\r\n                                                                id="gIpafees" placeholder="GST" maxlength="100"\r\n                                                                ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,5})?%?$/"\r\n                                                                ng-model="$ctrl.form.gst" readonly>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n                                                    <div class="form-group col-sm-12">\r\n                                                        <label for="name">Total Fees:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <span class="input-group-addon">\r\n                                                                <i class="fa fa-inr"></i>\r\n                                                            </span>\r\n                                                            <input type="number" min="1" class="form-control"\r\n                                                                id="gIpafees" placeholder="Total IPA Fees"\r\n                                                                maxlength="100"\r\n                                                                ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,5})?%?$/"\r\n                                                                ng-model="$ctrl.form.totalFees" readonly>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class="panel-element">\r\n                                                        <div class="panel-group" id="accordion">\r\n                                                            <div class="panel panel-default">\r\n                                                                <div class="panel-heading">\r\n                                                                    <div class="row" ng-init="tds=\'false\'">\r\n                                                                        <h4 class="panel-title col-sm-3">\r\n                                                                            <b>TDS:&nbsp;&nbsp;&nbsp;</b>\r\n                                                                        </h4>\r\n                                                                        <button type="button"\r\n                                                                            ng-class="{ \'active\': $ctrl.form.isTDS}"\r\n                                                                            ng-click="$ctrl.change($ctrl.form.isTDS= !$ctrl.form.isTDS)"\r\n                                                                            class="btn btn-toggle btn-lg col-sm-3"\r\n                                                                            autocomplete="off">\r\n                                                                            <div class="handle"></div>\r\n                                                                        </button>\r\n\r\n                                                                    </div>\r\n                                                                </div>\r\n\r\n                                                                <div ng-show="$ctrl.form.isTDS">\r\n                                                                    <div class="form-group col-sm-6 panel-body">\r\n                                                                        <label for="name"> % TDS:\r\n                                                                            <span style="color: red">*</span>\r\n                                                                        </label>\r\n                                                                        <div class="input-group">\r\n                                                                            <span class="input-group-addon">\r\n                                                                                <i class="fa fa-inr"></i>\r\n                                                                            </span>\r\n                                                                            <input type="number" min="1"\r\n                                                                                class="form-control" id="gIpafees"\r\n                                                                                placeholder="TDS" maxlength="100"\r\n                                                                                ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,5})?%?$/"\r\n                                                                                ng-model="$ctrl.form.tdsAmt"\r\n                                                                                ng-change="$ctrl.calTds()">\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n\r\n                                                                <div ng-show="$ctrl.form.isTDS">\r\n                                                                    <div class="panel-body">\r\n                                                                        <div class="form-group col-sm-6">\r\n                                                                            <label for="name">TDS:</label>\r\n                                                                            <div class="input-group">\r\n                                                                                <span class="input-group-addon">\r\n                                                                                    <i class="fa fa-inr"></i>\r\n                                                                                </span>\r\n                                                                                <input type="number" min="1"\r\n                                                                                    class="form-control" id="gIpafees"\r\n                                                                                    placeholder="TDS" maxlength="100"\r\n                                                                                    ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,5})?%?$/"\r\n                                                                                    ng-model="$ctrl.form.tds" readonly>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                        <div class="form-group col-sm-6">\r\n                                                                            &nbsp;\r\n                                                                        </div>\r\n                                                                        <div class="form-group col-sm-12">\r\n                                                                            &nbsp;\r\n                                                                        </div>\r\n\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">IPA Agreement Date:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <div class="input-group-addon">\r\n                                                                <i class="fa fa-calendar"></i>\r\n                                                            </div>\r\n                                                            <input id="dtpFilter" type="text" class="form-control"\r\n                                                                placeholder="dd/mm/yyyy" data-date-format="dd/mm/yyyy"\r\n                                                                ng-model="$ctrl.form.ipaAggrementDate"\r\n                                                                ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                                                autocomplete="off">\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">IPA Agreement Expiry Date:\r\n\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <div class="input-group-addon">\r\n                                                                <i class="fa fa-calendar"></i>\r\n                                                            </div>\r\n                                                            <input id="dtpFilter1" type="text" placeholder="dd/mm/yyyy"\r\n                                                                class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                                ng-change="$ctrl.checkedExpiryLimit()"\r\n                                                                ng-model="$ctrl.form.ipaAggrementExpirydate"\r\n                                                                ng-disabled="$ctrl.isChecked==true"\r\n                                                                ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                                                autocomplete="off">\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div style="padding-left: 603px">\r\n                                                        <input type="checkbox" style="zoom: 1.2;"\r\n                                                            ng-model="$ctrl.expiry"\r\n                                                            ng-disabled="$ctrl.isCheckedExpiry==true"\r\n                                                            ng-change="$ctrl.checkedIPA()"\r\n                                                            ng-checked="$ctrl.isExpiry" />\r\n                                                        <label class="form-check-label"\r\n                                                            style="padding-left:2px; padding-bottom: 2px"\r\n                                                            for="checkbox101">Perpetual</label>\r\n                                                    </div>\r\n\r\n\r\n                                                    <div class="col-sm-12">&nbsp;\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">Documents:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <input id="ipaDoc" class="ipa" type="file" name="datafile"\r\n                                                            files-input ng-model="$ctrl.ipaAggrementDoc"\r\n                                                            ng-change="$ctrl.checkFileSize($ctrl.ipaAggrementDoc)"\r\n                                                            multiple />\r\n                                                    </div>\r\n\r\n                                                    <div class="col-sm-12">&nbsp;\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                                        <label>Download:</label>\r\n                                                        <a id="ipaDoc" href=""\r\n                                                            ng-click="$ctrl.downloadDoc($ctrl.ipaDoc)">IPA agreement document</a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-heading">\r\n                                                <div class="row" ng-init="defaulter=\'false\'">\r\n                                                    <h4 class="panel-title col-sm-3"> Defaulter: &nbsp;&nbsp;&nbsp;</h4>\r\n                                                    <button type="button" ng-class="{ \'active\': $ctrl.form.isDefaulter}"\r\n                                                        ng-click="$ctrl.change($ctrl.form.isDefaulter= !$ctrl.form.isDefaulter)"\r\n                                                        class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                                        <div class="handle"></div>\r\n                                                    </button>\r\n\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                            <div ng-show="$ctrl.form.isDefaulter">\r\n                                                <div class="panel-body">\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">Default Date:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <div class="input-group-addon">\r\n                                                                <i class="fa fa-calendar"></i>\r\n                                                            </div>\r\n                                                            <input id="dtpFilter2" type="text" placeholder="dd/mm/yyyy"\r\n                                                                class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                                ng-model="$ctrl.form.defaultDate"\r\n                                                                ng-change="$ctrl.validateDefaulterDate()"\r\n                                                                ng-readonly="$ctrl.role==\'ipa_checker\'"\r\n                                                                autocomplete="off">\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">Default Period End Date:\r\n                                                            <span style="color: red">*</span>\r\n                                                        </label>\r\n                                                        <div class="input-group">\r\n                                                            <div class="input-group-addon">\r\n                                                                <i class="fa fa-calendar"></i>\r\n                                                            </div>\r\n                                                            <input id="" type="text" placeholder="dd/mm/yyyy"\r\n                                                                class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                                ng-model="$ctrl.form.defaultPeriodEndDate" readonly>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        &nbsp;\r\n                                                    </div>\r\n                                                    <div class="form-group col-sm-12">\r\n                                                        &nbsp;\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-heading">\r\n                                                <div class="row" ng-init="defaulter=\'false\'">\r\n                                                    <h4 class="panel-title col-sm-3"> Email Fax Indemnity:\r\n                                                        &nbsp;&nbsp;&nbsp;</h4>\r\n                                                    <button type="button"\r\n                                                        ng-class="{ \'active\': $ctrl.form.isEmailFaxEndemnity}"\r\n                                                        ng-click="$ctrl.change($ctrl.form.isEmailFaxEndemnity= !$ctrl.form.isEmailFaxEndemnity)"\r\n                                                        class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                                        <div class="handle"></div>\r\n                                                    </button>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                            <div ng-show="$ctrl.form.isEmailFaxEndemnity">\r\n                                                <div class="panel-body">\r\n\r\n                                                    <div class="form-group col-sm-12">\r\n                                                        &nbsp;\r\n                                                    </div>\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">Documents:</label>\r\n                                                        <input id="emailFaxEndemnityDoc" type="file" name="datafile"\r\n                                                            size="40" files-input ng-model="$ctrl.emailFaxEndemnityDoc"\r\n                                                            ng-change="$ctrl.checkFileSize($ctrl.emailFaxEndemnityDoc,\'emailFaxEndemnityDoc\')" />\r\n                                                    </div>\r\n                                                    <div class="col-sm-12">&nbsp;\r\n                                                    </div>\r\n                                                    <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                                        <label>Download:</label>\r\n                                                        <a id="emailFaxDoc" href=""\r\n                                                            ng-click="$ctrl.downloadDoc($ctrl.emailFaxDoc)">{{$ctrl.emailFaxDoc}}</a>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-heading">\r\n                                                <div class="row" ng-init="defaulter=\'false\'">\r\n                                                    <h4 class="panel-title col-sm-3"> User Active: &nbsp;&nbsp;&nbsp;\r\n                                                    </h4>\r\n                                                    <button type="button"\r\n                                                        ng-class="{ \'active\': $ctrl.form.isUserActive}"\r\n                                                        ng-click="$ctrl.changeUserActivationStatus($ctrl.form.isUserActive= !$ctrl.form.isUserActive)"\r\n                                                        class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                                        <div class="handle"></div>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n                                <div class="col-sm-5">&nbsp;\r\n                                </div>\r\n                                <div class="col-sm-3">\r\n                                    <!-- <button type="submit" class="btn btn-primary" ng-click="$ctrl.create()" ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit"\r\n                                        ng-disabled="( !$ctrl.form.customerId || !$ctrl.form.customerName || !$ctrl.form.accountNumber || !$ctrl.form.contactNumber || !$ctrl.form.email || !$ctrl.form.netWorth || \r\n                                        !$ctrl.form.workingCapital || ) || !$ctrl.isIpaFeqDisable  && (!$ctrl.form.ipaFees || !$ctrl.form.gst || !$ctrl.form.totalFees)">Submit</button> -->\r\n\r\n                                    <!-- This below submit button is ONLY for Axis Account Submission -->\r\n                                    <button type="submit" id="axisacount" class="btn btn-primary"\r\n                                        ng-click="$ctrl.createCustomer()"\r\n                                        ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit || $ctrl.form.isNotAxisAccount"\r\n                                        ng-disabled="!$ctrl.form.customerId || !$ctrl.form.customerName  || !$ctrl.form.axisIfscCode || !$ctrl.form.accountNumber || !$ctrl.form.axisAccBranchCode \r\n                                        || !$ctrl.form.designatedAccIfsc || !$ctrl.form.designatedAccountNumber || !$ctrl.form.desigAccBranchCode \r\n                                        || !$ctrl.form.contactNumber || !$ctrl.form.email || !$ctrl.form.netWorth \r\n                                        || !$ctrl.form.workingCapital ||  ($ctrl.isTDSEmpty) || !$ctrl.form.ipaAggrementDate || !$ctrl.isIpaFeqDisable  && ( !$ctrl.form.ipaFees || !$ctrl.form.gst || !$ctrl.form.totalFees )">Submit</button>\r\n\r\n                                    <!-- This below Submit button is for NOT an Axis Account condition -->\r\n                                    <button type="submit" id="notaxisacount" class="btn btn-primary"\r\n                                        ng-click="$ctrl.createCustomer()"\r\n                                        ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit || !$ctrl.form.isNotAxisAccount"\r\n                                        ng-disabled="!$ctrl.form.customerId || !$ctrl.form.customerName || !$ctrl.form.bankName\r\n                                        || !$ctrl.form.ifscCode || !$ctrl.form.otherBankAccount  \r\n                                        || !$ctrl.form.designatedAccIfsc || !$ctrl.form.designatedAccountNumber || !$ctrl.form.desigAccBranchCode\r\n                                        || !$ctrl.form.contactNumber || !$ctrl.form.email || !$ctrl.form.netWorth \r\n                                        || !$ctrl.form.workingCapital ||  ($ctrl.isTDSEmpty) || !$ctrl.form.ipaAggrementDate \r\n                                        || !$ctrl.isIpaFeqDisable  && ( !$ctrl.form.ipaFees || !$ctrl.form.gst || !$ctrl.form.totalFees )">Submit</button>\r\n\r\n\r\n                                    <!-- ng-show="$ctrl.isEdit && $ctrl.role==\'ipa_maker\'" -->\r\n                                    <!-- Update user button for NOT an Axis Account condition -->\r\n                                    <button class="btn btn-primary nq-ipa-cust-edit-na-btn"\r\n                                        ng-click="$ctrl.UpdateCustomer()"\r\n                                        ng-disabled="!$ctrl.form.customerId || !$ctrl.form.customerName  \r\n                                            || !$ctrl.form.bankName || !$ctrl.form.ifscCode || !$ctrl.form.otherBankAccount   \r\n                                            || !$ctrl.form.designatedAccIfsc || !$ctrl.form.designatedAccountNumber  || !$ctrl.form.desigAccBranchCode\r\n                                            || !$ctrl.form.contactNumber || !$ctrl.form.email || !$ctrl.form.netWorth \r\n                                            || !$ctrl.form.workingCapital ||  ($ctrl.isTDSEmpty) || !$ctrl.form.ipaAggrementDate || !$ctrl.isIpaFeqDisable  && ( !$ctrl.form.ipaFees || !$ctrl.form.gst || !$ctrl.form.totalFees )">Update</button>\r\n\r\n                                    <!-- ng-show="$ctrl.isEdit && $ctrl.role==\'ipa_maker\'"  -->\r\n                                    <!-- Below Update button for an Axis Account condition -->\r\n                                    <button class="btn btn-primary nq-ipa-cust-edit-btn"\r\n                                        ng-click="$ctrl.UpdateCustomer()"\r\n                                        ng-disabled="!$ctrl.form.customerId || !$ctrl.form.customerName  \r\n                                            || !$ctrl.form.axisIfscCode || !$ctrl.form.accountNumber || !$ctrl.form.axisAccBranchCode\r\n                                            || !$ctrl.form.designatedAccIfsc || !$ctrl.form.designatedAccountNumber || !$ctrl.form.desigAccBranchCode\r\n                                            || !$ctrl.form.contactNumber || !$ctrl.form.email || !$ctrl.form.netWorth \r\n                                            || !$ctrl.form.workingCapital ||  ($ctrl.isTDSEmpty) || !$ctrl.form.ipaAggrementDate || !$ctrl.isIpaFeqDisable  && ( !$ctrl.form.ipaFees || !$ctrl.form.gst || !$ctrl.form.totalFees )">Update</button>\r\n\r\n\r\n                                    <!--  || (!$ctrl.form.ipaFees && !$ctrl.form.gst && !$ctrl.form.totalFees) -->\r\n                                    <button type="reset" class="btn btn-default" ng-click=""\r\n                                        ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit">Reset</button>\r\n                                    <button type="submit" type="button" class="btn btn-default"\r\n                                        ng-click="$ctrl.cancelled()"\r\n                                        ng-show="$ctrl.isView && $ctrl.role==\'ipa_maker\'">Cancel</button>\r\n                                    <button class="btn btn-primary" ng-click="$ctrl.back()"\r\n                                        ng-show="$ctrl.role==\'ipa_checker\'">back</button>\r\n\r\n                                </div>\r\n\r\n                                <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n                                <div class="col-sm-5">&nbsp;\r\n                                </div>\r\n\r\n                                <div class="col-md-12">\r\n                                    <div class="alert alert-success" ng-show="$ctrl.saved==true">\r\n                                        <strong>Success!</strong> Customer successfully Registered...!\r\n                                    </div>\r\n                                    <div class="alert alert-danger" ng-show="$ctrl.faild==true">\r\n                                        <strong>Failure!</strong> Customer Already Registered...!\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n</section>\r\n<script>\r\n    $(\'#dtpFilter\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter1\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter2\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter3\').datepicker({\r\n        autoclose: true\r\n    });\r\n\r\n    $(\'#dtpFilter4\').datepicker({\r\n        autoclose: true\r\n    });\r\n</script>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=t(488),u=(n(d),t(475),t(510)),p=function(){function e(t,r,n,a,o){(0,i.default)(this,e),this.validContact=!0,this.validMail=!0,this.mailId=[],this.isChecked=!1,this.isCheckedExpiry=!1,this.formdata=new FormData,this.isIpaFeqDisable=!1,this.createService=t,this.state=n,this.name="customers_create",this.commonService=a,this.baseUrl=c.CONFIG.BASE_URL,this.$filter=o,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId)),this.mailId.push(this.myStorage.getItem("IdList")),this.role=this.myStorage.getItem("role"),r.customer&&(this.isEdit=!0,this.isView=!0,this.form=r.customer,console.log(this.form),this.ipaDoc=r.customer.ipaAggrementDoc,this.emailFaxDoc=r.customer.emailFaxEndemnityDoc,this.form.isUserActive=r.customer.isUserActive,r.customer.isIPAAggrement&&(this.form.isIPAAggrement="true"),r.customer.isDefaulter&&(this.form.isDefaulter="true"),"Unlimited"==r.customer.ipaAgreementExpiryLimit&&(this.isExpiry=!0))}return(0,s.default)(e,[{key:"emailValidation",value:function(e){var t=this.form.email,r=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;r.test(t)?this.validMail=!0:this.validMail=!1}},{key:"onloadForm",value:function(){this.notAxisBankStatusChange()}},{key:"notAxisBankStatusChange",value:function(){$(".nq-ipa-cust-edit-btn").hide(),$(".nq-ipa-cust-edit-na-btn").hide(),"ipa_maker"===this.role&&this.isEdit&&(this.form.isNotAxisAccount?$(".nq-ipa-cust-edit-na-btn").show():$(".nq-ipa-cust-edit-btn").show())}},{key:"change",value:function(e){this.isTDSEmpty=!1,this.form.isTDS?this.isTDSEmpty=!0:(this.isTDSEmpty=!1,this.form.tds=null,this.form.tdsAmt=null,this.form.totalFees=parseInt(this.form.ipaFees)+this.form.gst),!this.isTDSEmpty,(e=!this.form.isEmailFaxEndemnity&&"ipa_maker"==this.role)&&(document.getElementById("emailFaxEndemnityDoc").value=null),(e=!this.form.isDefaulter&&"ipa_maker"==this.role)&&(this.form.defaultDate=null,this.form.defaultPeriodEndDate=null)}},{key:"checkFileSize",value:function(e){var t=1048576,r=e[0].size/t;r>10&&(alert("File size should not greater than 10 MB"),document.getElementById("ipaDoc").value=null)}},{key:"calTds",value:function(){this.form.totalFees=parseInt(this.form.ipaFees)+this.form.gst,this.form.tds=this.form.ipaFees*this.form.tdsAmt/100,this.form.totalFees=parseInt(this.form.ipaFees)+this.form.gst-this.form.tds,this.form.isTDS&&this.form.tdsAmt?(this.isTDSEmpty=!1,console.log("If : isTDS "+this.form.isTDS+" && tdsAmt "+this.form.tdsAmt+" isTDSEmp : "+this.isTDSEmpty)):(this.isTDSEmpty=!0,console.log("Else : isTDS "+this.form.isTDS+" && tdsAmt "+this.form.tdsAmt+" isTDSEmp : "+this.isTDSEmpty))}},{key:"calculateFees",value:function(){var e=0,t=0;if(e=18*this.form.ipaFees/100,null!=this.form.ipaFees&&(this.form.gst=e,t=this.form.ipaFees+e,this.form.totalFees=t),null==this.form.ipaFees&&(this.form.gst=null,this.form.totalFees=null),1==this.form.isTDS){var r=this.form.ipaFees+this.form.gst-this.form.tds;this.form.tds=r}}},{key:"validateDefaulterDate",value:function(){var e=u(this.form.defaultDate,"DD/MM/YYYY"),t=new Date(e),r=t.setMonth(t.getMonth()+6),n=u(r).format("DD/MM/YYYY");this.form.defaultPeriodEndDate=n}},{key:"checkedIPA",value:function(){1==this.expiry?(this.isChecked=!0,this.form.ipaAgreementExpiryLimit="Unlimited"):(this.isChecked=!1,this.form.ipaAgreementExpiryLimit=null)}},{key:"checkedExpiryLimit",value:function(){""==this.form.ipaAggrementExpirydate?this.isCheckedExpiry=!1:this.isCheckedExpiry=!0}},{key:"validateIpaFrequency",value:function(){"percentFees"==this.form.ipaFrequency?(this.isIpaFeqDisable=!0,this.form.ipaFees=0,this.form.gst=0,this.form.totalFees=0):(this.isIpaFeqDisable=!1,this.form.ipaFees=null,this.form.gst=null,this.form.totalFees=null)}},{key:"back",value:function(){this.state.go("requests/request")}},{key:"cancelled",value:function(){this.state.go("customers/list")}},{key:"createCustomer",value:function(){var e=this;console.log(this.form),this.submitted=!0,this.form.createdBy=this.myStorage.getItem("userName"),this.form.status="Pending",this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),this.form.isNotAxisAccount&&(console.log("not axis acc: "+this.form.isNotAxisAccount),this.form.isNotAxisAccount);var t=parseInt(this.form.netWorth.replace(/,/g,""));this.form.netWorth=t;var r=this.form.workingCapital.replace(/,/g,"");this.form.workingCapital=r;var n=u(this.form.ipaAggrementDate,"DD/MM/YYYY"),a=u(this.form.ipaAggrementExpirydate,"DD/MM/YYYY");if(a<=n)return void alert("ipa Expiry Date Must be greater than Aggrement date...!");if(!(null!=this.ipaAggrementDoc&&this.ipaAggrementDoc.length>0))return void alert("Please choose IPA Agreement Document...!");var i=this.ipaAggrementDoc[0].name;this.form.ipaAggrementDoc=this.ipaAggrementDoc[0].name,this.formdata.append("uploadingFiles",this.ipaAggrementDoc[0]);var o=/(.*?)\.(pdf|PDF|doc|DOCX|docx|xls|xlsx)$/;if(!i.match(o))return void alert("IPA Aggrement Document---Invalid File...Supported only PDF,DOC,Excel file...!");if(null==this.form.ipaAggrementExpirydate&&null==this.form.ipaAgreementExpiryLimit)return void alert("choose IPA Agreement Expiry date OR select Unlimited...!");if(1==this.form.isDefaulter&&null==this.form.defaultDate&&null==this.form.defaultPeriodEndDate)return void alert("Required default Date & Default Period End Date");if(1==this.form.isEmailFaxEndemnity){if(!(null!=this.emailFaxEndemnityDoc&&this.emailFaxEndemnityDoc.length>0))return void alert("Email Fax Endemnity Document not choosed ..please choose document...!");var i=this.emailFaxEndemnityDoc[0].name;this.form.emailFaxEndemnityDoc=this.emailFaxEndemnityDoc[0].name;var o=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(this.formdata.append("uploadingFiles",this.emailFaxEndemnityDoc[0]),!i.match(o))return void alert("Email Fax Endemnity Document---Invalid File...Supported only PDF,DOC,Excel file...!")}this.formdata.append("requestInput",angular.toJson(this.form)),this.createService.createCustomer(this.formdata,angular.toJson(this.form)).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Customer Succesfully Registered...!"),e.state.go("customers/list");else{if("FAIL"==t.data.serviceResponse)return void alert("Customer Already Registered...!");if("SUCCESS"==t.data.serviceStatus&&"Unable to send email"==t.data.serviceError)alert("Customer Successfully Registered but Mail has not Send...!"),e.state.go("customers/list");else if("Error In Registerd Customer"==t.data.serviceStatus)return void alert("Error...Something went wrong...!")}})}},{key:"UpdateCustomer",value:function(){var e=this;this.form.updatedBy=this.myStorage.getItem("userName"),this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),delete this.form.br,delete this.form.cp;var t=this.form.netWorth.replace(/,/g,"");this.form.netWorth=t;var r=this.form.workingCapital.replace(/,/g,"");this.form.workingCapital=r;var n=u(this.form.ipaAggrementDate,"DD/MM/YYYY"),a=u(this.form.ipaAggrementExpirydate,"DD/MM/YYYY");if(a<=n)return void alert("ipa Expiry Date Must be greater than Aggrement date");if(null!=this.ipaAggrementDoc&&this.ipaAggrementDoc.length>0){var i=this.ipaAggrementDoc[0].name;this.form.ipaAggrementDoc=this.ipaAggrementDoc[0].name,this.formdata.append("uploadingFiles",this.ipaAggrementDoc[0]);var o=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!i.match(o))return void alert("IPA Aggrement Document---Invalid File...Supported only PDF,DOC,Excel file...!")}if(null==this.form.ipaAggrementExpirydate&&null==this.form.ipaAgreementExpiryLimit)return void alert("choose IPA Agreement Expiry date OR select Unlimited...!");if(!(1!=this.form.isDefaulter&&"true"!=this.form.isDefaulter||null!=this.form.defaultDate&&null!=this.form.defaultPeriodEndDate))return void alert("Required default Date & Default Period End Date");if((1==this.form.isEmailFaxEndemnity||"true"==this.form.isEmailFaxEndemnity)&&null!=this.emailFaxEndemnityDoc&&this.emailFaxEndemnityDoc.length>0){var i=this.emailFaxEndemnityDoc[0].name;this.form.ipaAggrementDoc=this.ipaAggrementDoc[0].name,this.formdata.append("uploadingFiles",this.ipaAggrementDoc[0]);var o=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!i.match(o))return void alert("Email Fax Endemnity Document---Invalid File...Supported only PDF,DOC,Excel File...!")}this.formdata.append("requestInput",angular.toJson(this.form)),null!=this.ipaAggrementDoc&&this.ipaAggrementDoc.length>0||null!=this.emailFaxEndemnityDoc&&this.emailFaxEndemnityDoc.length>0?this.createService.UpdateCustomer(this.formdata).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Customer Update Succesfully...!"),e.state.go("customers/list");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return void alert("Error- Something went wrong...!");alert("Customer Successfully Updated but Mail has not Send...!"),e.state.go("customers/list")}}):this.createService.UpdateCustomer(this.formdata).then(function(t){$(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus?(alert("Customer Update Succesfully...!"),e.state.go("customers/list")):"SUCCESS"==t.data.serviceStatus&&"Unable to send email"==t.data.serviceError?(alert("Customer Successfully Updated but Mail has not Send...!"),e.state.go("customers/list")):alert("Error- Something went wrong...!")})}},{key:"uploadDocument",value:function(){var e,t,r=this.form.customerId;return this.createService.uploadDocument(this.ipaAggrementDoc,this.emailFaxEndemnityDoc,e,t,r).then(function(e){return e.data})}},{key:"downloadDoc",value:function(e){var t=e.substr(e.lastIndexOf(".")+1);this.createService.downloadDoc(e,this.form.customerId).then(function(e){var r=[];r.push(e.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([e.data],{type:"application/extension"}));n.href=a,n.download="ipaAgreement."+t,n.click(),window.URL.revokeObjectURL(a)})}},{key:"changeUserActivationStatus",value:function(){console.log("Updated User Active Status :"+this.form.isUserActive),this.form.userActiveStatus=this.form.isUserActive,console.log(this.form.userActiveStatus)}}]),e}();p.$inject=["createService","$stateParams","$state","commonService","$filter"],exports.default=p},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(489),c=(n(l),t(454)),d=r(c),u=function(){function e(t,r,n){var a=this;(0,i.default)(this,e),this.data="controller injected !",this.name="appController",this.appService=t,this.commonService=n,this.myStorage=window.localStorage,this.commonService.getUserById().then(function(e){void 0!=e&&(a.myStorage.setItem("role",e),a.role=a.myStorage.getItem("role"))}),"ipa_maker"==this.myStorage.getItem("role")&&(this.userRole="ipa_checker",this.commonService.getAllCheckersDetails(this.userRole))}return(0,s.default)(e,[{key:"SignOut",value:function(){document.cookie="access-token=; Path=/;",document.cookie="loggedId=; Path=/;";var e=d.CONFIG.Base_user_logouturl;window.location.href=e}},{key:"clickhere",value:function(){}}]),e}();u.$inject=["appService","commonStorage","commonService"],exports.default=u},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(490),i=n(a),o=t(416),s=n(o),l=t(434),c=n(l),d=t(454),u=r(d),p=function(){function e(t){var r=this;(0,s.default)(this,e),this.IdList=[],this.name="commonService",this.$http=t;var n=decodeURIComponent(document.cookie),a=n.split(";");this.myStorage=window.localStorage;var i="loggedId=",o="access-token=";a.forEach(function(e){var t=e.substr(1,9),n=e.substr(1,13);if(i==t){var a=e.replace("loggedId=","").trim();r.loggerid=a}if(o==n){var s=e.replace("access-token=","").trim();r.token=s}})}return(0,c.default)(e,[{key:"setRoleName",value:function(e){this.rolename=e}},{key:"setEmailId",value:function(e){this.emailId=e}},{key:"getRoleName",value:function(){return this.rolename}},{key:"getUserById",value:function(){var e=this;return this.$http({method:"GET",url:u.CONFIG.BASE_URL+"/api/getUserDetails",headers:{"content-type":"application/json"}}).then(function(t){e.userdetails=t.data.serviceResponse,e.username=e.userdetails.username;var r,n,a=e.userdetails.roles;return e.lastTokenGenerated=e.userdetails.lastTokenGenerated,a.forEach(function(t){r=t.id,n=t.name,"ipa_checker"==n?e.setRoleName(t.name):"ipa_maker"==n&&(e.setRoleName(t.name),e.setEmailId(e.userdetails.email))}),e.getRoleName()})}},{key:"getAllCheckersDetails",value:function(e){var t=this;return this.$http({method:"GET",url:u.CONFIG.BASE_URL+"/api/getAllCheckersId",headers:{"content-type":"application/json",Authorization:"Token "+this.token},params:{userRole:e}}).then(function(e){t.userData=e.data.serviceResponse,t.userData.forEach(function(e){e.forEach(function(e){t.keys=(0,i.default)(e),t.keys.forEach(function(r){"email"==r&&t.IdList.push(e.email)})})}),t.myStorage.setItem("IdList",t.IdList)})}},{key:"buildAndPushFile",value:function(e,t){var r=new Blob([e],{}),n=(window.URL||window.webkitURL).createObjectURL(r),a=angular.element("<a/>");a.attr({href:n,download:t})[0].click()}},{key:"displayMsg",value:function(e){$(".nq-ipa-errbox-msgbox").text(e.msg),$(".nq-ipa-errbox").show();var t=5e3;"warn"==e.type&&($("nq-ipa-errbox-img").addClass("warn"),t=1e4),setTimeout(function(){$(".nq-ipa-errbox").hide()},t)}}]),e}();exports.default=p},,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){function r(e){return t(n(e))}function n(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./af":513,"./af.js":513,"./ar":514,"./ar-dz":515,"./ar-dz.js":515,"./ar-kw":516,"./ar-kw.js":516,"./ar-ly":517,"./ar-ly.js":517,"./ar-ma":518,"./ar-ma.js":518,"./ar-sa":519,"./ar-sa.js":519,"./ar-tn":520,"./ar-tn.js":520,"./ar.js":514,"./az":521,"./az.js":521,"./be":522,"./be.js":522,"./bg":523,"./bg.js":523,"./bm":524,"./bm.js":524,"./bn":525,"./bn.js":525,"./bo":526,"./bo.js":526,"./br":527,"./br.js":527,"./bs":528,"./bs.js":528,"./ca":529,"./ca.js":529,"./cs":530,"./cs.js":530,"./cv":531,"./cv.js":531,"./cy":532,"./cy.js":532,"./da":533,"./da.js":533,"./de":534,"./de-at":535,"./de-at.js":535,"./de-ch":536,"./de-ch.js":536,"./de.js":534,"./dv":537,"./dv.js":537,"./el":538,"./el.js":538,"./en-SG":539,"./en-SG.js":539,"./en-au":540,"./en-au.js":540,"./en-ca":541,"./en-ca.js":541,"./en-gb":542,"./en-gb.js":542,"./en-ie":543,"./en-ie.js":543,"./en-il":544,"./en-il.js":544,"./en-nz":545,"./en-nz.js":545,"./eo":546,"./eo.js":546,"./es":547,"./es-do":548,"./es-do.js":548,"./es-us":549,"./es-us.js":549,"./es.js":547,"./et":550,"./et.js":550,"./eu":551,"./eu.js":551,"./fa":552,"./fa.js":552,"./fi":553,"./fi.js":553,"./fo":554,"./fo.js":554,"./fr":555,"./fr-ca":556,"./fr-ca.js":556,"./fr-ch":557,"./fr-ch.js":557,"./fr.js":555,"./fy":558,"./fy.js":558,"./ga":559,"./ga.js":559,"./gd":560,"./gd.js":560,"./gl":561,"./gl.js":561,"./gom-latn":562,"./gom-latn.js":562,"./gu":563,"./gu.js":563,"./he":564,"./he.js":564,"./hi":565,"./hi.js":565,"./hr":566,"./hr.js":566,"./hu":567,"./hu.js":567,"./hy-am":568,"./hy-am.js":568,"./id":569,"./id.js":569,"./is":570,"./is.js":570,"./it":571,"./it-ch":572,"./it-ch.js":572,"./it.js":571,"./ja":573,"./ja.js":573,"./jv":574,"./jv.js":574,"./ka":575,"./ka.js":575,"./kk":576,"./kk.js":576,"./km":577,"./km.js":577,"./kn":578,"./kn.js":578,"./ko":579,"./ko.js":579,"./ku":580,"./ku.js":580,"./ky":581,"./ky.js":581,"./lb":582,"./lb.js":582,"./lo":583,"./lo.js":583,"./lt":584,"./lt.js":584,"./lv":585,"./lv.js":585,"./me":586,"./me.js":586,"./mi":587,"./mi.js":587,"./mk":588,"./mk.js":588,"./ml":589,"./ml.js":589,"./mn":590,"./mn.js":590,"./mr":591,"./mr.js":591,"./ms":592,"./ms-my":593,"./ms-my.js":593,"./ms.js":592,"./mt":594,"./mt.js":594,"./my":595,"./my.js":595,"./nb":596,"./nb.js":596,"./ne":597,"./ne.js":597,"./nl":598,"./nl-be":599,"./nl-be.js":599,"./nl.js":598,"./nn":600,"./nn.js":600,"./pa-in":601,"./pa-in.js":601,"./pl":602,"./pl.js":602,"./pt":603,"./pt-br":604,"./pt-br.js":604,"./pt.js":603,"./ro":605,"./ro.js":605,"./ru":606,"./ru.js":606,"./sd":607,"./sd.js":607,"./se":608,"./se.js":608,"./si":609,"./si.js":609,"./sk":610,"./sk.js":610,"./sl":611,"./sl.js":611,"./sq":612,"./sq.js":612,"./sr":613,"./sr-cyrl":614,"./sr-cyrl.js":614,"./sr.js":613,"./ss":615,"./ss.js":615,"./sv":616,"./sv.js":616,"./sw":617,"./sw.js":617,"./ta":618,"./ta.js":618,"./te":619,"./te.js":619,"./tet":620,"./tet.js":620,"./tg":621,"./tg.js":621,"./th":622,"./th.js":622,"./tl-ph":623,"./tl-ph.js":623,"./tlh":624,"./tlh.js":624,"./tr":625,"./tr.js":625,"./tzl":626,"./tzl.js":626,"./tzm":627,"./tzm-latn":628,"./tzm-latn.js":628,"./tzm.js":627,"./ug-cn":629,"./ug-cn.js":629,"./uk":630,"./uk.js":630,"./ur":631,"./ur.js":631,"./uz":632,"./uz-latn":633,"./uz-latn.js":633,"./uz.js":632,"./vi":634,"./vi.js":634,"./x-pseudo":635,"./x-pseudo.js":635,"./yo":636,"./yo.js":636,"./zh-cn":637,"./zh-cn.js":637,"./zh-hk":638,"./zh-hk.js":638,"./zh-tw":639,"./zh-tw.js":639};r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=512},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var r=t(641);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,'.pannel_show{height:auto}.pannel_hide{height:0}input[type=date]:before{width:100%}input[type=date]:before,input[type=date]:focus:before,input[type=date]:hover:before{content:attr(data-placeholder)}.btn-toggle{margin:0 4rem;padding:0;position:relative;border:none;height:1.5rem;width:3rem;border-radius:1.5rem;color:#6b7381;background:#bdc1c8}.btn-toggle.focus,.btn-toggle.focus.active,.btn-toggle:focus,.btn-toggle:focus.active{outline:none}.btn-toggle:after,.btn-toggle:before{line-height:1.5rem;width:4rem;text-align:center;font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle:before{content:"Off";left:-4rem}.btn-toggle:after{content:"On";right:-4rem;opacity:.5}.btn-toggle>.handle{position:absolute;top:.1875rem;left:.1875rem;width:1.125rem;height:1.125rem;border-radius:1.125rem;background:#fff;transition:left .25s}.btn-toggle.active{transition:background-color .25s}.btn-toggle.active>.handle{left:1.6875rem;transition:left .25s}.btn-toggle.active:before{opacity:.5}.btn-toggle.active:after{opacity:1}.btn-toggle.btn-sm:after,.btn-toggle.btn-sm:before{line-height:-.5rem;color:#fff;letter-spacing:.75px;left:.41250000000000003rem;width:2.325rem}.btn-toggle.btn-sm:before{text-align:right}.btn-toggle.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-sm.active:before{opacity:0}.btn-toggle.btn-xs:after,.btn-toggle.btn-xs:before{display:none}.btn-toggle:after,.btn-toggle:before{color:#6b7381}.btn-toggle.active{background-color:#c81b5d}.btn-toggle.btn-lg{margin:0 5rem;padding:0;position:relative;border:none;height:2.5rem;width:5rem;border-radius:2.5rem}.btn-toggle.btn-lg.focus,.btn-toggle.btn-lg.focus.active,.btn-toggle.btn-lg:focus,.btn-toggle.btn-lg:focus.active{outline:none}.btn-toggle.btn-lg:after,.btn-toggle.btn-lg:before{line-height:2.5rem;width:5rem;text-align:center;font-weight:600;font-size:1rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-lg:before{content:"No";left:1rem;font-weight:700}.btn-toggle.btn-lg:after{content:"Yes";right:-5rem;opacity:0}.btn-toggle.btn-lg>.handle{position:absolute;top:.3125rem;left:.3125rem;width:1.875rem;height:1.875rem;border-radius:1.875rem;background:#fff;transition:left .25s}.btn-toggle.btn-lg.active{transition:background-color .25s}.btn-toggle.btn-lg.active>.handle{left:2.8125rem;transition:left .25s}.btn-toggle.btn-lg.active:before{opacity:.5}.btn-toggle.btn-lg.active:after{opacity:1;right:1rem;color:#fff;font-size:10px}.btn-toggle.btn-lg.btn-sm:after,.btn-toggle.btn-lg.btn-sm:before{line-height:.5rem;color:#fff;letter-spacing:.75px;left:.6875rem;width:3.875rem}.btn-toggle.btn-lg.btn-sm:before{text-align:right}.btn-toggle.btn-lg.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-lg.btn-sm.active:before{opacity:0}.btn-toggle.btn-lg.btn-sm.active:after{opacity:1}.btn-toggle.btn-lg.btn-xs:after,.btn-toggle.btn-lg.btn-xs:before{display:none}.btn-toggle.btn-sm{margin:0 .5rem;padding:0;position:relative;border:none;height:1.5rem;width:3rem;border-radius:1.5rem}.btn-toggle.btn-sm.focus,.btn-toggle.btn-sm.focus.active,.btn-toggle.btn-sm:focus,.btn-toggle.btn-sm:focus.active{outline:none}.btn-toggle.btn-sm:after,.btn-toggle.btn-sm:before{line-height:1.5rem;width:.5rem;text-align:center;font-weight:600;font-size:.55rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-sm:before{content:"No";left:-.5rem}.btn-toggle.btn-sm:after{content:"Yes";right:-.5rem;opacity:.5}.btn-toggle.btn-sm>.handle{position:absolute;top:.1875rem;left:.1875rem;width:1.125rem;height:1.125rem;border-radius:1.125rem;background:#fff;transition:left .25s}.btn-toggle.btn-sm.active{transition:background-color .25s}.btn-toggle.btn-sm.active>.handle{left:1.6875rem;transition:left .25s}.btn-toggle.btn-sm.active:before{opacity:.5}.btn-toggle.btn-sm.active:after{opacity:1}.btn-toggle.btn-sm.btn-sm:after,.btn-toggle.btn-sm.btn-sm:before{line-height:-.5rem;color:#fff;letter-spacing:.75px;left:.41250000000000003rem;width:2.325rem}.btn-toggle.btn-sm.btn-sm:before{text-align:right}.btn-toggle.btn-sm.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-sm.btn-sm.active:before{opacity:0}.btn-toggle.btn-sm.btn-sm.active:after{opacity:1}.btn-toggle.btn-sm.btn-xs:after,.btn-toggle.btn-sm.btn-xs:before{display:none}.btn-toggle.btn-xs{margin:0;padding:0;position:relative;border:none;height:1rem;width:2rem;border-radius:1rem}.btn-toggle.btn-xs.focus,.btn-toggle.btn-xs.focus.active,.btn-toggle.btn-xs:focus,.btn-toggle.btn-xs:focus.active{outline:none}.btn-toggle.btn-xs:after,.btn-toggle.btn-xs:before{line-height:1rem;width:0;text-align:center;font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-xs:before{content:"Off";left:0}.btn-toggle.btn-xs:after{content:"ON";right:0;opacity:.5}.btn-toggle.btn-xs>.handle{position:absolute;top:.125rem;left:.125rem;width:.75rem;height:.75rem;border-radius:.75rem;background:#fff;transition:left .25s}.btn-toggle.btn-xs.active{transition:background-color .25s}.btn-toggle.btn-xs.active>.handle{left:1.125rem;transition:left .25s}.btn-toggle.btn-xs.active:before{opacity:.5}.btn-toggle.btn-xs.active:after{opacity:1}.btn-toggle.btn-xs.btn-sm:after,.btn-toggle.btn-xs.btn-sm:before{line-height:-1rem;color:#fff;letter-spacing:.75px;left:.275rem;width:1.55rem}.btn-toggle.btn-xs.btn-sm:before{text-align:right}.btn-toggle.btn-xs.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-xs.btn-sm.active:before{opacity:0}.btn-toggle.btn-xs.btn-sm.active:after{opacity:1}.btn-toggle.btn-xs.btn-xs:after,.btn-toggle.btn-xs.btn-xs:before{display:none}.btn-toggle.btn-secondary{color:#6b7381;background:#bdc1c8}.btn-toggle.btn-secondary:after,.btn-toggle.btn-secondary:before{color:#6b7381}.btn-toggle.btn-secondary.active{background-color:#ff8300}',""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(643),l=r(s),c=t(648),d=r(c),u=a.default.module("list",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("customers/list",{url:"/customers/list",component:"list"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("list",l.default).service("listService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(644),a=r(n),i=t(645),o=r(i);t(646);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    \r\n        <div class="col-lg-12 col-xs-20"> \r\n            <!-- small box -->\r\n           <h1>\r\n                Customer Dashboard\r\n            </h1>\r\n\r\n            \r\n            <div id="custom-search-input">\r\n                <div class="input-group col-md-3">\r\n                    <input type="text" class="form-control input-lg" minlength="3" ng-click="$ctrl.fetchCustomerRequest()" ng-change="$ctrl.fetchCustomerRequest()" placeholder="Search customer" ng-model="$ctrl.customerId"/>\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-info btn-lg" type="button">\r\n                            <i class="glyphicon glyphicon-search"></i>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n             \r\n          \r\n           \r\n          <div class="col-sm-12">&nbsp;\r\n          </div>\r\n            \r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div class="box box-primary" id="boxx">\r\n                        <form role="form" name="groupCreation">\r\n                            <div class="box-body" style="overflow-x: scroll">\r\n                                <div ng-app=\'MyModule\'>\r\n                                    <div>\r\n                                         <table class="table table-bordered table-hover">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Sr No.</th>\r\n                                                    <th>Customer Id</th>\r\n                                                    <th>Customer name</th>\r\n                                                    <th>Contact No</th>                                                    \r\n                                                    <th>Account Number</th>\r\n                                                    <th>Designated Acc Number</th>\r\n                                                    <th>GST Number</th>\r\n                                                    <th>Net Worth</th>\r\n                                                    <th>Working Capital</th>\r\n                                                    <th>Status</th>                      \r\n                                                    <th>Action</th>\r\n                                                    \r\n                                                </tr>\r\n                                            </thead>\r\n                                                <tr ng-repeat="customer in $ctrl.arrayToDisplay | filter:$ctrl.customerId" ng-hide="customer.status==\'Rejected\'">\r\n                                                    <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                                    <td>{{customer.customerId}}</td>\r\n                                                    <td>{{customer.customerName}}</td>                                                  \r\n                                                    <td>{{customer.contactNumber}}</td>\r\n                                                    <td>{{customer.accountNumber}}</td>\r\n                                                    <td>{{customer.designatedAccountNumber}}</td>\r\n                                                    <td>{{customer.gstNo}}</td>                                                                                                                                                      \r\n                                                    <td>{{customer.netWorth}}</td>\r\n                                                    <td>{{customer.workingCapital}}</td>\r\n                                                    <td>{{customer.status}}</td>\r\n                                                    <td><button class="btn btn-primary" data-toggle="tooltip" title="Edit" ng-click="$ctrl.editCustomer(customer)"><i class="glyphicon glyphicon-edit"></i></button></td>                                       \r\n                                                    \r\n                                       \r\n                                                </table>\r\n\r\n                                                <div class="row">\r\n                                                    <div class="col-sm-6">&nbsp;</div>\r\n                                                    <ul class="pager col-sm-6">\r\n                                                    <li>\r\n                                                        <button class="btn btn-default" href="#"  ng-click="$ctrl.jumpToFirst()" >\r\n                                                        <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                                    </li>\r\n                                                    <li>\r\n                                                        <button class="btn btn-default" href="#" ng-disabled="$ctrl.pageNumber == 1 " ng-click="$ctrl.previous()" >\r\n                                                        <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                                    </li>\r\n                                                          &nbsp; &nbsp; &nbsp; Page  {{$ctrl.pageNumber}} &nbsp; &nbsp; &nbsp;\r\n                                                    <li>\r\n                                                        <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                        <i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>\r\n                                                       \r\n                                                    </li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                  \r\n                                    </div>  \r\n                                                                    \r\n                                    </div> \r\n\r\n                                    <div class="col-sm-4">&nbsp</div> \r\n    \r\n                                </div>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n    </section>\r\n\r\n   \r\n';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n){(0,i.default)(this,e),this.pageNumber=1,this.pageSize=10,this.masterArray=[],this.arrayToDisplay=[],this.searchArray=[],this.initialArray=[],this.state=r,this.listService=t,this.commonService=n,this.baseUrl=c.CONFIG.BASE_URL,this.getAllCustomer(),this.name="customer_list"}return(0,s.default)(e,[{key:"getAllCustomer",value:function(){var e=this;$(".se-pre-con").show(),this.listService.getAllCustomer(this.customerId,this.pageNumber,this.pageSize).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.initialArray=t.data.serviceResponse.customerList,e.arrayToDisplay=e.initialArray):"No Record found"==t.data.serviceError&&(e.disable=!0,$(".se-pre-con").hide())})}},{key:"fetchCustomerRequest",value:function(){var e=this;$(".se-pre-con").show(),void 0!=this.customerId&&""!=this.customerId?this.customerId.length>=3&&this.listService.getCustomerByCustomerId(this.customerId,this.pageNumber,this.pageSize).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.customerList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)}):(this.arrayToDisplay=this.initialArray,$(".se-pre-con").hide())}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pageNumber=1,this.getAllCustomer()}},{key:"previous",value:function(){this.pageNumber--,this.getAllCustomer()}},{key:"next",value:function(){this.pageNumber++,this.getAllCustomer()}},{key:"editCustomer",value:function(e,t){this.state.go("customers/edit",{customer:e})}}]),e}();d.$inject=["listService","$state","commonService"],exports.default=d},function(e,exports,t){var r=t(647);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".pannel_show{height:auto}.pannel_hide{height:0}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="listService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllCustomer",value:function(e,t,r){void 0!=e&&null!=e||(e="");var n={method:"GET",url:c.CONFIG.BASE_URL+"/api/viewAllCustomer",headers:{"content-type":"application/json"},params:{pageNumber:t,pageSize:r,customerId:e}};return this.http(n)}},{key:"getCustomerByCustomerId",value:function(e,t,r){console.log(c.CONFIG.BASE_URL+"/api/getRequestDetails"),this.isinNumber="";var n={method:"POST",url:c.CONFIG.BASE_URL+"/api/getRequestDetails",headers:{"content-type":"application/json"},params:{customerId:e,modelName:"Customer",pageNumber:t,pageSize:r,isinNumber:this.isinNumber}};return this.http(n)}},{key:"editCustomer",value:function(e){$(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/update",headers:{"content-type":"application/json"},data:e}).then(function(e){})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(650),l=r(s),c=t(655),d=r(c);t(656);var u=(t(510),a.default.module("br",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("boardResolution/br",{url:"/boardResolution/br",component:"brComponent"}).state("boardResolution/edit",{url:"/boardResolution/edit",component:"brComponent",params:{br:null}})}]).component("brComponent",l.default).service("brService",d.default).name);exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(651),a=r(n),i=t(652),o=r(i);t(653);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header">\r\n    <div class="col-lg-12 col-xs-20">\r\n        <h1>\r\n            Board Resolution\r\n        </h1>\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="brDetails" enctype="multipart/form-data">\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <!-- <div class="form-group col-sm-6">\r\n                                    <label  for="name">Customer Id:<span style="color: red">*</span></label>\r\n                                    <angucomplete-alt id="Customers"\r\n                                        placeholder="Search Members"\r\n                                        selected-object="$ctrl.inputChanged"\r\n                                        initial-value="$ctrl.customerId"\r\n                                        minlength="3"\r\n                                        remote-url="{{$ctrl.baseUrl}}/api/getById?customerId="\r\n                                        remote-url-data-field="serviceResponse"\r\n                                        title-field="customerId".\r\n                                        input-class="form-control"\r\n                                        disable-input="$ctrl.isEdit"\r\n                                   \r\n                                    /> \r\n                                      \r\n                                </div>  -->\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Customer Id:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <angucomplete-alt id="Customers" placeholder="Search Members" selected-object="$ctrl.inputChangedById" initial-value="$ctrl.customerId"\r\n                                        minlength="3" remote-url="{{$ctrl.baseUrl}}/api/getById?customerId=" remote-url-data-field="serviceResponse"\r\n                                        title-field="customerId" . input-class="form-control" disable-input="$ctrl.isEdit" override-suggestions="true"\r\n                                        ng-model="$ctrl.data.customerId" />\r\n\r\n                                </div>\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Customer Name:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <!-- <input type="text" class="form-control" id="gcustomerName" placeholder="Customer Name" ng-model="$ctrl.data.customerName"> -->\r\n                                    <angucomplete-alt id="customername" placeholder="Search by Name" minlength="3" input-class="form-control" selected-object="$ctrl.inputChangedByName"\r\n                                        initial-value="$ctrl.customerName" remote-url="{{$ctrl.baseUrl}}/api/getByCustomerName?customerName="\r\n                                        remote-url-data-field="serviceResponse" title-field="customerName" disable-input="$ctrl.isEdit"\r\n                                        override-suggestions="true" />\r\n                                </div>\r\n                        \r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Resolution Date:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <div class="input-group-addon">\r\n                                            <i class="fa fa-calendar"></i>\r\n                                        </div>\r\n                                        <input id="dtpFilter3" type="text" placeholder="dd/mm/yyyy" class="form-control" data-date-format="dd/mm/yyyy" ng-model="$ctrl.form.resolutionDate"\r\n                                        ng-change="$ctrl.validateResolutionDate()" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n                                <!-- {{ $ctrl.form.approvedAmount | INR}}  -->\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Approved Amount:  \r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <span class="input-group-addon">\r\n                                            <i class="fa fa-inr"></i>\r\n                                        </span>\r\n                                        <input  type="text" min="1" class="form-control" id="gapprovedAmount" placeholder="Amount in Rs."\r\n                                             ng-change="$ctrl.form.approvedAmount=($ctrl.form.approvedAmount | INR)" \r\n                                               ng-init="$ctrl.form.approvedAmount=($ctrl.form.approvedAmount | INR)"\r\n                                             ng-model="$ctrl.form.approvedAmount" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <!---------------- 08-01-2019 ---- -->\r\n                                \r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Buyback Limit:  \r\n                                        <span style="color: red"></span>\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <span class="input-group-addon">\r\n                                            <i class="fa fa-inr"></i>\r\n                                        </span>\r\n                                        <input  type="text" min="1" class="form-control" id="limitAmount" placeholder="Amount in Rs."\r\n                                                ng-model="$ctrl.form.buyBackLimit" \r\n                                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Buyback Date:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <div class="input-group">\r\n                                        <div class="input-group-addon">\r\n                                            <i class="fa fa-calendar"></i>\r\n                                        </div>\r\n                                        <input id="dtpFilter3" type="text" placeholder="dd/mm/yyyy" class="form-control" data-date-format="dd/mm/yyyy" \r\n                                        ng-model="$ctrl.form.buyBackDate"\r\n                                        ng-disabled="!($ctrl.form.buyBackLimit)" \r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Buyback Documents:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="file" id="buybackDoc" name="datafile" size="40" files-input \r\n                                        ng-model="$ctrl.buybackDoc"\r\n                                        ng-change="$ctrl.checkFileSize($ctrl.buybackDoc)"\r\n                                        ng-disabled="!($ctrl.form.buyBackLimit)"\r\n                                        multiple />\r\n                                </div>\r\n                               \r\n                                <!-- ------------- END -------------------- -->\r\n\r\n                                <!-- <div class="col-sm-12">&nbsp;\r\n                                </div> -->\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Board Resolution Documents:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="file" id="boardDoc" name="datafile" size="40" files-input \r\n                                        ng-model="$ctrl.brDoc" \r\n                                        ng-change="$ctrl.checkFileSize($ctrl.brDoc)"\r\n                                        multiple />\r\n                                </div>\r\n\r\n                                <!-- <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n                                <div class="col-sm-5">&nbsp;\r\n                                </div> -->\r\n\r\n                                <div class="form-group col-sm-6" ng-if="$ctrl.isEdit">\r\n                                    <label>Board Resolution Download:</label>\r\n                                    <a id="boardDoc" href="" ng-click="$ctrl.downloadBRDocument($ctrl.boardDoc)"> Board resolution document </a>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-if="$ctrl.isEdit">\r\n                                    <label>BuyBack Download:</label>\r\n                                    <a id="buybackDoc" href="" ng-click="$ctrl.downloadBBDocument($ctrl.buybackDoc)"> Buyback document </a>\r\n                                </div>\r\n                                \r\n\r\n                                <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n                                <div class="col-sm-5">&nbsp;\r\n                                </div>\r\n\r\n                                <div class="col-sm-3">\r\n                                    <button type="submit" class="btn btn-primary" ng-click="$ctrl.addBRDetails()" ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit"\r\n                                        ng-disabled="!$ctrl.data.customerName || !$ctrl.form.approvedAmount || !$ctrl.form.resolutionDate">Submit</button>\r\n\r\n                                    <button type="submit" class="btn btn-primary" ng-click="$ctrl.updateBRDetails()" ng-show="$ctrl.isEdit && $ctrl.role==\'ipa_maker\'"\r\n                                        ng-disabled="!$ctrl.data.customerName || !$ctrl.form.approvedAmount || !$ctrl.form.resolutionDate">Update</button>\r\n                                    <button type="reset" id="reset-btn" class="btn btn-default" ng-click="clearText()" ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit">Reset</button>\r\n                                    <button type="submit" type="button" class="btn btn-default" ng-click="$ctrl.cancelled()" ng-show="$ctrl.isView && $ctrl.role==\'ipa_maker\'">Cancel</button>\r\n                                    <button type="submit" class="btn btn-primary" ng-click="$ctrl.back()" ng-show="$ctrl.role==\'ipa_checker\'">back</button>\r\n\r\n                                </div>\r\n\r\n                                <div class="col-sm-4">&nbsp;\r\n                                </div>\r\n\r\n                            </div>\r\n                    </form>\r\n\r\n                    <divclass="alert alert-success" ng-show="userAddResponse == \'success\'">Br Details Successfully Inserted</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n</section>\r\n\r\n<script>\r\n    $(\'#dtpFilter\').datepicker({\r\n        autoclose: true\r\n    });\r\n\r\n    $(\'#dtpFilter1\').datepicker({\r\n        autoclose: true\r\n    });\r\n\r\n    $(\'#dtpFilter2\').datepicker({\r\n        autoclose: true\r\n    });\r\n\r\n    $(\'#dtpFilter3\').datepicker({\r\n        autoclose: true\r\n    });\r\n</script>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a,i=t(416),o=n(i),s=t(434),l=n(s),c=t(454),d=r(c),u=t(510),p=function(){function e(t,r,n,i,s,l){(0,o.default)(this,e),this.mailId=[],this.formdata=new FormData,this.form={customerId:null,customerName:null,approvedAmount:null,buyBackLimit:null,resolutionDate:null,buyBackDate:null,customer:null,createdBy:null,updatedBy:null,status:null,mailIdList:[],makerMailId:null,buybackDoc:null,brDoc:null},this.baseUrl=d.CONFIG.BASE_URL,this.name="br_details",this.brService=t,a=this,this.scope=s,this.state=i,this.$filter=l,this.commonService=n,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId)),this.mailId.push(this.myStorage.getItem("IdList")),this.role=this.myStorage.getItem("role"),r.br&&(this.isEdit=!0,this.isView=!0,this.customerId=r.br,this.form=r.br,this.boardDoc=r.br.brDoc,this.buybackDoc=r.br.buybackDoc)}return(0,l.default)(e,[{key:"inputChangedByName",value:function(e){e&&(a.data=e.originalObject),a.scope.$broadcast("angucomplete-alt:changeInput","Customers",a.data.customerId)}},{key:"inputChangedById",value:function(e){e&&(a.data=e.originalObject),a.scope.$broadcast("angucomplete-alt:changeInput","customername",a.data.customerName),a.data.customer?a.isUserActive=a.data.customer.isUserActive:a.isUserActive=a.data.isUserActive}},{key:"validateResolutionDate",value:function(){var e=u(u().format("DD/MM/YYYY"),"DD/MM/YYYY"),t=u(this.form.resolutionDate,"DD/MM/YYYY"),r=u(t).isAfter(e);if(r)return alert("Resolution Date must be Before of Current date."),void(this.form.resolutionDate=null)}},{key:"checkFileSize",value:function(e){var t=1048576,r=e[0].size/t;r>10&&(alert("File size should not greater than 10 MB"),document.getElementById("boardDoc").value=null)}},{key:"back",value:function(){this.state.go("requests/request")}},{key:"cancelled",value:function(){this.state.go("boardResolution/show")}},{key:"addBRDetails",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");if(this.form.customerId=this.data.customerId,this.form.customerName=this.data.customerName,this.form.createdBy=this.myStorage.getItem("userName"),this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),this.form.status="Pending","Pending"==this.data.status||"CallBack"==this.data.status)return void alert("Customer is not Approved For BR...!");if("number"!=typeof this.form.approvedAmount&&this.form.approvedAmount.includes(",")){var t=parseInt(this.form.approvedAmount.replace(/,/g,""));this.form.approvedAmount=t}if(this.form.approvedAmount%5e5!=0)return void alert("Approved Amount amount should be multiple of 5 Lakh");if(this.form.buyBackLimit%5e5!=0)return void alert("Buy back amount should be multiple of 5 Lakh");if(!(null!=this.brDoc&&this.brDoc.length>0))return void alert("Document not choose...Please choose Document...!");this.form.brDoc=this.brDoc[0].name;if(this.formdata.append("uploadingFiles",this.brDoc[0]),null!=this.buybackDoc&&this.buybackDoc.length>0){this.form.buybackDoc=this.buybackDoc[0].name;this.formdata.append("uploadingFiles",this.buybackDoc[0])}this.formdata.append("requestInput",angular.toJson(this.form)),this.brService.addBRDetails(this.formdata).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Br Successfully Added ...!"),e.state.go("boardResolution/show");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return void alert("Error- Something went wrong...!");alert("BR Successfully Added but Mail has not Send...!"),e.state.go("boardResolution/show")}})}},{key:"updateBRDetails",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");delete this.form.customer,this.form.updatedBy=this.myStorage.getItem("userName"),this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId");var t=parseInt(this.form.approvedAmount.replace(/,/g,""));this.form.approvedAmount=t;if(this.form.approvedAmount%5e5!=0)return void alert("Approved Amt should be in multiple of 5 Lakh");if(!(null!=this.brDoc&&this.brDoc.length>0))return alert("Please choose Document...!"),this.form.brDoc=this.boardDoc,void this.formdata.append("uploadingFiles",this.boardDoc);this.brDoc[0].name;if(this.form.brDoc=this.brDoc[0].name,this.formdata.append("uploadingFiles",this.brDoc[0]),null!=this.buybackDoc&&this.buybackDoc.length>0){this.buybackDoc[0].name;this.form.buybackDoc=this.buybackDoc[0].name,this.formdata.append("uploadingFiles",this.buybackDoc[0])}else console.log("bb doc"+this.buybackDoc),this.form.buybackDoc=this.buybackDoc,this.formdata.append("uploadingFiles",this.buybackDoc);this.formdata.append("requestInput",angular.toJson(this.form)),this.brService.updateBRDetails(this.formdata).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse)alert("BR Succesfully Updated...!"),e.state.go("boardResolution/show");else{if("Unable to send email"!=t.data.serviceError)return void alert("Error- Something went 00h0fghfghwrong...!");alert("BR Successfully Updated but Mail has not Send...!"),e.state.go("boardResolution/show")}})}},{key:"uploadBRDocument",value:function(){var e,t;return this.brService.uploadBRDocument(this.brDoc,e,t,this.form.customerId).then(function(e){return e.data})}},{key:"downloadBRDocument",value:function(){var e=this.boardDoc,t=e.substr(e.lastIndexOf(".")+1);this.brService.downloadDocument(e,this.form.customerId).then(function(e){var r=[];r.push(e.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([e.data],{type:"application/extension"}));n.href=a,n.download="BR_DOC."+t,n.click(),window.URL.revokeObjectURL(a)})}},{key:"downloadBBDocument",value:function(){var e=this.buybackDoc,t=e.substr(e.lastIndexOf(".")+1);this.brService.downloadDocument(e,this.form.customerId).then(function(e){var r=[];r.push(e.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([e.data],{type:"application/extension"}));n.href=a,n.download="BB_DOC."+t,n.click(),window.URL.revokeObjectURL(a)})}}]),e}();p.$inject=["brService","$stateParams","commonService","$state","$scope","$filter"],exports.default=p},function(e,exports,t){var r=t(654);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".pannel_show{height:auto}.pannel_hide{height:0}input[type=date]:before{content:attr(data-placeholder);width:100%}.style{background:#f6f6f6;border-color:gray;border-radius:2px;list-style:none;width:108px;overflow-y:auto;max-height:150px;color:#000}.angucomplete-holder{position:relative}.ui-autocomplete{background:#f6f6f6;border-color:gray;border-radius:2px;list-style:none;width:100%;overflow-y:auto;max-height:150px;color:#000}.angucomplete-dropdown{border:1px solid #ececec;border-radius:2px;width:250px;padding:6px;cursor:pointer;z-index:9999;position:absolute;margin-top:-6px;background-color:#fff}.angucomplete-searching{color:#acacac;font-size:14px}.angucomplete-description{font-size:14px}input[type=date]:focus:before,input[type=date]:hover:before{content:attr(data-placeholder)}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="brService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"addBRDetails",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/addBR",headers:{"content-type":void 0},data:e})}},{key:"uploadBRDocument",value:function(e,t,r,n){var a=new FormData;return a.append("brDoc",e[0]),a.append("trancheId",t),a.append("dealNumber",r),a.append("customerId",n),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/uploadDocument",processData:!1,headers:{"content-type":void 0},data:a})}},{key:"updateBRDetails",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/updateBR",headers:{"content-type":void 0},data:e})}},{key:"downloadDocument",value:function(e,t){return this.http({method:"Post",url:c.CONFIG.BASE_URL+"/api/downloadDoc",processData:!1,headers:{"content-type":"application/json"},params:{fileName:e,customerId:t},responseType:"blob"})}}]),e}();exports.default=d},,function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(658),l=r(s),c=t(663),d=r(c),u=a.default.module("show",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("boardResolution/show",{url:"/boardResolution/show",component:"showBr"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("showBr",l.default).service("showBrService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(659),a=r(n),i=t(660),o=r(i);t(661);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="initBRDetails()">\r\n        \r\n            <div class="col-lg-12 col-xs-20"> \r\n               \r\n               <h1>\r\n                    BR Dashboard\r\n                </h1>\r\n\r\n                <!-- <div id="custom-search-input">\r\n                    <div class="input-group col-md-3">\r\n                        <input type="text" class="form-control input-lg" placeholder="Search BR" ng-model="$ctrl.customerId"/>\r\n                         <span class="input-group-btn">\r\n                            <button class="btn btn-info btn-lg" type="button">\r\n                                <i class="glyphicon glyphicon-search"></i>\r\n                            </button>\r\n                        </span> \r\n                    </div>\r\n                </div> -->\r\n\r\n                <div id="custom-search-input">\r\n                    <div class="input-group col-md-3">\r\n                        <input type="text" class="form-control input-lg" minlength="3" ng-click="$ctrl.fetchBrRequest()" ng-change="$ctrl.fetchBrRequest()" placeholder="Search BR" ng-model="$ctrl.customerId"/>\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-info btn-lg" type="button">\r\n                                <i class="glyphicon glyphicon-search"></i>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="col-sm-12">&nbsp;\r\n                </div>\r\n\r\n                <div class="row">\r\n                    <div class="col-md-12">\r\n                        <div class="box box-primary" id="boxx">\r\n                            <form role="form" name="groupCreation">\r\n                                <div class="box-body" style="overflow-x: scroll">\r\n                                    <div ng-app=\'MyModule\'>\r\n                                        <div>\r\n                                            <table class="table table-bordered table-hover" at-table at-paginated at-list="list" at-config="config">\r\n                                                    <thead>\r\n                                                      <tr>\r\n                                                        <th>Sr No.</th>\r\n                                                        <th>Customer Id</th>\r\n                                                        <th>Customer Name</th>                                                   \r\n                                                        <th>Approved Amount</th>                                          \r\n                                                        <th>Resolution Date</th>\r\n                                                        <th>BR Creation Date</th>\r\n                                                        <th>Status</th>                                                   \r\n                                                        <th>Action</th>                                              \r\n                                                      </tr>\r\n                                                    </thead>\r\n                                                   \r\n                                                    <tr ng-repeat="br in $ctrl.arrayToDisplay | filter:$ctrl.customerId" ng-hide="br.status==\'Rejected\'">\r\n                                                        <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                                        <td>{{br.customerId}}</td>\r\n                                                        <td>{{br.customerName}}</td>                                                                                       \r\n                                                        <td>{{br.approvedAmount | number }}</td>                  \r\n                                                        <td>{{br.resolutionDate  | date : "dd/MM/yyyy"}}</td>\r\n                                                        <td>{{br.createdOn  | date : "dd/MM/yyyy"}}</td>\r\n                                                        <td>{{br.status}}</td>\r\n                                                        <td><button class="btn btn-primary" data-toggle="tooltip" title="Edit" ng-click="$ctrl.EditBR(br)" app-tooltip><i class="glyphicon glyphicon-edit"></i></button>\r\n                                                        </td>                                          \r\n                                                    </tr>\r\n                                                           \r\n                                            </table>\r\n\r\n                                            <div class="row">\r\n                                                <div class="col-sm-6">&nbsp;</div>\r\n                                                <ul class="pager col-sm-6">\r\n                                                <li>\r\n                                                    <button class="btn btn-default" href="#"  ng-click="$ctrl.jumpToFirst()" >\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                                </li>\r\n                                                <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.pageNumber == 1 " ng-click="$ctrl.previous()" >\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                                </li>\r\n                                                      &nbsp; &nbsp; &nbsp; Page  {{$ctrl.pageNumber}}  &nbsp; &nbsp; &nbsp;\r\n                                                <li>\r\n                                                <button class="btn btn-default" href="#"  ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                </button>\r\n                                                </li>\r\n                                                </ul>\r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n                                        \r\n                                        \r\n    \r\n                                        \r\n                                        </div> \r\n    \r\n                                        <div class="col-sm-4">&nbsp</div> \r\n        \r\n                                    </div>\r\n                            </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n        \r\n        </section>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n){(0,i.default)(this,e),this.pageNumber=1,this.pageSize=10,this.masterArray=[],this.arrayToDisplay=[],this.initialArray=[],this.searchArray=[],this.name="showBrDetails",this.state=r,this.showBrService=t,this.commonService=n,this.baseUrl=c.CONFIG.BASE_URL,this.getBRDetails()}return(0,s.default)(e,[{key:"getBRDetails",value:function(){var e=this;$(".se-pre-con").show(),this.showBrService.getBRDetails(this.customerId,this.pageNumber,this.pageSize).then(function(t){e.disable=!1,$(".se-pre-con").hide(),null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.initialArray=t.data.serviceResponse.BRList,e.arrayToDisplay=e.initialArray):"No Record found"==t.data.serviceError?e.disable=!0:alert("Internal server error")}).catch(function(e){console.log("mainerror",e),$(".se-pre-con").hide()})}},{key:"fetchBrRequest",value:function(){var e=this;$(".se-pre-con").show(),void 0!=this.customerId&&""!=this.customerId?this.customerId.length>=3&&this.showBrService.getBrByCustomerId(this.customerId,this.pageNumber,this.pageSize).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.brList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)}):(this.arrayToDisplay=this.initialArray,$(".se-pre-con").hide())}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pageNumber=1,this.getBRDetails()}},{key:"previous",value:function(){this.pageNumber--,this.getBRDetails()}},{key:"next",value:function(){this.pageNumber++,this.getBRDetails()}},{key:"EditBR",value:function(e,t){this.state.go("boardResolution/edit",{br:e})}}]),e}();d.$inject=["showBrService","$state","commonService"],exports.default=d},function(e,exports,t){var r=t(662);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".pannel_show{height:auto}.pannel_hide{height:0}table caption{padding:.5em 0}@media screen and (max-width:767px){table caption{border-bottom:1px solid #ddd}}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="showBrService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getBRDetails",value:function(e,t,r){void 0!=e&&null!=e||(e="");var n={method:"GET",url:c.CONFIG.BASE_URL+"/api/viewAllBR",headers:{"content-type":"application/json"},params:{pageNumber:t,pageSize:r,customerId:e}};return this.http(n)}},{key:"getBrByCustomerId",value:function(e,t,r){console.log(c.CONFIG.BASE_URL+"/api/getRequestDetails"),this.isinNumber="";var n={method:"POST",url:c.CONFIG.BASE_URL+"/api/getRequestDetails",headers:{"content-type":"application/json"},params:{customerId:e,modelName:"BR",pageNumber:t,pageSize:r,isinNumber:this.isinNumber}};return this.http(n)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(665),l=r(s),c=t(707),d=r(c);t(656);var u=(t(510),a.default.module("addsecurity",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("security/addsecurity",{url:"/security/addsecurity",component:"addSecurity"}).state("security/editTranch",{url:"/security/editTranch",component:"addSecurity",params:{tranch:null}})}]).component("addSecurity",l.default).service("securityService",d.default).name);exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(666),a=r(n),i=t(667),o=r(i);t(705);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n  <div class="col-lg-12 col-xs-20">\r\n    <h3>\r\n      Register Tranche\r\n    </h3>\r\n\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="box box-primary" id="boxx">\r\n          <form role="form" name="form" novalidate>\r\n            <div class="box-body">\r\n              <div ng-app=\'MyModule\'>\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-absolute">\r\n                      <div class="form-group col-lg-6">\r\n                        <label>CP Number:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <angucomplete-alt id="CummercialPaper" placeholder="Search Members" selected-object="$ctrl.inputChanged" initial-value="$ctrl.cpNumber"\r\n                          minlength="3" remote-url="{{$ctrl.baseUrl}}/api/getCPNumber?cpNumber=" remote-url-data-field="serviceResponse"\r\n                          title-field="cpNumber" input-class="form-control" disable-input="$ctrl.isEdit" />\r\n\r\n                      </div>\r\n                      <div class="form-group col-lg-6">\r\n                        <label>Customer Id:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="text" class="form-control" id="gcon" placeholder="Customer Id" ng-model="$ctrl.data.customerId" readonly>\r\n                      </div>\r\n\r\n                      <div class="form-group col-lg-6">\r\n                        <label>Customer Name:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n\r\n                        <input type="text" class="form-control" id="gName" placeholder="Customer name" ng-model="$ctrl.data.customerName" readonly>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n<section class="content-header nq-ipa-asec-bd-cont" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n  <div class="col-lg-12 col-xs-20">\r\n    <h3>\r\n      Basic Details\r\n    </h3>\r\n\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="box box-primary" id="boxx">\r\n          <form role="form" name="groupCreation" novalidate>\r\n            <div class="box-body">\r\n              <div ng-app=\'MyModule\'>\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-default">\r\n                      <div class="panel-heading">\r\n                        <div class="row" ng-init="coverLetter=\'false\'">\r\n                          <h4 class="panel-title col-sm-3">Covering Letter</h4>\r\n\r\n                        </div>\r\n                      </div>\r\n                      <div id="collapseCoveringLetter">\r\n                        <div class="panel-body">\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">ISIN:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <!-- <input type="text" class="form-control" id="gisinNumber" placeholder="ISIN Number" \r\n                            ng-pattern="/^[a-zA-Z0-9\\.]*$/" ng-model="$ctrl.form.isinNumber"\r\n                            ng-change="$ctrl.getIsinDetails()"\r\n                              name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off"> -->\r\n                            <angucomplete-alt id="isinNumber"  placeholder="Search Members" selected-object="$ctrl.getIsinDetails" \r\n                            initial-value="$ctrl.form.isinNumber"\r\n                            minlength="3" remote-url="{{$ctrl.baseUrl}}/api/tranche/getIsinDetails?isin=" \r\n                            remote-url-data-field="serviceResponse"\r\n                            title-field="isinNumber" input-class="form-control nq-ipa-tr-bd-isin" disable-input="$ctrl.isEdit" \r\n                            ng-pattern="/\\b[a-zA-Z0-9]{7}\\b|\\b[a-zA-Z0-9]{12}\\b/"\r\n                            ng-model="$ctrl.form.isinNumber" input-changed="$ctrl.autofillIsinNumber" maxlength="12"\r\n                             />\r\n\r\n                            <!-- {{$ctrl.form.isinNumber}} -->\r\n                          </div>\r\n\r\n                          <!-- <div class="form-group col-sm-6">\r\n                              <label for="name">Rating Agency Name:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <select class="form-control" ng-model="$ctrl.ratingAgencyName">\r\n                                <option value="">Select</option>\r\n                                <option ng-repeat="rating in $ctrl.ratingList" value="{{rating.creditRatingAgency}}">{{rating.creditRatingAgency}}</option>\r\n  \r\n                              </select>\r\n                            </div> -->\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Value Date:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <div class="input-group-addon">\r\n                                <i class="fa fa-calendar"></i>\r\n                              </div>\r\n                              <input id="dtpFilter" type="text" placeholder="dd/mm/yyyy" class="form-control" \r\n                              data-date-format="dd/mm/yyyy" ng-model="$ctrl.form.valueDate"\r\n                                ng-change="$ctrl.validateValueDate()" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Maturity Date:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <div class="input-group-addon">\r\n                                <i class="fa fa-calendar"></i>\r\n                              </div>\r\n                              <input id="dtpFilter1" type="text" placeholder="dd/mm/yyyy" \r\n                                class="form-control nq-ipa-tr-bd-matdate" data-date-format="dd/mm/yyyy" ng-change="$ctrl.validateMaturityDate()"\r\n                                ng-model="$ctrl.form.maturityDate" \r\n                                ng-value="$ctrl.form.maturityDate"\r\n                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6 ">\r\n                            <label for="name">Total Amount:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,100}(\\.\\d{1,5})?%?$/ \r\n                                 ng-init="$ctrl.form.totalAmount=($ctrl.form.totalAmount|INR)"\r\n                                  ng-blur="$ctrl.form.totalAmount=($ctrl.form.totalAmount|INR)"\r\n                                -->\r\n                              <input type="text" class="form-control nq-ipa-asec-bd-totalamt" id="gName" name="abc" placeholder="Total Amount" ng-model="$ctrl.form.totalAmount"\r\n                                ng-init="$ctrl.form.totalAmount=($ctrl.form.totalAmount|INR)" ng-blur="$ctrl.form.totalAmount=($ctrl.form.totalAmount|INR)"\r\n                                ng-change="$ctrl.validateTotalAmount()" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">BR Limit:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,3})?%?$/" -->\r\n                              <input type="text" class="form-control" id="gName" placeholder="BR Limit" ng-model="$ctrl.tempBrData.approvedAmount" ng-bind="$ctrl.tempBrData.approvedAmount=($ctrl.tempBrData.approvedAmount | INR)"\r\n                                name="abc" readonly>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Working Capital:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,3})?%?$/" -->\r\n                              <input ng-bind="$ctrl.data.customer.workingCapital=($ctrl.data.customer.workingCapital | INR)" type="text" class="form-control"\r\n                                id="gName" placeholder="Working Capital" ng-model="$ctrl.data.customer.workingCapital" name="abc"\r\n                                readonly>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Net Worth:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,3})?%?$/" -->\r\n                              <input type="text" class="form-control" id="gName" placeholder="Net Worth" ng-bind="$ctrl.data.customer.netWorth=($ctrl.data.customer.netWorth | INR)"\r\n                                ng-model="$ctrl.data.customer.netWorth" name="abc" readonly>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="col-sm-6">&nbsp;\r\n                          </div>\r\n\r\n                          <div class="row">\r\n                            <div class="col-md-12" style="padding-top: 0px !important;padding: 30px;">\r\n                              <div class="panel-element">\r\n                                <div class="panel-group" id="accordion">\r\n                                  <div class="panel panel-default">\r\n                                    <div class="panel-heading">\r\n\r\n                                      <div class="row" ng-init="">\r\n                                        <h4 class="panel-title col-sm-3">Ratings Details</h4>\r\n\r\n\r\n                                      </div>\r\n                                    </div>\r\n                                    <div>\r\n                                      <div class="panel-body">\r\n                                        <div>\r\n                                          <table class="table table-striped table-bordered">\r\n                                            <thead>\r\n                                              <tr>\r\n                                                <th>Rating Agency Name</th>\r\n                                                <th>Credit Rating</th>\r\n                                                <th>Date of Rating</th>\r\n                                                <th>Credit Rating Amount</th>\r\n                                                <th>Validity of Issuance</th>\r\n                                                <th>Validity of Rating</th>\r\n                                              </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                              <tr ng-repeat="rating in $ctrl.ratingList">\r\n                                                <td>{{rating.creditRatingAgency}}</td>\r\n                                                <td>{{rating.creditRating}}</td>\r\n                                                <td>{{rating.dateOfRating}}</td>\r\n                                                <td>{{rating.creditRatingAmount}}</td>\r\n                                                <td>{{rating.validityOfIssuance}}\r\n                                                  <span ng-hide="rating.ratingPeriodIn ==\'Date\'">{{rating.issuancePeriodIn}}</span>\r\n                                                </td>\r\n                                                <td>{{rating.validityPeriod}}\r\n                                                  <span ng-hide="rating.ratingPeriodIn ==\'Date\'">{{rating.ratingPeriodIn}}</span>\r\n                                                </td>\r\n\r\n\r\n\r\n                                              </tr>\r\n                                            </tbody>\r\n                                          </table>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Documents:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <input id="covLtrDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.coveringLetterDoc" ng-change="$ctrl.checkFileSize($ctrl.coveringLetterDoc,\'covLtrDoc\')"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                            <label>Download:</label>\r\n                            <a id="coveringLetterDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.coveringLetterDocument)">Cover letter</a><!--{{$ctrl.coveringLetterDocument}}-->\r\n                          </div>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-default">\r\n                      <div class="panel-heading">\r\n                        <div class="row" ng-init="rbiLetter=\'false\'">\r\n                          <h4 class="panel-title col-sm-3">RBI Letter:</h4>\r\n\r\n                        </div>\r\n                      </div>\r\n                      <div id="collapseRbiLetter">\r\n                        <div class="panel-body">\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Letter Date:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <div class="input-group-addon">\r\n                                <i class="fa fa-calendar"></i>\r\n                              </div>\r\n                              <input id="dtpFilter2" type="text" placeholder="dd/mm/yyyy" class="form-control" data-date-format="dd/mm/yyyy" ng-model="$ctrl.form.rbiLetterDate"\r\n                                ng-change="$ctrl.validateRBILetterDate()" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">CP Outstanding:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <input type="text" class="form-control" id="gName" placeholder="CP Outstanding" ng-model="$ctrl.form.cpOutstandingAmount"\r\n                                ng-bind="$ctrl.form.cpOutstandingAmount=($ctrl.cpOutstandingAmount|INR)" name="abc" readonly>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Outstanding Bank Borrowings:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,100}(\\.\\d{1,5})?%?$/" -->\r\n                              <input type="text" ng-init="$ctrl.form.bankBorrowing=($ctrl.form.bankBorrowing | INR)" class="form-control" id="gName" placeholder="Outstanding Bank Borrowings"\r\n                                ng-model="$ctrl.form.bankBorrowing" ng-change="$ctrl.form.bankBorrowing=($ctrl.form.bankBorrowing | INR)"\r\n                                name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Net Worth:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,3})?%?$/" -->\r\n                              <input type="text" class="form-control" id="gName" placeholder="Net Worth" ng-model="$ctrl.data.customer.netWorth " ng-bind="$ctrl.data.customer.netWorth=($ctrl.data.customer.netWorth | INR)"\r\n                                name="abc" readonly>\r\n                            </div>\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Working Capital:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n\r\n                              <!-- ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,3})?%?$/" -->\r\n                              <input type="text" class="form-control" id="gName" placeholder="Working Capital" maxlength="19" ng-model="$ctrl.data.customer.workingCapital"\r\n                                ng-init="$ctrl.data.customer.workingCapital=($ctrl.data.customer.workingCapital)" name="abc"\r\n                                readonly>\r\n\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Issuer category:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <select class="form-control" ng-model="$ctrl.form.issuerCategory">\r\n                              <option value="">Select</option>\r\n                              <option ng-repeat="issuerCategory in $ctrl.issuerCategoryList" value="{{issuerCategory.issuer_category}}">{{issuerCategory.issuer_category}}</option>\r\n                            </select>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Industry Sector:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <select class="form-control" ng-model="$ctrl.form.industrySector">\r\n                              <option value="">Select</option>\r\n                              <option ng-repeat="industrySector in $ctrl.industrySectorList" value="{{industrySector.indutryType}}">{{industrySector.indutryType}}</option>\r\n                            </select>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Name Of Stock Exchange:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <select class="form-control" ng-model="$ctrl.form.nameOfStockExchange">\r\n                              <option value="">Select</option>\r\n                              <option value="NSE">NSE</option>\r\n                              <option value="BSE">BSE</option>\r\n                              <option value="NONE">NONE</option>\r\n                              <option value="NSE/BSE">NSE/BSE</option>\r\n                              <option value="OTHER">OTHER</option>\r\n                            </select>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name"> NOC From Bank:</label>\r\n                            <input type="text" class="form-control" id="gNOC" placeholder=" NOC From Bank " ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.nocFromBank"\r\n                              name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            &nbsp;\r\n                          </div>\r\n                          <div class="form-group col-sm-12">\r\n                            &nbsp;\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Documents:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <input id="rbiLetterDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.rbiLetterDoc" ng-change="$ctrl.checkFileSize($ctrl.rbiLetterDoc,\'rbiLetterDoc\')"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                            <label>Download:</label>\r\n                            <a id="rbiLetterDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.rbiLetterDocument)">RBI letter</a> <!--{{$ctrl.rbiLetterDocument}} -->\r\n                          </div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-default">\r\n                      <div class="panel-heading">\r\n                        <div class="row" ng-init="offerLetter=\'false\'">\r\n                          <h4 class="panel-title col-sm-3">Offer Letter:</h4>\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n                      <div id="collapseOfferLetter">\r\n                        <div class="panel-body">\r\n                          <!-- <div class="form-group col-sm-6">\r\n                              <label for="name">Exact Purpose Of Fund:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <select class="form-control" ng-model="$ctrl.form.purposeOfFund" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                                <option value="">Select</option>\r\n                                <option value="Working Capital Purpose">Working Capital Purpose</option>\r\n                                <option value="Payment of the Investor">Refinance Of Existing Debt</option>\r\n                                <option value="Payment of the Investor">Payment of the Investor</option>\r\n                                <option value="Other">Other</option>\r\n  \r\n  \r\n                              </select>\r\n                            </div> -->\r\n\r\n                          <!-- <div class="form-group col-sm-6">\r\n                              <label for="name">Rating Letter Details:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <select class="form-control" ng-model="$ctrl.form.ratingLetterdetails" ng-change="$ctrl.selected()">\r\n                                <option value="">Select</option>\r\n                                <option ng-repeat="rating in $ctrl.ratingList" value="{{rating.creditRatingAgency}}">{{rating.creditRatingAgency}}</option>\r\n                              </select>\r\n                            </div> -->\r\n\r\n                          <div class="row">\r\n                            <div class="col-md-12" style="padding-top: 0px !important;padding: 30px;">\r\n                              <div class="panel-element">\r\n                                <div class="panel-group" id="accordion">\r\n                                  <div class="panel panel-default">\r\n                                    <div class="panel-heading">\r\n\r\n                                      <div class="row" ng-init="">\r\n                                        <h4 class="panel-title col-sm-3">Ratings Letter Details</h4>\r\n\r\n\r\n                                      </div>\r\n                                    </div>\r\n                                    <div>\r\n                                      <div class="panel-body">\r\n                                        <div>\r\n                                          <table class="table table-striped table-bordered">\r\n                                            <thead>\r\n                                              <tr>\r\n                                                <th></th>\r\n                                                <th>Rating Agency Name</th>\r\n                                                <th>Credit Rating</th>\r\n                                                <th>Date of Rating</th>\r\n                                                <th>Credit Rating Amount</th>\r\n                                                <th>Validity of Issuance</th>\r\n                                                <th>Validity of Rating</th>\r\n                                              </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                              <tr ng-repeat="rating in $ctrl.ratingList">\r\n                                                <td>\r\n                                                  <input type="radio" class = "nq-ipa-asec-rat-details{{$index}}" name="xyz" ng-model="$ctrl.isRatingLower" ng-value="rating.id" ng-change="$ctrl.checkedRating($index, rating)">\r\n                                                  <!-- <input type="radio" name="xyz" ng-model="$ctrl.isRatingLower" ng-value="rating.id">  -->\r\n                                                </td>\r\n                                                <td>{{rating.creditRatingAgency}}</td>\r\n                                                <td>{{rating.creditRating}}</td>\r\n                                                <td>{{rating.dateOfRating}}</td>\r\n                                                <td>{{rating.creditRatingAmount}}</td>\r\n                                                <td>{{rating.validityOfIssuance}}\r\n                                                  <span ng-hide="rating.ratingPeriodIn == \'Date\'">{{rating.issuancePeriodIn}}</span>\r\n                                                </td>\r\n                                                <td>{{rating.validityPeriod}}\r\n                                                  <span ng-hide="rating.ratingPeriodIn == \'Date\'">{{rating.ratingPeriodIn}}</span>\r\n                                                </td>\r\n\r\n                                              </tr>\r\n                                              <tr>\r\n                                                <td>\r\n                                                  {{ratingAgencyName |json}}\r\n                                                </td>\r\n\r\n                                              </tr>\r\n                                            </tbody>\r\n                                          </table>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Exact Purpose Of Fund:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <select class="form-control" ng-change="$ctrl.validatePurposeOfFund()" ng-model="$ctrl.form.purposeOfFund" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                              <option value="">Select</option>\r\n                              <option value="Working Capital Purpose">Working Capital Purpose</option>\r\n                              <option value="Payment of the Investor">Refinance Of Existing Debt</option>\r\n                              <option value="Payment of the Investor">Payment of the Investor</option>\r\n                              <option value="Other">Other</option>\r\n\r\n\r\n                            </select>\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-lg-6" ng-show="$ctrl.isOtherPurpose==true">\r\n                            <label>Other Purpose of Fund:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <input type="text" class="form-control" id="gName" placeholder="Other Purpose of Fund" ng-model="$ctrl.form.otherPurposeOfFund">\r\n                          </div>\r\n\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">CP Outstanding Amount:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <input type="text" class="form-control" id="gName" placeholder="CP Outstsnding Amount" ng-model="$ctrl.form.cpOutstandingAmount"\r\n                                name="abc" ng-bind="$ctrl.form.cpOutstandingAmount=($ctrl.cpOutstandingAmount|INR)" readonly>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Previous Outstanding Amount:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <span class="input-group-addon">\r\n                                <i class="fa fa-inr"></i>\r\n                              </span>\r\n                              <input type="text" class="form-control" id="gName" placeholder="Previous Outstsnding Amount" ng-model="$ctrl.previousOutstandingAmount"\r\n                                name="abc" readonly>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Offer Letter Dated:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <div class="input-group">\r\n                              <div class="input-group-addon">\r\n                                <i class="fa fa-calendar"></i>\r\n                              </div>\r\n                              <input id="dtpFilter3" type="text" placeholder="dd/mm/yyyy" class="form-control" data-date-format="dd/mm/yyyy" ng-model="$ctrl.form.offerLetterDated"\r\n                                ng-change="$ctrl.validateOfferLetterDate()" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div class="col-sm-12">&nbsp;\r\n                          </div>\r\n                          <!-- ng-if="$ctrl.view" -->\r\n                          <section class="content-header">\r\n                            <div class="col-lg-12 col-xs-20">\r\n                              <h5>\r\n                                <b>Details Of Current Tranche</b>\r\n                              </h5>\r\n                              <div class="row">\r\n                                <div class="col-md-12">\r\n                                  <div class="box box-primary" id="boxx">\r\n                                    <form role="form" name="groupCreation">\r\n                                      <div class="box-body">\r\n                                        <div ng-app=\'MyModule\'>\r\n                                          <div>\r\n                                            <table class="table table-bordered">\r\n                                              <thead>\r\n                                                <tr>\r\n                                                  <th>ISIN</th>\r\n                                                  <th>Amount</th>\r\n                                                  <th>Maturity Date</th>\r\n                                                  <th>Current Credit Rating</th>\r\n                                                  <th>Validity of Issuance</th>\r\n                                                  <th>Validity of Rating</th>\r\n                                                  <th>CRA</th>\r\n                                                </tr>\r\n                                              </thead>\r\n                                              <tbody>\r\n\r\n                                                <tr>\r\n                                                  <td>{{$ctrl.form.isinNumber}}</td>\r\n                                                  <td>{{$ctrl.form.totalAmount}}</td>\r\n                                                  <td>{{$ctrl.form.maturityDate}}</td>\r\n                                                  <td>{{$ctrl.form.currentCreditRating}}</td>\r\n                                                  <td>{{$ctrl.form.validityOfIssuance}}\r\n                                                    <span ng-hide="$ctrl.form.issuancePeriodIn == \'Date\'">{{$ctrl.form.issuancePeriodIn}}</span>\r\n                                                  </td>\r\n                                                  <td>{{$ctrl.form.validityPeriod}}\r\n                                                    <span ng-hide="$ctrl.form.issuancePeriodIn == \'Date\'">{{$ctrl.form.ratingPeriodIn}}</span>\r\n                                                  </td>\r\n\r\n                                                  <td>{{$ctrl.form.ratingAgencyName}}</td>\r\n\r\n                                                </tr>\r\n                                              </tbody>\r\n                                            </table>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </form>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </section>\r\n\r\n\r\n\r\n                          <div class="col-sm-12">&nbsp;\r\n                          </div>\r\n\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Documents:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <input id="offerLetterDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.offerLetterDoc" ng-change="$ctrl.checkFileSize($ctrl.offerLetterDoc,\'offerLetterDoc\')"\r\n                            />\r\n                          </div>\r\n                          <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                            <label>Download:</label>\r\n                            <a id="offerLetterDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.offerLetterDocument)">Offer letter</a> <!-- Offer letter-->\r\n                          </div>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!-- <div class="panel panel-default">\r\n                    <div>\r\n                      <div class="panel-body">\r\n                        <label class="checkbox-inline">\r\n                          <input type="checkbox" value="">Both Rating Agency Document:</label>\r\n                      </div>\r\n                    </div>\r\n                  </div> -->\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-default">\r\n                      <div class="panel-heading">\r\n\r\n                        <div class="row" ng-init="showISIN=\'false\'">\r\n                          <h4 class="panel-title col-sm-3">ISIN Creation Mail:</h4>\r\n                          <button type="button" ng-class="{ \'active\': $ctrl.form.isISINCreationMail}" ng-click="$ctrl.change($ctrl.form.isISINCreationMail= !$ctrl.form.isISINCreationMail)"\r\n                            class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                            <div class="handle"></div>\r\n                          </button>\r\n                          <!-- <select ng-model="$ctrl.form.isISINCreationMail" name="showISIN" class="col-sm-1" ng-change="$ctrl.change($ctrl.form.isISINCreationMail,\'isISINCreationMail\')">\r\n                              <option value="false">No</option>\r\n                              <option value="true">Yes</option>\r\n                            </select> -->\r\n                        </div>\r\n                      </div>\r\n                      <div ng-show="$ctrl.form.isISINCreationMail">\r\n                        <div class="panel-body">\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">ISIN:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <!-- ng-pattern="/^[a-zA-Z0-9\\.]*$/" -->\r\n                            <input type="text" class="form-control" id="gName" placeholder="ISIN Number" ng-model="$ctrl.form.isinNo" name="abc" readonly>\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            &nbsp;\r\n                          </div>\r\n                          <div class="form-group col-sm-12">\r\n                            &nbsp;\r\n                          </div>\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Documents:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <input id="isinDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.isinDoc" ng-change="$ctrl.checkFileSize($ctrl.isinDoc,\'isinDoc\')"\r\n                            />\r\n                          </div>\r\n                          <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                            <label>Download:</label>\r\n                            <a id="isinDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.isinDocument)">{{$ctrl.isinDocument}}</a>\r\n                          </div>\r\n\r\n                        </div>\r\n                      </div>\r\n                      <div ng-show="$ctrl.form.isISINCreationMail==\'false\'">\r\n                        <div class="panel-body">\r\n                          <div class="form-group col-sm-6">\r\n                            <label for="name">Reason:\r\n                              <span style="color: red">*</span>\r\n                            </label>\r\n                            <textarea rows="5" class="form-control" id="gDesc" placeholder="Specify Reason" ng-model="$ctrl.create.noISINReason" name="abc"\r\n                              ng-readonly="$ctrl.role==\'ipa_checker\'" required></textarea>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="form-group col-sm-6">\r\n                  <label for="name">Total CP Issue:\r\n                    <span style="color: red">*</span>\r\n                  </label>\r\n                  <div class="input-group">\r\n                    <span class="input-group-addon">\r\n                      <i class="fa fa-inr"></i>\r\n                    </span>\r\n\r\n                    <!-- ng-pattern="/^[0-9]\\d{0,100}(\\.\\d{1,5})?%?$/" \r\n                      $ctrl.form.totalAmount=($ctrl.form.totalAmount|INR)  -->\r\n                    <input type="text" class="form-control" id="gtotalCPIssue" placeholder="Total CP Issue" ng-model="$ctrl.form.totalCPIssue"\r\n                      ng-bind="$ctrl.form.totalCPIssue=($ctrl.form.totalAmount|INR)" name="abc" readonly>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="form-group col-sm-6">\r\n                  &nbsp;\r\n                </div>\r\n\r\n                <div class="form-group col-sm-12">\r\n                  &nbsp;\r\n                </div>\r\n\r\n                <div class="col-md-12" style="padding-left: 350px; padding-right: 350px; position:absolute;\r\n                  top:-22%">\r\n                  <div class="alert alert-success" ng-show="$ctrl.saved==true">\r\n                    <strong>Success!</strong> Customer successfully Registered...!\r\n                  </div>\r\n                  <div class="alert alert-danger" ng-show="$ctrl.faild==true">\r\n                    <strong>Failure!</strong> Customer Already Registered...!\r\n                  </div>\r\n                </div>\r\n\r\n                <div class="col-sm-6">\r\n                  <button class="btn btn-primary" ng-click="$ctrl.registerTranche()" ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit" ng-disabled="!$ctrl.form.isinNumber || !$ctrl.form.valueDate\r\n                      || !$ctrl.form.maturityDate || !$ctrl.form.totalAmount || !$ctrl.form.rbiLetterDate || !$ctrl.form.bankBorrowing || !$ctrl.form.nameOfStockExchange || !$ctrl.form.purposeOfFund \r\n                      || !$ctrl.form.offerLetterDated || !$ctrl.form.totalCPIssue  || !$ctrl.form.issuerCategory || !$ctrl.form.industrySector" >Submit</button>\r\n\r\n\r\n\r\n\r\n\r\n                  <!-- <button class="btn btn-primary" ng-click="$ctrl.registerTranche()" >Submit</button> -->\r\n\r\n\r\n                  <button class="btn btn-primary" ng-click="$ctrl.updateTranche()" ng-show="$ctrl.isEdit && $ctrl.role==\'ipa_maker\'" ng-disabled="!$ctrl.form.isinNumber || !$ctrl.form.valueDate\r\n                      || !$ctrl.form.maturityDate || !$ctrl.form.totalAmount || !$ctrl.form.rbiLetterDate || !$ctrl.form.bankBorrowing || !$ctrl.form.nameOfStockExchange || !$ctrl.form.purposeOfFund \r\n                      || !$ctrl.form.offerLetterDated || !$ctrl.form.totalCPIssue  || !$ctrl.form.issuerCategory || !$ctrl.form.industrySector">Update</button>\r\n\r\n\r\n\r\n                  <button class="btn btn-default" ng-click="$ctrl.cancelled()" ng-show="$ctrl.role==\'ipa_maker\'">Cancel</button>\r\n                  <button class="btn btn-primary" ng-click="$ctrl.back()" ng-show="$ctrl.role==\'ipa_checker\'">back</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<script>\r\n  $(\'#dtpFilter\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter1\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter2\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter3\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n</script>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a,i,o=t(668),s=n(o),l=t(689),c=n(l),d=t(695),u=n(d),p=t(416),m=n(p),f=t(434),g=n(f),h=t(454),v=r(h),b=(t(697),t(703),t(510)),y=function(){function e(t,r,n,o,s,l){var c=this;if((0,m.default)(this,e),this.finalamt=0,this.mailId=[],this.isRatingChecked=!1,this.isEdit=!1,this.validityPeriodOfRatingExpired=!1,this.formdata=new FormData,this.form={RatingDataUsed:null,otherPurposeOfFund:null,cpNumber:null,customerId:null,customerName:null,isISINCreationMail:!1,isinCreationMail:null,isinNumber:null,valueDate:null,maturityDate:null,totalAmount:null,creditRatingAgency:null,brLimit:null,workingCapital:null,netWorth:null,rbiLetterDate:null,bankBorrowing:null,issuerCategory:null,industrySector:null,nameOfStockExchange:null,nocFromBank:null,purposeOfFund:null,ratingLetterdetails:null,detailOfTranche:null,cpOutstandingAmount:null,offerLetterDated:null,previousOutstandingAmount:null,isinNo:null,noISINReason:null,totalCPIssue:null,cp:null,createdBy:null,updatedBy:null,status:null,mailIdList:[],makerMailId:null,coveringLetterDoc:null,rbiLetterDoc:null,offerLetterDoc:null,isinDoc:null,ratingAgencyName:null,currentCreditRating:null,validityOfIssuance:null,issuancePeriodIn:null,ratingPeriodIn:null,validityPeriod:null},this.documents={coveringLetterDoc:null,rbiLetterDoc:null,offerLetterDoc:null,isinDoc:null},a=this,a.isEdit=!1,this.$q=n,this.scope=l,this.baseUrl=v.CONFIG.BASE_URL,this.name="add_security",this.securityService=t,this.state=s,this.commonService=o,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId)),this.mailId.push(this.myStorage.getItem("IdList")),this.role=this.myStorage.getItem("role"),this.securityService.getIssuerCategory().then(function(e){c.issuerCategoryList=e.data.serviceResponse}),this.securityService.getIndustrySector().then(function(e){c.industrySectorList=e.data.serviceResponse}),$(".nq-ipa-asec-bd-totalamt").on("focusout",function(e){e.target&&c.form.totalAmount>0&&(c.form.totalAmount<5e5?(alert("Total amount cannot be less then 500000. "),c.form.totalAmount=null):c.form.totalAmount%5e5!=0&&alert("Total amount has to be in multiple of 500000. "))}),r.tranch){a.isEdit=!0,a.form=r.tranch,this.cpNumber=a.form.commercialPaper,a.getRatingsDetailsByCpAndTrancheId(a.form.commercialPaper,r.tranch),i=this.cpNumber.cpNumber,a.form.isISINCreationMail&&(this.form.isISINCreationMail="true"),a.previousvalue=a.form.totalAmount,this.coveringLetterDocument=a.form.coveringLetterDoc,this.rbiLetterDocument=a.form.rbiLetterDoc,this.offerLetterDocument=a.form.offerLetterDoc,this.isinDocument=a.form.isinDoc,a.tempTranch=a.form,a.ratingAgencyName=this.form.ratingAgencyName,a.cpOutstandingAmount=a.form.cpOutstandingAmount,a.previousOutstandingAmount=a.form.previousOutstandingAmount,console.log(a.form.commercialPaper.customer.br[0].approvedAmount);var d=a.form.commercialPaper.customer.br;d.forEach(function(e){a.tempBrData=e})}}return(0,g.default)(e,[{key:"getRatingsDetailsByCpAndTrancheId",value:function(e,t){var r=this;this.securityService.getRatingsDetailsByCpAndTrancheId(e,t).then(function(e){if($(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus){var t=e.data.serviceResponse;a.ratingList=t;for(var n=0;n<a.ratingList.length;n++)0==n?r.fstamt=a.ratingList[n].creditRatingAmount:(n=1)&&(r.secamt=a.ratingList[n].creditRatingAmount);r.fstamt>r.secamt?(a.isRatingLower=a.ratingList[1].id,a.form.RatingDataUsed=a.ratingList[1]):r.fstamt==r.secamt&&(void 0!=a.ratingAgencyName||null!=a.ratingAgencyName)?a.ratingList.forEach(function(e){a.ratingAgencyName==e.creditRatingAgency&&(a.isRatingLower=e.id,a.form.RatingDataUsed=e)}):(a.isRatingLower=a.ratingList[0].id,a.form.RatingDataUsed=a.ratingList[0]),a.form.ratingAgencyName=a.form.RatingDataUsed.creditRatingAgency,a.form.currentCreditRating=a.form.RatingDataUsed.creditRating,a.form.validityOfIssuance=a.form.RatingDataUsed.validityOfIssuance,a.form.validityPeriod=a.form.RatingDataUsed.validityPeriod,"Date"==a.form.RatingDataUsed.issuancePeriodIn?a.form.issuancePeriodIn="":a.form.issuancePeriodIn=a.form.RatingDataUsed.issuancePeriodIn,"Date"==a.form.RatingDataUsed.ratingPeriodIn?a.form.ratingPeriodIn="":a.form.ratingPeriodIn=a.form.RatingDataUsed.ratingPeriodIn,a.oldRating=a.form.RatingDataUsed;var i=a.data.customer.br;if(i.forEach(function(e){a.tempBrData=e}),null!=a.data.tranche&&a.data.tranche.length>0){a.data.tranche}}else alert(e.data.serviceStatus)})}},{key:"getCpIdUsingTrancheId",value:function(e){var t=this;a.securityService.getCpIdUsingTrancheId(e).then(function(e){if($(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus){a.ratingList=e.data.serviceResponse;for(var r=0;r<a.ratingList.length;r++)0==r?t.fstamt=a.ratingList[r].creditRatingAmount:(r=1)&&(t.secamt=a.ratingList[r].creditRatingAmount);t.fstamt>t.secamt?(a.isRatingLower=a.ratingList[1].id,a.form.RatingDataUsed=a.ratingList[1]):t.fstamt==t.secamt&&(void 0!=a.ratingAgencyName||null!=a.ratingAgencyName)?a.ratingList.forEach(function(e){a.ratingAgencyName==e.creditRatingAgency&&(a.isRatingLower=e.id,a.form.RatingDataUsed=e)}):(a.isRatingLower=a.ratingList[0].id,a.form.RatingDataUsed=a.ratingList[0]),a.form.ratingAgencyName=a.form.RatingDataUsed.creditRatingAgency,a.form.currentCreditRating=a.form.RatingDataUsed.creditRating,a.form.validityOfIssuance=a.form.RatingDataUsed.validityOfIssuance,a.form.validityPeriod=a.form.RatingDataUsed.validityPeriod,"Date"==a.form.RatingDataUsed.issuancePeriodIn?a.form.issuancePeriodIn="":a.form.issuancePeriodIn=a.form.RatingDataUsed.issuancePeriodIn,"Date"==a.form.RatingDataUsed.ratingPeriodIn?a.form.ratingPeriodIn="":a.form.ratingPeriodIn=a.form.RatingDataUsed.ratingPeriodIn,a.oldRating=a.form.RatingDataUsed;var n=a.data.customer.br;if(n.forEach(function(e){a.tempBrData=e}),null!=a.data.tranche&&a.data.tranche.length>0){a.data.tranche}}})}},{key:"inputChanged",value:function(e){var t=this;if(e){if(a.data=e.originalObject,a.isUserActive=a.data.customer.isUserActive,a.leiMaturityDate=a.data.customer.leiMaturityDate,a.ipaAggrementExpirydate=a.data.customer.ipaAggrementExpirydate,this.ratingdefault=a.data.ratings,"Pending"==a.data.status||"CallBack"==a.data.status)return alert("CP is not Approved For Tranche...!"),a.scope.$broadcast("angucomplete-alt:changeInput","CummercialPaper"," "),void(a.data=null);var r=b(a.data.customer.defaultDate,"DD/MM/YYYY"),n=b(a.data.customer.defaultPeriodEndDate,"DD/MM/YYYY"),i=b().format("DD/MM/YYYY"),o=b(i,"DD/MM/YYYY"),s=b(o).isBetween(r,n),l=b(o).isSame(r),c=b(o).isSame(n);if(l||s||c)return alert("Tranche will not register up to Default date "+a.data.customer.defaultPeriodEndDate),a.scope.$broadcast("angucomplete-alt:changeInput","CummercialPaper  "," "),void(a.data=null);"true"==a.isEdit.toString()?console.log("inside isEdit "+a.isEdit):(console.log("inside else "+a.isEdit),a.securityService.getOriginalRatingsDetailsByCpId(a.data.customer.customerId).then(function(e){if(console.log(e),$(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus){var r=e.data.serviceResponse;a.ratingList=r,a.data.ratings=a.ratingList;for(var n=0;n<a.ratingList.length;n++)0==n?t.fstamt=a.ratingList[n].creditRatingAmount:(n=1)&&(t.secamt=a.ratingList[n].creditRatingAmount);t.fstamt>t.secamt?(a.isRatingLower=a.ratingList[1].id,a.form.RatingDataUsed=a.ratingList[1]):t.fstamt==t.secamt&&(void 0!=a.ratingAgencyName||null!=a.ratingAgencyName)?a.ratingList.forEach(function(e){a.ratingAgencyName==e.creditRatingAgency&&(a.isRatingLower=e.id,a.form.RatingDataUsed=e)}):(a.isRatingLower=a.ratingList[0].id,a.form.RatingDataUsed=a.ratingList[0]),a.form.ratingAgencyName=a.form.RatingDataUsed.creditRatingAgency,a.form.currentCreditRating=a.form.RatingDataUsed.creditRating,a.form.validityOfIssuance=a.form.RatingDataUsed.validityOfIssuance,a.form.validityPeriod=a.form.RatingDataUsed.validityPeriod,"Date"==a.form.RatingDataUsed.issuancePeriodIn?a.form.issuancePeriodIn="":a.form.issuancePeriodIn=a.form.RatingDataUsed.issuancePeriodIn,"Date"==a.form.RatingDataUsed.ratingPeriodIn?a.form.ratingPeriodIn="":a.form.ratingPeriodIn=a.form.RatingDataUsed.ratingPeriodIn,a.oldRating=a.form.RatingDataUsed;var i=a.data.customer.br;if(i.forEach(function(e){a.tempBrData=e}),null!=a.data.tranche&&a.data.tranche.length>0){a.data.tranche}}else alert(e.data.serviceStatus)}))}}},{key:"validateRatingExpiry",value:function(){this.ratingdefault=a.data.ratings;for(var e=b(this.form.valueDate,"DD/MM/YYYY"),t=void 0,r=0;r<this.ratingdefault.length;r++){if("Days"===this.ratingdefault[r].issuancePeriodIn){var n=b(this.ratingdefault[r].dateOfRating,"DD/MM/YYYY").add(this.ratingdefault[r].validityOfIssuance,"days");t=b(n,"DD/MM/YYYY")}if("Date"===this.ratingdefault[r].issuancePeriodIn&&(t=b(this.ratingdefault[r].validityOfIssuance,"DD/MM/YYYY")),"Months"===this.ratingdefault[r].issuancePeriodIn){var i=b(this.ratingdefault[r].dateOfRating,"DD/MM/YYYY").add(this.ratingdefault[r].validityOfIssuance,"months");t=b(i,"DD/MM/YYYY")}e.isAfter(t)&&(this.isRatingExpired=!0,this.form.valueDate="")}if(this.isRatingExpired)return void alert("Rating expired, Please choose other")}},{key:"onMaturityDateChanged",value:function(e){var t=this;a.validityPeriodOfRatingExpired=!1;var r=a.data.ratings;console.log("Maturiry date found"+a.form.maturityDate);for(var n=b(a.form.maturityDate,"DD/MM/YYYY").format("DD/MM/YYYY"),i=0;i<r.length;i++){r[i].dateOfRating;"Date"===r[i].ratingPeriodIn&&(this.expiryDate=b(r[i].validityPeriod,"DD/MM/YYYY").format("DD/MM/YYYY"),console.log("Exp dt :"+this.expiryDate),b(n,"DD/MM/YYYY").isAfter(b(this.expiryDate,"DD/MM/YYYY"))&&(a.validityPeriodOfRatingExpired=!0))}return a.validityPeriodOfRatingExpired?(alert("Validity Period of Rating is expired"),void(a.form.maturityDate="")):(console.log("have rating validity period"),$(".se-pre-con").show(),void this.securityService.onMaturityDateChanged(this.data.customerId,this.form.maturityDate).then(function(e){if(console.log("found : "+e.data.serviceResponse),$(".se-pre-con").hide(),null!=e.data.serviceResponse){var r=e.data.serviceResponse;if(t.form.isinNumber!=r)return alert("ISIN entered mismatched"),void(t.form.maturityDate="")}}))}},{key:"checkISINPattern",value:function(){console.log("ISIN FOund: "+a.form.isinNumber),console.log(isinNumber.length),a.isinCorrect=!0;var e="/\b[a-zA-Z0-9]{12}\b/";return 12==a.isinNumber.length?!!isinNumber.match(e)||void alert("Please enter correct ISIN"):void alert("Please enter valid ISIN ")}},{key:"getIsinDetails",value:function(e){if(console.log(e),$(".nq-ipa-tr-bd-matdate").attr("disabled",!1),e&&(a.scope.$broadcast("angucomplete-alt:changeInput","isinNumber",""),"null"!=a.data.serviceResponse))if(null!=e.originalObject.maturityDate){a.form.maturityDate=e.originalObject.maturityDate,$(".nq-ipa-tr-bd-matdate").attr("disabled",!0),a.validityPeriodOfRatingExpired=!1;for(var t=a.data.ratings,r=a.form.maturityDate,n=0;n<t.length;n++){var i=t[n].dateOfRating;"Year"===t[n].ratingPeriodIn&&(this.expiryDate=b(i,"DD/MM/YYYY").add(t[n].validityPeriod,"year").format("DD/MM/YYYY"),b(r,"DD/MM/YYYY").isAfter(b(this.expiryDate,"DD/MM/YYYY"))&&(a.validityPeriodOfRatingExpired=!0)),"Date"===t[n].ratingPeriodIn&&(this.expiryDate=b(t[n].validityPeriod).format("DD/MM/YYYY"),console.log("Exp dt :"+this.expiryDate),b(r,"DD/MM/YYYY").isAfter(b(this.expiryDate,"DD/MM/YYYY"))&&(a.validityPeriodOfRatingExpired=!0))}if(a.validityPeriodOfRatingExpired)return alert("Validity Period of Rating is expired"),void(a.form.maturityDate="");console.log("have rating validity period")}else a.form.maturityDate=""}},{key:"autofillIsinNumber",value:function(){a.form.isinNumber=$(".nq-ipa-tr-bd-isin")[0].value,a.form.maturityDate=""}},{key:"checkedRating",value:function(e,t){console.log(a.form.RatingDataUsed.id+", index "+e),a.oldRating=a.form.RatingDataUsed,t.creditRatingAmount<a.form.RatingDataUsed.creditRatingAmount||t.creditRatingAmount==a.form.RatingDataUsed.creditRatingAmount?(this.tempRatings=t,a.form.issuancePeriodIn=t.issuancePeriodIn,a.form.ratingPeriodIn=t.ratingPeriodIn,a.form.ratingAgencyName=t.creditRatingAgency,a.form.currentCreditRating=t.creditRating,a.form.validityOfIssuance=t.validityOfIssuance,a.form.validityPeriod=t.validityPeriod,a.isinNumber=this.form.isinNumber,a.totalAmount=this.form.totalAmount,a.maturityDate=this.form.maturityDate,a.form.RatingDataUsed=t,a.isRatingLower=t.id):(alert("Selected Rating having greater amount, can't select "),a.isRatingLower=a.oldRating.id,a.form.RatingDataUsed=a.oldRating,console.log($(".nq-ipa-asec-rat-details0").prop("checked",!0)))}},{key:"validateOfferLetterDate",value:function(){var e=b(this.form.valueDate,"DD/MM/YYYY"),t=b(this.form.offerLetterDated,"DD/MM/YYYY"),r=e.diff(t,"days");return t>e?(alert("Offer Letter Date is less than Value date...!"),void(this.form.offerLetterDated=null)):r>14?(alert("Difference between Offer Letter Date and Value Date should be Less than 14 Days...!"),void(this.form.offerLetterDated=null)):void 0}},{key:"validateMaturityDate",value:function(){var e=b(this.form.valueDate,"DD/MM/YYYY"),t=b(this.form.maturityDate,"DD/MM/YYYY"),r=t.diff(e,"days");return t<e?(alert("Maturity Date must be greater than Value date...!"),void(this.form.maturityDate=null)):r>=0&&(r<6||r>365)?(alert("Maturity Date should not Less than 7 days and greater than 1 Year of todays date...!"),void(this.form.maturityDate=null)):void this.onMaturityDateChanged(t)}},{key:"validateRBILetterDate",value:function(){var e=b(this.form.valueDate,"DD/MM/YYYY"),t=b(this.form.rbiLetterDate,"DD/MM/YYYY");if(t>e)return alert("RBI Letter Date should be Less than or equal to Value Date...!"),void(this.form.rbiLetterDate=null)}},{key:"validateTotalAmount",value:function(){var e,t=this,r=0,n=parseInt(1e10);if("number"!=typeof this.form.totalAmount&&(this.form.totalAmount.includes(",")?this.form.totalAmount=parseInt(this.form.totalAmount.toString().replace(/,/g,"")):this.form.totalAmount=this.form.totalAmount),this.form.totalAmount>=n){if(a.ratingList.length<2)return alert("Amount is greater than or equal to 1000 Cr. , requires two ratings"),void(this.form.totalAmount=null)}else console.log("In else : Total Amt found "+this.form.totalAmount+" <= "+n+" with Ratings found : "+a.ratingList.length);return this.data.commercialPaper&&this.data.commercialPaper.cpAmount<this.form.totalAmount?(alert("You can't enter Total Amount more than CP Amount"),void(this.form.totalAmount=this.form.totalAmount.toString().slice(0,-1))):this.data.cpAmount<this.form.totalAmount?(alert("You can't enter Total Amount more than CP Amount"),void(this.form.totalAmount=this.form.totalAmount.toString().slice(0,-1))):(void 0!=i&&null!=i&&""!=i||(i=a.data.cpNumber),void this.securityService.sumOfTranche(this.form.valueDate,i).then(function(n){return"SUCCESS"!=n.data.serviceStatus?void alert("Internal Server error"):(e=n.data.serviceResponse,null!=e?(a.previousOutstandingAmount=e,r=t.data.commercialPaper?t.data.commercialPaper.cpAmount-e:t.data.cpAmount-e,void 0==a.previousvalue&&null==a.previousvalue||(r+=a.previousvalue)):(a.previousOutstandingAmount=0,e=0,r=t.data.commercialPaper?t.data.commercialPaper.cpAmount:t.data.cpAmount),$(".se-pre-con").hide(),r>=parseInt(t.form.totalAmount)?("number"!=typeof t.form.totalAmount&&(t.form.totalAmount.includes(",")?t.form.totalAmount=parseInt(t.form.totalAmount.toString().replace(/,/g,"")):t.form.totalAmount=t.form.totalAmount),void(void 0!=a.previousvalue||null!=a.previousvalue?t.cpOutstandingAmount=parseInt(t.form.totalAmount):t.cpOutstandingAmount=parseInt(t.form.totalAmount)+e)):(r>0?alert("You have only RS. "+r+" balance"):alert("You have only RS. 0 balance"),t.form.totalAmount=t.form.totalAmount.toString().slice(0,-1),"number"!=typeof t.form.totalAmount&&(t.form.totalAmount.includes(",")?t.form.totalAmount=parseInt(t.form.totalAmount.toString().replace(/,/g,"")):t.form.totalAmount=t.form.totalAmount),void(void 0!=a.previousvalue||null!=a.previousvalue?t.cpOutstandingAmount=parseInt(t.form.totalAmount):t.cpOutstandingAmount=parseInt(t.form.totalAmount)+e)))}).catch(function(e){console.log("mainerror",e)}))}},{key:"validatePurposeOfFund",value:function(){this.isOtherPurpose=!1,this.form.otherPurposeOfFund=null,"Other"==this.form.purposeOfFund&&(this.isOtherPurpose=!0)}},{key:"change",value:function(e,t){(t=!this.form.isISINCreationMail&&"ipa_maker"==this.role)?(this.form.isinNo=null,document.getElementById("isinDoc").value=null):this.form.isinNo=this.form.isinNumber}},{key:"back",value:function(){this.state.go("requests/request")}},{key:"cancelled",value:function(){this.state.go("security/details")}},{key:"checkFileSize",value:function(e,t){var r=1048576,n=e[0].size/r;n>10&&(alert("File size should not greater than 10 MB"),document.getElementById(t).value=null)}},{key:"universalFun",value:function(){a.ratingList=a.data.ratings;var e=this.$q.defer();this.ratingeletterdate=this.form.RatingDataUsed.dateOfRating,this.ratinglettervalidday=this.form.RatingDataUsed.validityOfIssuance,this.ratingPeriodInbk=this.form.RatingDataUsed.issuancePeriodIn;var t;if("Days"==this.form.RatingDataUsed.issuancePeriodIn)var t=b(this.form.RatingDataUsed.dateOfRating,"DD MM YYYY").add(this.ratinglettervalidday,"days");else t="Months"==this.form.RatingDataUsed.issuancePeriodIn?b(this.form.RatingDataUsed.dateOfRating,"DD MM YYYY").add(this.ratinglettervalidday,"months"):b(this.form.RatingDataUsed.validityOfIssuance,"DD MM YYYY");return b(this.form.valueDate,"DD/MM/YYYY").isBefore(t)||(alert("Your rating expired,Choose other rating"),e.reject()),a.oldRating.creditRatingAmount<this.form.RatingDataUsed.creditRatingAmount&&(alert(" you have select MAX Amt"),e.reject()),e.resolve(),e.promise}},{key:"registerTranche",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");if(b(this.form.valueDate,"DD/MM/YYYY").isAfter(b(a.leiMaturityDate,"DD/MM/YYYY")))return void alert("LEI maturity date expired");if(a.validityPeriodOfRatingExpired)return void alert("Rating validity expired");var t="^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$";if(12!=a.form.isinNumber.length)return void alert("Please enter valid ISIN ");if(!a.form.isinNumber.match(t))return void alert("Please enter correct ISIN");if(this.form.cpNumber=this.data.cpNumber,this.form.customerId=this.data.customerId,this.form.customerName=this.data.customerName,this.form.createdBy=this.myStorage.getItem("userName"),this.form.status="Pending",this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),this.form.creditRatingAgency=this.ratingAgencyName,this.form.brLimit=this.tempBrData.approvedAmount,this.form.workingCapital=this.data.customer.workingCapital,this.form.netWorth=this.data.customer.netWorth,this.form.cpOutstandingAmount=this.cpOutstandingAmount,this.form.previousOutstandingAmount=this.previousOutstandingAmount,"number"!=typeof this.form.totalAmount){if(this.form.totalAmount.includes(",")){var r=this.form.totalAmount.replace(/,/g,"");if(this.form.totalAmount=r,this.form.totalAmount<5e5)return alert("Total amount cannot be less then 500000. "),void(this.form.totalAmount=null);this.form.totalAmount%5e5!=0&&alert("Total amount has to be in multiple of 500000. ")}}else{if(this.form.totalAmount<5e5)return alert("Total amount cannot be less then 500000. "),void(this.form.totalAmount=null);this.form.totalAmount%5e5!=0&&alert("Total amount has to be in multiple of 500000. ")}if("number"!=typeof this.form.cpOutstandingAmount&&this.form.cpOutstandingAmount.includes(",")&&(this.form.cpOutstandingAmount=this.form.cpOutstandingAmount.replace(/,/g,"")),void 0!=this.form.previousOutstandingAmount&&"number"!=typeof this.form.previousOutstandingAmount&&""!=this.form.previousOutstandingAmount&&this.form.previousOutstandingAmount.toString().includes(",")){var n=this.form.previousOutstandingAmount.replace(/,/g,"");this.form.previousOutstandingAmount=n}if("number"!=typeof this.form.totalAmount&&this.form.totalAmount.includes(",")){var r=this.form.totalAmount.replace(/,/g,"");this.form.totalAmount=r}if(""!=this.form.bankBorrowing&&this.form.bankBorrowing.includes(",")){var i=this.form.bankBorrowing.replace(/,/g,"");this.form.bankBorrowing=i}if(this.form.workingCapital.includes(",")){var o=this.form.workingCapital.replace(/,/g,"");this.form.workingCapital=o}if(this.form.netWorth.includes(",")){var s=this.form.netWorth.replace(/,/g,"");this.form.mynetWorth=s}if("number"!=typeof this.tempBrData.approvedAmount&&this.tempBrData.approvedAmount.includes(",")){var l=this.tempBrData.approvedAmount.replace(/,/g,"");this.tempBrData.approvedAmount=l}if(this.form.totalCPIssue.includes(",")){var c=this.form.totalCPIssue.replace(/,/g,"");this.form.totalCPIssue=c}if("Pending"==this.data.customer.status||"CallBack"==this.data.customer.status)return void alert("Customer is not Approved For Tranche...!");if("Pending"==this.data.status||"CallBack"==this.data.status)return void alert("CP is not Approved For Tranche...!");if(1==this.form.isISINCreationMail){if(null==this.isinDoc||1!=this.isinDoc.length)return void alert("ISINCreationMail Document not choosed ..please choose document...!");var d=this.isinDoc[0].name,u=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!d.match(u))return alert("Support only PDF file...!"),!1;this.formdata.append("uploadingFiles",this.isinDoc[0]),this.form.isinDoc=this.isinDoc[0].name}if(null==this.coveringLetterDoc||1!=this.coveringLetterDoc.length)return void alert("Covering Letter Document not choosed ..please choose document...!");var d=this.coveringLetterDoc[0].name,u=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!d.match(u))return void alert("Covering Letter Document---Invalid File...Support only PDF file...!");if(this.formdata.append("uploadingFiles",this.coveringLetterDoc[0]),this.form.coveringLetterDoc=this.coveringLetterDoc[0].name,null==this.rbiLetterDoc||1!=this.rbiLetterDoc.length)return void alert("RBI Letter Document not choosed ..please choose document...!");var d=this.rbiLetterDoc[0].name,u=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!d.match(u))return void alert("RBI Letter Document--- Invalid File...Support only PDF file...!");if(this.formdata.append("uploadingFiles",this.rbiLetterDoc[0]),this.form.rbiLetterDoc=this.rbiLetterDoc[0].name,null==this.offerLetterDoc||1!=this.offerLetterDoc.length)return void alert("Offer Letter Document not choosed ..please choose document...!");var d=this.offerLetterDoc[0].name,u=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;return d.match(u)?(this.formdata.append("uploadingFiles",this.offerLetterDoc[0]),this.form.offerLetterDoc=this.offerLetterDoc[0].name,"number"!=typeof this.form.brLimit?this.form.brLimit=parseFloat(this.form.brLimit.replace(/,/g,"")):this.form.brLimit=parseFloat(this.form.brLimit),"number"!=typeof this.form.cpOutstandingAmount?this.form.cpOutstandingAmount=parseFloat(this.form.cpOutstandingAmount.replace(/,/g,"")):this.form.cpOutstandingAmount=parseFloat(this.form.cpOutstandingAmount),"number"!=typeof this.form.totalCPIssue?this.form.totalCPIssue=parseFloat(this.form.totalCPIssue.replace(/,/g,"")):this.form.totalCPIssue=parseFloat(this.form.totalCPIssue),this.formdata.append("requestInput",angular.toJson(this.form)),void this.securityService.registerTranche(this.formdata,a.finalamt).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Tranche Registerd Successfully...!"),e.state.go("security/details");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return"CP is not Approved"==t.data.serviceError?void alert("CP is Not Approved for Requested Tranche...!"):"CP Amount exceed than BR Amount"==t.data.serviceError?void alert("CP Amount is exceed than BR Amount...!"):"Single rating, sum exceeds error"==t.data.serviceError?void alert("Unable to submit Tranche as Single rating and Sum of total amount is >= 1000 Cr."):void alert("Error In Registerd Tranch...!");alert("Tranche Successfully Registerd. But mail has not send...!"),e.state.go("security/details")}})):void alert("Offer Letter Document Invalid File...Support only PDF file...!")}},{key:"stat",value:function(){return"hello"}},{key:"updateTranche",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");if(this.form.updatedBy=this.myStorage.getItem("userName"),this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),delete this.form.cp,delete this.form.deal,this.form.creditRatingAgency=a.ratingAgencyName,this.form.cpOutstandingAmount.toString().includes(",")){var t=this.form.cpOutstandingAmount.replace(/,/g,"");this.form.cpOutstandingAmount=t}if((0,u.default)(this.form.previousOutstandingAmount).includes(",")){var r=this.form.previousOutstandingAmount.replace(/,/g,"");this.form.previousOutstandingAmount=r}if(this.form.totalAmount.includes(",")){var n=this.form.totalAmount.replace(/,/g,"");this.form.totalAmount=n}if(this.form.bankBorrowing.includes(",")){var i=this.form.bankBorrowing.replace(/,/g,"");this.form.bankBorrowing=i}if(this.form.workingCapital.includes(",")){var o=this.form.workingCapital.replace(/,/g,"");this.form.workingCapital=o}if(this.form.netWorth.includes(",")){var l=this.form.netWorth.replace(/,/g,"");this.form.mynetWorth=l}if(console.log("App Amt "+this.tempBrData.approvedAmount),this.tempBrData.approvedAmount.toString().includes(",")){var d=this.tempBrData.approvedAmount.replace(/,/g,"");this.tempBrData.approvedAmount=d}if(this.form.totalCPIssue.toString().includes(",")){var p=this.form.totalCPIssue.replace(/,/g,"");this.form.totalCPIssue=p}if(this.form.detailOfTranche=this.form.totalAmount,1==this.form.isISINCreationMail||"true"==this.form.isISINCreationMail){if(null!=this.isinDoc&&this.isinDoc.length>0){var m=this.isinDoc[0].name,f=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!m.match(f))return void alert("ISIN Document--- Invalid File...Support only PDF file...!");this.formdata.append("uploadingFiles",this.isinDoc[0]),this.form.isinDoc=this.isinDoc[0].name}}else if(0!=this.form.isISINCreationMail)return void alert("ISIN Document not choosed ..please choose document...!");if(null!=this.coveringLetterDoc&&1==this.coveringLetterDoc.length){var m=this.coveringLetterDoc[0].name,f=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!m.match(f))return alert("Covering Letter Document---Invalid File...Support only PDF file...!"),!1;this.formdata.append("uploadingFiles",this.coveringLetterDoc[0]),this.form.coveringLetterDoc=this.coveringLetterDoc[0].name}if(null!=this.rbiLetterDoc&&1==this.rbiLetterDoc.length){var m=this.rbiLetterDoc[0].name,f=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!m.match(f))return alert("RBI Letter Document--- Invalid File...Support only PDF file...!"),!1;this.formdata.append("uploadingFiles",this.rbiLetterDoc[0]),this.form.rbiLetterDoc=this.rbiLetterDoc[0].name}if(null!=this.offerLetterDoc&&1==this.offerLetterDoc.length){var m=this.offerLetterDoc[0].name,f=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!m.match(f))return alert("Offer Letter Document Invalid File...Support only PDF file...!"),!1;this.formdata.append("uploadingFiles",this.offerLetterDoc[0]),this.form.offerLetterDoc=this.offerLetterDoc[0].name}if(null!=this.coveringLetterDoc&&1==this.coveringLetterDoc.length||null!=this.rbiLetterDoc&&1==this.rbiLetterDoc.length||null!=this.offerLetterDoc&&1==this.offerLetterDoc.length||null!=this.isinDoc&&this.isinDoc.length>0){var g=(0,c.default)({},this.form);g.cpOutstandingAmount=parseFloat(g.cpOutstandingAmount.replace(/,/g,"")),g.totalCPIssue=parseFloat(g.totalCPIssue.replace(/,/g,"")),this.formdata.append("requestInput",angular.toJson(g));var h=!0,v=!1,b=void 0;try{for(var y,D=(0,s.default)(this.formdata.entries());!(h=(y=D.next()).done);h=!0){var I=y.value;console.log(I[0]+", "+I[1])}}catch(e){v=!0,b=e}finally{try{!h&&D.return&&D.return()}finally{if(v)throw b}}this.securityService.updateTranche(this.formdata,a.finalamt).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Tranch Updated Successfully...!"),e.state.go("security/details");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return void alert("Error- Something went wrong in update Tranche...!");alert("Tranche Successfully Updated but mail has not send...!"),e.state.go("security/details")}})}else this.form.cpOutstandingAmount=parseFloat(this.form.cpOutstandingAmount.replace(/,/g,"")),this.form.totalCPIssue=parseFloat(this.form.totalCPIssue.replace(/,/g,"")),this.formdata.append("requestInput",angular.toJson(this.form)),this.securityService.updateTranche(this.formdata,a.finalamt).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Tranch Updated Successfully...!"),e.state.go("security/details");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return void alert("Error- Something went wrong in update Tranche...!");alert("Tranche Successfully Updated but mail has not send...!"),e.state.go("security/details")}})}},{key:"uploadDoc",value:function(){var e,t,r=this.coveringLetterDoc,n=this.rbiLetterDoc,a=this.offerLetterDoc,i=this.isinDoc,o=this.form.customerId;return this.securityService.uploadDoc(r,n,a,i,e,t,o).then(function(e){return e.data})}},{key:"downloadDocument",value:function(e){var t=this.form.customerId,r=this.form.trancheId,n=e.substr(e.lastIndexOf(".")+1);this.securityService.downloadDocument(e,t,r).then(function(e){var t=[];t.push(e.binaryData);var r=document.createElement("a");r.style="display: none",document.body.appendChild(r);var a=window.URL.createObjectURL(new Blob([e.data],{type:"application/extension"}));r.href=a,r.download="Output."+n,r.click(),window.URL.revokeObjectURL(a)})}},{key:"validateValueDate",value:function(){var e=b().format("DD/MM/YYYY"),t=b(e,"DD/MM/YYYY"),r=b(this.form.valueDate,"DD/MM/YYYY");if(r<t)return alert("Value date should be current Date or greater than current Date...!"),void(this.form.valueDate=null);var n=b(r).format("DD/MM/YYYY");if(b(n,"DD/MM/YYYY").isAfter(b(a.ipaAggrementExpirydate,"DD/MM/YYYY")))return alert("IPA agreement expired"),void(this.form.valueDate=null);if(null!=this.form.maturityDate){var i=b(this.form.maturityDate,"DD/MM/YYYY"),o=i.diff(r,"days");if(i<r)return alert("Maturity Date must be greater than Value date...!"),void(this.form.maturityDate=null);if(o>=0&&(o<6||o>365))return alert("Maturity Date should not greater than 7 days and less than 1 Year of todays date...!"),void(this.form.maturityDate=null);this.validateRatingExpiry()}}}]),e}();y.$inject=["securityService","$stateParams","$q","commonService","$state","$scope"],exports.default=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var r=t(706);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,'.pannel_show{height:auto}.pannel_hide{height:0}input[type=date]:before{width:100%}input[type=date]:before,input[type=date]:focus:before,input[type=date]:hover:before{content:attr(data-placeholder)}.btn-toggle{margin:0 4rem;padding:0;position:relative;border:none;height:1.5rem;width:3rem;border-radius:1.5rem;color:#6b7381;background:#bdc1c8}.btn-toggle.focus,.btn-toggle.focus.active,.btn-toggle:focus,.btn-toggle:focus.active{outline:none}.btn-toggle:after,.btn-toggle:before{line-height:1.5rem;width:4rem;text-align:center;font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle:before{content:"Off";left:-4rem}.btn-toggle:after{content:"On";right:-4rem;opacity:.5}.btn-toggle>.handle{position:absolute;top:.1875rem;left:.1875rem;width:1.125rem;height:1.125rem;border-radius:1.125rem;background:#fff;transition:left .25s}.btn-toggle.active{transition:background-color .25s}.btn-toggle.active>.handle{left:1.6875rem;transition:left .25s}.btn-toggle.active:before{opacity:.5}.btn-toggle.active:after{opacity:1}.btn-toggle.btn-sm:after,.btn-toggle.btn-sm:before{line-height:-.5rem;color:#fff;letter-spacing:.75px;left:.41250000000000003rem;width:2.325rem}.btn-toggle.btn-sm:before{text-align:right}.btn-toggle.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-sm.active:before{opacity:0}.btn-toggle.btn-xs:after,.btn-toggle.btn-xs:before{display:none}.btn-toggle:after,.btn-toggle:before{color:#6b7381}.btn-toggle.active{background-color:#c81b5d}.btn-toggle.btn-lg{margin:0 5rem;padding:0;position:relative;border:none;height:2.5rem;width:5rem;border-radius:2.5rem}.btn-toggle.btn-lg.focus,.btn-toggle.btn-lg.focus.active,.btn-toggle.btn-lg:focus,.btn-toggle.btn-lg:focus.active{outline:none}.btn-toggle.btn-lg:after,.btn-toggle.btn-lg:before{line-height:2.5rem;width:5rem;text-align:center;font-weight:600;font-size:1rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-lg:before{content:"No";left:1rem;font-weight:700}.btn-toggle.btn-lg:after{content:"Yes";right:-5rem;opacity:0}.btn-toggle.btn-lg>.handle{position:absolute;top:.3125rem;left:.3125rem;width:1.875rem;height:1.875rem;border-radius:1.875rem;background:#fff;transition:left .25s}.btn-toggle.btn-lg.active{transition:background-color .25s}.btn-toggle.btn-lg.active>.handle{left:2.8125rem;transition:left .25s}.btn-toggle.btn-lg.active:before{opacity:.5}.btn-toggle.btn-lg.active:after{opacity:1;right:1rem;color:#fff;font-size:10px}.btn-toggle.btn-lg.btn-sm:after,.btn-toggle.btn-lg.btn-sm:before{line-height:.5rem;color:#fff;letter-spacing:.75px;left:.6875rem;width:3.875rem}.btn-toggle.btn-lg.btn-sm:before{text-align:right}.btn-toggle.btn-lg.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-lg.btn-sm.active:before{opacity:0}.btn-toggle.btn-lg.btn-sm.active:after{opacity:1}.btn-toggle.btn-lg.btn-xs:after,.btn-toggle.btn-lg.btn-xs:before{display:none}.btn-toggle.btn-sm{margin:0 .5rem;padding:0;position:relative;border:none;height:1.5rem;width:3rem;border-radius:1.5rem}.btn-toggle.btn-sm.focus,.btn-toggle.btn-sm.focus.active,.btn-toggle.btn-sm:focus,.btn-toggle.btn-sm:focus.active{outline:none}.btn-toggle.btn-sm:after,.btn-toggle.btn-sm:before{line-height:1.5rem;width:.5rem;text-align:center;font-weight:600;font-size:.55rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-sm:before{content:"No";left:-.5rem}.btn-toggle.btn-sm:after{content:"Yes";right:-.5rem;opacity:.5}.btn-toggle.btn-sm>.handle{position:absolute;top:.1875rem;left:.1875rem;width:1.125rem;height:1.125rem;border-radius:1.125rem;background:#fff;transition:left .25s}.btn-toggle.btn-sm.active{transition:background-color .25s}.btn-toggle.btn-sm.active>.handle{left:1.6875rem;transition:left .25s}.btn-toggle.btn-sm.active:before{opacity:.5}.btn-toggle.btn-sm.active:after{opacity:1}.btn-toggle.btn-sm.btn-sm:after,.btn-toggle.btn-sm.btn-sm:before{line-height:-.5rem;color:#fff;letter-spacing:.75px;left:.41250000000000003rem;width:2.325rem}.btn-toggle.btn-sm.btn-sm:before{text-align:right}.btn-toggle.btn-sm.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-sm.btn-sm.active:before{opacity:0}.btn-toggle.btn-sm.btn-sm.active:after{opacity:1}.btn-toggle.btn-sm.btn-xs:after,.btn-toggle.btn-sm.btn-xs:before{display:none}.btn-toggle.btn-xs{margin:0;padding:0;position:relative;border:none;height:1rem;width:2rem;border-radius:1rem}.btn-toggle.btn-xs.focus,.btn-toggle.btn-xs.focus.active,.btn-toggle.btn-xs:focus,.btn-toggle.btn-xs:focus.active{outline:none}.btn-toggle.btn-xs:after,.btn-toggle.btn-xs:before{line-height:1rem;width:0;text-align:center;font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-xs:before{content:"Off";left:0}.btn-toggle.btn-xs:after{content:"ON";right:0;opacity:.5}.btn-toggle.btn-xs>.handle{position:absolute;top:.125rem;left:.125rem;width:.75rem;height:.75rem;border-radius:.75rem;background:#fff;transition:left .25s}.btn-toggle.btn-xs.active{transition:background-color .25s}.btn-toggle.btn-xs.active>.handle{left:1.125rem;transition:left .25s}.btn-toggle.btn-xs.active:before{opacity:.5}.btn-toggle.btn-xs.active:after{opacity:1}.btn-toggle.btn-xs.btn-sm:after,.btn-toggle.btn-xs.btn-sm:before{line-height:-1rem;color:#fff;letter-spacing:.75px;left:.275rem;width:1.55rem}.btn-toggle.btn-xs.btn-sm:before{text-align:right}.btn-toggle.btn-xs.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-xs.btn-sm.active:before{opacity:0}.btn-toggle.btn-xs.btn-sm.active:after{opacity:1}.btn-toggle.btn-xs.btn-xs:after,.btn-toggle.btn-xs.btn-xs:before{display:none}.btn-toggle.btn-secondary{color:#6b7381;background:#bdc1c8}.btn-toggle.btn-secondary:after,.btn-toggle.btn-secondary:before{color:#6b7381}.btn-toggle.btn-secondary.active{background-color:#ff8300}.angucomplete-searching{color:#acacac;font-size:14px}.angucomplete-description{font-size:14px}.angucomplete-row{padding:5px;color:#000;margin-bottom:4px;clear:both}.angucomplete-selected-row{background-color:#add8e6;color:#fff}.angucomplete-image-holder{padding-top:2px;float:left;margin-right:10px;margin-left:5px}.angucomplete-image{height:34px;width:34px;border-radius:50%;border:1px solid #ececec}.angucomplete-image-default{background-position:50%;background-size:contain;height:34px;width:34px}input[type=radio]{-webkit-appearance:checkbox;-moz-appearance:checkbox;-ms-appearance:checkbox}',""]);
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="securityService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getIssuerCategory",value:function(){var e={method:"GET",url:c.CONFIG.BASE_URL+"/api/getIssuerCategory",headers:{"content-type":"application/json"}};return this.http(e)}},{key:"getIndustrySector",value:function(){var e={method:"GET",url:c.CONFIG.BASE_URL+"/api/getIndustryType",headers:{"content-type":"application/json"}};return this.http(e)}},{key:"onMaturityDateChanged",value:function(e,t){console.log("inside onMaturityDateChanged Service");var r={customerId:e,maturityDate:t};return console.log(r),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/tranche/getIsinNumberOnCustomerIdAndMaturityDate",headers:{"content-type":"application/json"},data:r})}},{key:"registerTranche",value:function(e,t){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/registerTranch",headers:{"content-type":void 0},data:e,params:{previousAmt:t}})}},{key:"updateTranche",value:function(e,t){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/updateTranch",headers:{"content-type":void 0},data:e,params:{previousAmt:t}})}},{key:"uploadDoc",value:function(e,t,r,n,a,i,o){var s=new FormData;return null!=e&&s.append("coveringLetterDoc",e[0]),null!=t&&s.append("rbiLetterDoc",t[0]),null!=r&&s.append("offerLetterDoc",r[0]),null!=n&&s.append("isinDoc",n[0]),s.append("trancheId",a),s.append("dealNumber",i),s.append("customerId",o),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/uploadDocument",processData:!1,headers:{"content-type":void 0},data:s})}},{key:"uploadDoc1",value:function(e,t,r,n,a){var i=new FormData;if("coveringLetterDoc"==e){var o=t;i.append("coveringLetterDoc",o[0])}if("rbiLetterDoc"==e){var s=t;i.append("rbiLetterDoc",s[0])}if("offerLetterDoc"==e){var l=t;i.append("offerLetterDoc",l[0])}if("isinDoc"==e){var d=t;i.append("isinDoc",d[0])}if("defaulterDoc"==e){var u=t;i.append("defaulterDoc",u[0])}return i.append("trancheId",r),i.append("dealNumber",n),i.append("customerId",a),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/uploadDocument",processData:!1,headers:{"content-type":void 0},data:i})}},{key:"downloadDocument",value:function(e,t,r){return this.http({method:"Post",url:c.CONFIG.BASE_URL+"/api/downloadTrancheDoc",processData:!1,headers:{"content-type":"application/json"},params:{fileName:e,customerId:t,trancheId:r},responseType:"blob"})}},{key:"sumOfTranche",value:function(e,t){return this.http({method:"GET",url:c.CONFIG.BASE_URL+"/api/sumoftranch",processData:!1,headers:{"content-type":"application/json"},params:{valueDate:e,cpNumber:t}})}},{key:"getRatingsDetailsByCpAndTrancheId",value:function(e,t){$(".se-pre-con").show();var r={cpId:e.id,trancheId:t.id};return this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getRatingsDetailsByCPAndTrancheId",headers:{"content-type":"application/json"},params:r})}},{key:"getCpIdUsingTrancheId",value:function(e){var t=e[0].id;return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getCpIdUsingTrancheId",headers:{"content-type":void 0},params:{trancheId:t}})}},{key:"getRatingDetailsByCp",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getRatingDetailsByCp",headers:{"content-type":"application/json"},params:e.id})}},{key:"getOriginalRatingsDetailsByCpId",value:function(e){$(".se-pre-con").show();var t={custId:e};return this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getCpDetailsUsingCustomerId",headers:{"content-type":void 0},params:t})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(709),l=r(s),c=t(714),d=r(c),u=a.default.module("demo",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("customer/demo",{url:"/customer/demo",component:"demo"})}]).component("demo",l.default).service("demoService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(710),a=r(n),i=t(711),o=r(i);t(712);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<form role="form" name="groupCreation">\r\n\r\n    <h1>Form Name</h1>\r\n    <input type="text" name="" ng-model="$ctrl.form.formName">\r\n\r\n    <div ng-repeat="c in $ctrl.form.contacts">\r\n        Contact number: {{ c.id }}\r\n        <input type="text" ng-model="c.name">\r\n    </div>\r\n    <button type="button" ng-click="$ctrl.addContact()">Add contact</button>\r\n\r\n    {{$ctrl.form}}\r\n    \r\n</form>\r\n'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=function(){function e(){(0,a.default)(this,e),this.form={formName:null,contacts:[]},this.name="demo"}return(0,o.default)(e,[{key:"addContact",value:function(){this.form.contacts.push({id:void 0!=this.form.contacts?this.form.contacts.length+1:0,name:null})}}]),e}();exports.default=s},function(e,exports,t){var r=t(713);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.name="demoService",this.http=t}return e.$inject=["$http"],(0,o.default)(e,[{key:"demoCustomer",value:function(e){this.http({method:"POST",url:"http://localhost:8080/register",headers:{"content-type":"application/json"},data:e}).then(function(e){})}}]),e}();exports.default=s},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(716),l=r(s),c=t(738),d=r(c),u=a.default.module("details",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("security/details",{url:"/security/details",component:"secdetails"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("secdetails",l.default).service("securityDetailsService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(717),a=r(n),i=t(718),o=r(i);t(736);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    \r\n    <div class="col-lg-12 col-xs-20"> \r\n        <!-- small box -->\r\n       <h1>\r\n            Tranch Details\r\n        </h1>\r\n\r\n        <!-- <div id="custom-search-input">\r\n            <div class="input-group col-md-3">\r\n                <input type="text" class="form-control input-lg" minlength="3" ng-change="$ctrl.fetchTranchRequest()" placeholder="Search Tranche usin CustomerID" ng-model="$ctrl.customerId"/>\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-info btn-lg" type="button">\r\n                        <i class="glyphicon glyphicon-search"></i>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div> -->\r\n\r\n        <div id="custom-search-input">\r\n                <div class="input-group col-md-3">\r\n                <label >Search  Using : \r\n                    <span style="color: red;">*</span></label>\r\n                <select class="form-control input-sm" ng-change="$ctrl.showSearch()" \r\n                        ng-model="$ctrl.tranchSearch">\r\n                        <option  value="">Select</option>\r\n                        <option value="isin">ISIN</option>\r\n                        <option value="customerId">Customer Id</option>\r\n                </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div id="custom-search-input" ng-show="$ctrl.isCustomerSearch==true">\r\n                    <div class="input-group col-md-3">\r\n                        <input type="text" class="form-control input-sm" minlength="3" \r\n                        ng-click="$ctrl.fetchTranchRequest()" \r\n                        ng-change="$ctrl.fetchTranchRequest()"\r\n                        placeholder="Search Tranche using CustomerID" \r\n                        ng-model="$ctrl.customerId"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id="custom-search-input" ng-show="$ctrl.isIsinSearch==true">\r\n                        <div class="input-group col-md-3">\r\n                            <input type="text" class="form-control input-sm" minlength="3" \r\n                            ng-change="$ctrl.fetchTranchRequest()" \r\n                            ng-click="$ctrl.fetchTranchRequest()" \r\n                            placeholder="Search Tranche using ISIN" ng-model="$ctrl.isinNumber"/>\r\n                        </div>\r\n                    </div>\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <!-- <div class="box-body" style="overflow-x: scroll"> -->\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <div>\r\n                                     <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Sr No.</th>\r\n                                                <th>Tranch Id</th>\r\n                                                <th>CP Number</th>\r\n                                                <th>Customer Id</th>                                                                                                    \r\n                                                <th>Customer Name</th>\r\n                                                <th>Total CP Issue</th>\r\n                                                <th>ISIN Number</th>\r\n                                                <th>Value Date</th>\r\n                                                <th>Maturity Date</th>\r\n                                                <th>Total Amount</th>\r\n                                                <!-- <th>Credit Rating Agency</th>\r\n                                                <th>BR Limit</th>\r\n                                                <th>Working Capital</th>\r\n                                                <th>Net Worth</th>\r\n                                                <th>RBI LTR date</th>\r\n                                                <th>Bussiness Activity</th> -->\r\n                                                <th>CP OutStanding Amount</th>\r\n                                                <th>Status</th>\r\n                                                <!-- <th>Bank Borrowing</th> -->\r\n                                                <!-- <th>Total Working Capital Amount</th> -->\r\n                                                <!-- <th>Maximum Purmissable Amount</th> -->\r\n                                                <!-- <th>Name Of Stock Exchange</th> -->\r\n                                                <!-- <th>Purpose Of Fund</th>\r\n                                                <th>Tranche Details</th>         -->\r\n                                                <th>Action</th>\r\n                                                <th ng-show="$ctrl.role==\'ipa_checker\'">Status</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                            <!-- <tr ng-repeat="tranch in $ctrl.arrayToDisplay | filter: $ctrl.trancheId" ng-hide="tranch.status==\'Rejected\'"> -->\r\n                                                 <tr ng-repeat="tranch in $ctrl.arrayToDisplay " ng-hide="tranch.status==\'Rejected\'">\r\n                                                <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                                <td>{{tranch.trancheId}}</td>                                                        \r\n                                                <td>{{tranch.cpNumber}}</td>\r\n                                                <td>{{tranch.customerId}}</td>\r\n                                                <td>{{tranch.customerName}}</td>\r\n                                                <td>{{tranch.totalCPIssue}}</td>\r\n                                                <td>{{tranch.isinNumber}}</td>\r\n                                                <td>{{tranch.valueDate  | date : "dd/MM/yyyy"}}</td>\r\n                                                <td>{{tranch.maturityDate  | date : "dd/MM/yyyy"}}</td>\r\n                                                <td>{{tranch.totalAmount}}</td>\r\n                                                <td>{{tranch.cpOutstandingAmount}}</td>\r\n                                                <td>{{tranch.status}}</td>\r\n                                                     \r\n                                                <td><button class="btn btn-primary" data-toggle="tooltip" title="Edit" ng-click="$ctrl.editTranch(tranch)"><i class="glyphicon glyphicon-edit"></i></button></td> \r\n                                                <td><button class="btn btn-primary"  \r\n                                                    data-toggle="tooltip" title="Update Redemption" ng-click="$ctrl.downloadpdf(tranch)"><i class="glyphicon glyphicon-download"></i></button></td>\r\n                                                <td><button class="btn btn-primary" data-toggle="tooltip" title="IPA & NSDL" ng-click="$ctrl.downloadIPANDSL(tranch)"><i class="glyphicon glyphicon-download"></i></button></td>\r\n                                                <td><button class="btn btn-primary" data-toggle="tooltip" title="Investor Details" ng-click="$ctrl.downloadInvestorDetails(tranch)"><i class="glyphicon glyphicon-download"></i></button></td>\r\n                                                <td ng-show="$ctrl.role==\'ipa_checker\'">\r\n                                                    <button class="btn btn-primary" data-toggle="tooltip" title="Approve"><i class="glyphicon glyphicon-ok"></i></button>\r\n                                                    <button class="btn btn-info" data-toggle="tooltip" title="Callback"><i class="glyphicon glyphicon-edit"></i></button>\r\n                                                    <button class="btn btn-danger" data-toggle="tooltip" title="Reject"><i class="\tglyphicon glyphicon-remove"></i></button>\r\n                                                    \r\n                                                </td>\r\n\r\n                                                <!-- Modal -->\r\n <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\r\n          <h4 class="modal-title" id="myModalLabel">Add Details</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="form-group">\r\n                <label for="usr1">Signatory 1 Name:</label>\r\n                <input type="text" class="form-control" id="usr1" ng-model="$ctrl.signatory1" autocomplete="off">\r\n              </div>\r\n              <div class="form-group">\r\n                <label for="des1">Designation </label>\r\n                <input type="text" class="form-control" id="des1" ng-model="$ctrl.desig1"  autocomplete="off">\r\n              </div>\r\n              <div class="form-group">\r\n                <label for="usr2">Signatory 2 Name:</label>\r\n                <input type="text" class="form-control" id="usr2" ng-model="$ctrl.signatory2"  autocomplete="off">\r\n              </div>\r\n              <div class="form-group">\r\n                <label for="des2">Designation </label>\r\n                <input type="text" class="form-control" id="des2" ng-model="$ctrl.desig2"  autocomplete="off">\r\n              </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\r\n          <button type="submit" class="btn btn-primary" ng-click="$ctrl.downloadRedemption()">Generate Report</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n<!-- Modal Ends here -->\r\n                                            </tr>\r\n                                               \r\n                                        \r\n                                     </table>\r\n\r\n                                     <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                        <li>\r\n                                            <button class="btn btn-default" href="#"  ng-click="$ctrl.jumpToFirst()" >\r\n                                            <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                        </li>\r\n                                        <li>\r\n                                            <button class="btn btn-default" href="#" ng-disabled="$ctrl.pageNumber == 1 " ng-click="$ctrl.previous()" >\r\n                                            <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                        </li>\r\n                                              &nbsp; &nbsp; &nbsp; Page  {{$ctrl.pageNumber}} &nbsp; &nbsp; &nbsp;\r\n                                        <li>\r\n                                            <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                            <i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>\r\n                                           \r\n                                        </li>\r\n                                        </ul>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                \r\n                                <div>\r\n                                    \r\n                \r\n\r\n                                <div class="col-sm-4">&nbsp</div> \r\n\r\n                            </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </div class="col-sm-2">\r\n      \r\n                                            \r\n        </div> \r\n\r\n \r\n         </div>\r\n\r\n         \r\n        \r\n</section>\r\n\r\n'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(719),i=n(a),o=t(416),s=n(o),l=t(434),c=n(l),d=t(454),u=r(d),p=(t(510),function(){function e(t,r,n){(0,s.default)(this,e),this.pageNumber=1,this.pageSize=10,this.masterArray=[],this.arrayToDisplay=[],this.searchArray=[],this.initialArray=[],this.state=r,this.securityDetailsService=t,this.name="securityDetails",this.baseUrl=u.CONFIG.BASE_URL,this.getSecurityDetails()}return(0,c.default)(e,[{key:"getSecurityDetails",value:function(){var e=this;console.log("customer id---"+this.customerId),$(".se-pre-con").show(),this.securityDetailsService.getSecurityDetails(this.pageNumber,this.pageSize,this.customerId,this.isinNumber).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.initialArray=t.data.serviceResponse.trancheList,e.arrayToDisplay=e.initialArray):"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"fetchTranchRequest",value:function(){var e=this;console.log("customer id=="+this.customerId,(0,i.default)(this.customerId)),console.log("Isin number"+this.isinNumber,(0,i.default)(this.isinNumber)),$(".se-pre-con").show(),void 0!=this.customerId&&""!=this.customerId?this.customerId.length>=3?(this.isinNumber="",this.securityDetailsService.getTranchByCustomerId(this.customerId,this.pageNumber,this.pageSize,this.isinNumber).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.trancheList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)})):$(".se-pre-con").hide():void 0!=this.isinNumber&&""!=this.isinNumber?this.isinNumber.length>=3?(this.customerId="",this.securityDetailsService.getTranchByCustomerId(this.customerId,this.pageNumber,this.pageSize,this.isinNumber).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.trancheList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)})):$(".se-pre-con").hide():($(".se-pre-con").hide(),this.arrayToDisplay=this.initialArray)}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"showSearch",value:function(){this.isIsinSearch=!1,this.isCustomerSearch=!1,"isin"==this.tranchSearch?this.isIsinSearch=!0:"customerId"==this.tranchSearch&&(this.isCustomerSearch=!0)}},{key:"jumpToFirst",value:function(){this.pageNumber=1,this.getSecurityDetails()}},{key:"previous",value:function(){this.pageNumber--,this.getSecurityDetails()}},{key:"next",value:function(){this.pageNumber++,this.getSecurityDetails()}},{key:"editTranch",value:function(e,t){this.state.go("security/editTranch",{tranch:e})}},{key:"downloadpdf",value:function(e){"Approved"==e.status?(this.trancheId=e.trancheId,$("#myModal").modal()):alert(" Tranch is not approved so you cant Download")}},{key:"downloadRedemption",value:function(){var e=this;if(null==this.signatory1||null==this.signatory2||null==this.desig1||null==this.desig2)return void alert("Please fill all details");var t={signatory1:this.signatory1,signatory2:this.signatory2,desig1:this.desig1,desig2:this.desig2};this.securityDetailsService.downloadRedemtionPdf(this.trancheId,t).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));n.href=a,n.download=e.trancheId+".pdf",n.click(),window.URL.revokeObjectURL(a),$("#myModal").modal("hide")})}},{key:"downloadIPANDSL",value:function(e){"Approved"==e.status?this.securityDetailsService.downloadIPANSDLPdf(e.trancheId).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));n.href=a,n.download=e.trancheId+".pdf",n.click(),window.URL.revokeObjectURL(a)}):alert(" Tranch is not approved so you cant Download")}},{key:"downloadInvestorDetails",value:function(e){"Approved"==e.status&&this.securityDetailsService.downloadInvestorDetails(e.trancheId).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));n.href=a,n.download=e.id+".xlsx",n.click(),window.URL.revokeObjectURL(a)})}}]),e}());p.$inject=["securityDetailsService","$state","commonService"],exports.default=p},,,,,,,,,,,,,,,,,,function(e,exports,t){var r=t(737);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".pannel_show{height:auto}.pannel_hide{height:0}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="securityDetailsService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getSecurityDetails",value:function(e,t,r,n){void 0!=n&&null!=n||(n="",void 0!=r&&null!=r||(r="")),void 0!=r&&null!=r||(r="",void 0!=n&&null!=n||(n=""));var a={method:"GET",url:c.CONFIG.BASE_URL+"/api/viewAllTranche",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t,customerId:r,isinNumber:n}};return this.http(a)}},{key:"getTranchByCustomerId",value:function(e,t,r,n){console.log("page sise is - at service--"+r),console.log(c.CONFIG.BASE_URL+"/api/getRequestDetails");var a={method:"POST",url:c.CONFIG.BASE_URL+"/api/getRequestDetails",headers:{"content-type":"application/json"},params:{customerId:e,isinNumber:n,modelName:"Tranche",pageNumber:t,pageSize:r}};return this.http(a)}},{key:"downloadRedemtionPdf",value:function(e,t){var r={method:"GET",url:c.CONFIG.BASE_URL+"/api/downloadRedemtionPdf",headers:{"content-type":"application/json"},params:{tranchId:e,authorityDetails:t},responseType:"arraybuffer"};return this.http(r)}},{key:"downloadIPANSDLPdf",value:function(e){var t={method:"GET",url:c.CONFIG.BASE_URL+"/api/downloadIPA&SDL",headers:{"content-type":"application/json"},params:{tranchId:e},responseType:"arraybuffer"};return this.http(t)}},{key:"downloadInvestorDetails",value:function(e){var t={method:"GET",url:c.CONFIG.BASE_URL+"/api/downloadInvestorDetails",headers:{"content-type":"application/json"},params:{trancheId:e},responseType:"arraybuffer"};return this.http(t)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(740),l=r(s),c=t(745),d=r(c);t(656);var u=(t(510),a.default.module("cp_create",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("cpReg/createCp/cp_create",{url:"/cpReg/createCp/cp_create",component:"cpCreate"}).state("cpReg/editCP",{url:"/cpReg/editCP",component:"cpCreate",params:{cplist:null}})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("cpCreate",l.default).service("createCPService",d.default).name);exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(741),a=r(n),i=t(742),o=r(i);t(743);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header">\r\n\r\n  <div class="col-lg-12 col-xs-20">\r\n\r\n    <h1> CP Registration </h1>\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="box box-primary" id="boxx">\r\n          <form role="form" name="groupCreation">\r\n            <div class="box-body">\r\n              <div ng-app=\'MyModule\'>\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-default"></div>\r\n\r\n                    <div class="form-group col-sm-6">\r\n                      <label for="name">Customer Id:</label>\r\n\r\n                      <angucomplete-alt id="Customers" placeholder="Search by Id" selected-object="$ctrl.inputChangedById" initial-value="$ctrl.customerId"\r\n                        minlength="3" remote-url="{{$ctrl.baseUrl}}/api/getById?customerId=" remote-url-data-field="serviceResponse"\r\n                        title-field="customerId" input-class="form-control" disable-input="$ctrl.isEdit" />\r\n\r\n                    </div>\r\n                    <div class="form-group col-sm-6">\r\n                      <label for="name">Customer Name:</label>\r\n                      <angucomplete-alt id="customername" placeholder="Search by Name" minlength="3" input-class="form-control" selected-object="$ctrl.inputChangedByName"\r\n                        initial-value="$ctrl.customerName" remote-url="{{$ctrl.baseUrl}}/api/getByCustomerName?customerName="\r\n                        remote-url-data-field="serviceResponse" title-field="customerName" override-suggestions="true" disable-input="$ctrl.isEdit"\r\n                      />\r\n                    </div>\r\n\r\n                    <!-- <div class="form-group col-sm-6">\r\n                      <label for="name">CP Amount:\r\n                        <span style="color: red">*</span>\r\n                      </label>\r\n                      <div class="input-group">\r\n                        <span class="input-group-addon">\r\n                          <i class="fa fa-inr"></i>\r\n                        </span>\r\n                        <input type="text" class="form-control" id="gCPAmount" placeholder="CP Amount" maxlength="50" ng-pattern="/^[0-9]\\d{0,50}(\\.\\d{1,10})?%?$/"\r\n                          ng-change="$ctrl.ValidateCPAmount()" ng-model="$ctrl.form.cpAmount" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                    <div class="col-sm-12">&nbsp;\r\n                    </div>\r\n                    <div class="col-sm-12">&nbsp;\r\n                    </div>\r\n\r\n                    <div class="panel-element">\r\n                      <div class="panel-group" id="accordion">\r\n                        <div class="panel panel-default">\r\n                          <div class="panel-heading">\r\n                            <div class="row" ng-init="gaurateeLetter=\'false\'">\r\n                              <h4 class="panel-title col-sm-3">\r\n                                <b>Guarantee Letter:</b>\r\n                              </h4>\r\n                              <button type="button" ng-class="{ \'active\': $ctrl.form.isGuaranteeLetter}" ng-click="$ctrl.change($ctrl.form.isGuaranteeLetter= !$ctrl.form.isGuaranteeLetter)" class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                <div class="handle"></div>\r\n                              </button>\r\n                            </div>\r\n\r\n                          </div>\r\n                          <div ng-show="$ctrl.form.isGuaranteeLetter">\r\n                            <div class="panel-body">\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Guarantor Name:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <input type="text" class="form-control" id="gName" placeholder="Guarantor Name" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.guarantorName"\r\n                                  name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                              </div>\r\n                              <div class="form-group col-sm-12">\r\n                                &nbsp;\r\n                              </div>\r\n\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Documents:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <input id="guaranteeLetterDoc" class="ipa" type="file" name="datafile" files-input ng-model="$ctrl.guaranteeLetterDoc" ng-change="$ctrl.checkFileSize($ctrl.guaranteeLetterDoc)"\r\n                                  multiple />\r\n                              </div>\r\n\r\n                              <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                <label>Download:</label>\r\n                                <a id="ipaDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.guaranteeLtrDoc)">{{$ctrl.guaranteeLtrDoc}}</a>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div> -->\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div class="col-sm-3">\r\n\r\n              </div>\r\n              <div class="col-sm-12">&nbsp;\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n\r\n\r\n        <div class="col-lg-12 col-xs-20" style="padding-right: 0px; padding-left: 0px;" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n          <h4>\r\n            <b>Rating Details </b>\r\n          </h4>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="box box-primary" id="boxx">\r\n                <form role="form" name="groupCreation">\r\n                  <div class="box-body">\r\n                    <div ng-app=\'MyModule\'>\r\n                      <div class="panel-element">\r\n                        <div class="panel-group" id="accordion">\r\n                          <div class="panel panel-default">\r\n\r\n\r\n                            <div class="form-group col-sm-6">\r\n                              <label for="name">Credit Rating Agency:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n\r\n                              <select class="form-control" ng-model="$ctrl.tempRating.creditRatingAgency">\r\n                                <option value="">Select</option>\r\n                                <option ng-repeat="rating in $ctrl.ratingAgencyList" value="{{rating.agency_Name}}">{{rating.agency_Name}}</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-6">\r\n                              <label for="name">Credit Rating:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <select class="form-control" ng-model="$ctrl.tempRating.creditRating">\r\n                                <option value="">Select</option>\r\n                                <option ng-repeat="ratingList in $ctrl.creditRatingList" value="{{ratingList.creditRating}}">{{ratingList.creditRating}}</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-6">\r\n                              <label for="name">Date of Rating:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <div class="input-group">\r\n                                <div class="input-group-addon">\r\n                                  <i class="fa fa-calendar"></i>\r\n                                </div>\r\n                                <input id="dtpFilter" type="text" placeholder="dd/mm/yyyy" class="form-control" data-date-format="dd/mm/yyyy" ng-model="$ctrl.tempRating.dateOfRating"\r\n                                  ng-change="$ctrl.validateDateOfRating()" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-6">\r\n                              <label for="name">Credit Rating Amount:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <div class="input-group">\r\n                                <span class="input-group-addon">\r\n                                  <i class="fa fa-inr"></i>\r\n                                </span>\r\n                                <!-- ng-pattern="/^[0-9]\\d{0,50}(\\.\\d{1,10})?%?$/" \r\n                                 ng-if= "($ctrl.tempRating.creditRatingAmount !=null )? $ctrl.tempRating.creditRatingAmount = ($ctrl.tempRating.creditRatingAmount | INR) : $ctrl.tempRating.creditRatingAmount" -->\r\n                                <input type="text" min="1" class="form-control" id="gCreditRatingAmount" placeholder="Credit Rating Amount" maxlength="50"\r\n                                   ng-model="$ctrl.tempRating.creditRatingAmount"  ng-blur="$ctrl.ValidateRatingAmount()" \r\n                                   ng-change="$ctrl.tempRating.creditRatingAmount = ($ctrl.tempRating.creditRatingAmount | INR)"\r\n                                   ng-focus="$ctrl.tempRating.creditRatingAmount = ($ctrl.tempRating.creditRatingAmount | INR)"\r\n                                   ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n\r\n                                  \r\n                              </div>\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-3" style="position: relative; width: 20%;">\r\n                              <label for="name">Validity Period of Issuance:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <input id="" type="text" placeholder="Validity Period of Issuance" class="form-control" ng-model="$ctrl.tempRating.validityOfIssuance"\r\n                                ng-blur="$ctrl.validatePeriodOfIssuance()" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                            </div>\r\n                            \r\n                            <div class="form-group col-sm-3" style="margin-top: 23px; width: 30%; right: 2%; position: relative;">\r\n                              <select class="form-control" ng-model="$ctrl.tempRating.issuancePeriodIn" ng-blur="$ctrl.validatePeriodOfIssuance()" style="width: 30%;">\r\n                                <option value="">Select</option>\r\n                                <option value="Days">Days</option>\r\n                                <option value="Months">Months</option>\r\n                                <option value="Date">Date</option>\r\n                              </select>\r\n                            </div>\r\n                            \r\n                            <div class="form-group col-sm-6" style="position: relative; width: 20%;">\r\n                              <label for="name">Validity period for Rating:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <input id="" type="text" placeholder="Validity period for rating" class="form-control" ng-model="$ctrl.tempRating.validityPeriod"\r\n                              ng-blur="$ctrl.validateRatingPeriod()" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-3" style="margin-top: 23px; width: 30%; right: 2%; position: relative;">\r\n                              <select class="form-control" ng-model="$ctrl.tempRating.ratingPeriodIn" ng-blur="$ctrl.validateRatingPeriod()" style="width: 30%;">\r\n                                <option value="">Select</option>\r\n                                <option value="Date">Date</option>\r\n                                <option value="Year">Year</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-6">\r\n                              <label for="name">Reference Number:\r\n                                <span style="color: red">*</span>\r\n                              </label> \r\n                              <input id="refNumber" type="text" placeholder="Reference Number" class="form-control" \r\n                                ng-model="$ctrl.tempRating.referenceNumber"\r\n                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                            </div>\r\n\r\n                            <!-- <div class="form-group col-sm-12">\r\n                              &nbsp;\r\n                            </div> -->\r\n\r\n                            <div class="form-group col-sm-6">\r\n                              <label for="name">Documents:\r\n                                <span style="color: red">*</span>\r\n                              </label>\r\n                              <input id="crDoc" class="ipa" type="file"  file="file"  name="datafile" files-input ng-model="$ctrl.crDoc" fileread="vm.uploadme" ng-change="$ctrl.checkFileSize($ctrl.crDoc)"\r\n                                multiple />\r\n                            </div>\r\n\r\n                            <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                              <label>Download:{{$ctrl.tempRating.crDoc}}</label>\r\n                              <!--<a id="ipaDoc" href="" ng-click="$ctrl.downloadDoc($ctrl.GuaranteeLtrDoc)">{{$ctrl.GuaranteeLtrDoc}}</a> -->\r\n                    <!-- <a id="ipaDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.tempRating.creditRatingDoc)">{{$ctrl.tempRating.creditRatingDoc}}</a> {{$ctrl.tempRating.creditRatingDoc}}-->\r\n                    <a id="ipaDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.tempRating.creditRatingDoc)">{{$ctrl.tempRating.creditRatingDoc}}</a>\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class="col-sm-12">&nbsp;\r\n                      </div>\r\n                      <div class="col-sm-5">&nbsp;\r\n                      </div>\r\n\r\n                      <div class="col-sm-3">\r\n                        <!-- <button class="btn btn-primary" ng-click="$ctrl.pushRatings($ctrl.tempRating)" ng-disabled="!$ctrl.tempRating.creditRatingAgency || !$ctrl.tempRating.dateOfRating || !$ctrl.tempRating.creditRatingAmount \r\n                        || !$ctrl.tempRating.validityOfIssuance || !$ctrl.tempRating.creditRating || !$ctrl.tempRating.validityPeriod || !$ctrl.crDoc || $ctrl.showDoc==true"\r\n                          ng-hide="$ctrl.role==\'ipa_checker\'">Add</button> -->\r\n\r\n                             <button class="btn btn-primary" ng-click="$ctrl.pushRatings($ctrl.tempRating)" \r\n                             ng-disabled="!$ctrl.tempRating.creditRatingAgency || !$ctrl.tempRating.dateOfRating || !$ctrl.tempRating.creditRatingAmount \r\n                                          || !$ctrl.tempRating.validityOfIssuance || !$ctrl.tempRating.creditRating || !$ctrl.tempRating.validityPeriod \r\n                                          || !$ctrl.tempRating.referenceNumber|| !$ctrl.crDoc || $ctrl.showDoc==true"\r\n                          ng-hide="$ctrl.role==\'ipa_checker\'">Add</button>\r\n\r\n\r\n                        <button class="btn btn-default" ng-click="$ctrl.resetRating()" ng-hide="$ctrl.role==\'ipa_checker\'">Reset</button>\r\n\r\n                      </div>\r\n                      <div class="col-sm-12">&nbsp;\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n<div class="row">\r\n  <div class="col-md-12" style="padding: 40px;">\r\n    <div class="panel-element">\r\n      <div class="panel-group" id="accordion">\r\n        <div class="panel panel-default">\r\n          <div class="panel-heading">\r\n\r\n            <div class="row" ng-init="">\r\n              <h4 class="panel-title col-sm-3">\r\n                Ratings\r\n              </h4>\r\n              <!-- <button type="button" ng-class="{ \'active\': $ctrl.form.isbrDetails}" ng-click="$ctrl.form.isbrDetails = !$ctrl.form.isbrDetails"\r\n                class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                <div class="handle"></div>\r\n              </button> -->\r\n\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class="panel-body">\r\n              <div class="col-sm-3">&nbsp;\r\n              </div>\r\n              <div>\r\n                <table class="table table-striped table-bordered">\r\n                  <thead>\r\n                    <tr>\r\n\r\n                      <th>Credit Rating Agency</th>\r\n                      <th>Credit Rating</th>\r\n                      <th>Date of Rating</th>\r\n                      <th>Credit Rating Amount</th>\r\n                      <th>Validity of Issuance</th>\r\n                      <th>Validity Period of Rating</th>\r\n                      <th ng-hide="$ctrl.isEdit">Credit Rating Document</th>\r\n                      <!-- <th ng-if="$ctrl.isEdit">Credit Rating Document</th> -->\r\n                      <th>Doc Reference Number</th>\r\n                      <th ng-show="$ctrl.isEdit"> Documents</th>\r\n                      <th ng-hide="$ctrl.role==\'ipa_checker\'">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                   \r\n                    <tr ng-repeat="ratinglist in $ctrl.ratings ">\r\n\r\n                      <td>{{ratinglist.creditRatingAgency}}</td>\r\n                      <td>{{ratinglist.creditRating}}</td>\r\n                      <td>{{ratinglist.dateOfRating}}</td>\r\n                      <td>{{ratinglist.creditRatingAmount | INR}}</td>\r\n                      <!-- <td ng-hide="$ctrl.isPeriod==true">{{ratinglist.validityOfIssuance}}&nbsp;{{ratinglist.issuancePeriodIn}}</td>\r\n                      <td ng-hide="$ctrl.isPeriod==false">{{ratinglist.validityOfIssuance}}</td>\r\n                      <td ng-hide="$ctrl.isPer==true">{{ratinglist.validityPeriod}}&nbsp;{{ratinglist.ratingPeriodIn}}</td>\r\n                      <td ng-hide="$ctrl.isPer==false">{{ratinglist.validityPeriod}}</td> -->\r\n\r\n                      <td>{{ratinglist.validityOfIssuance}} <span ng-hide="ratinglist.issuancePeriodIn == \'Date\'">{{ratinglist.issuancePeriodIn}}</span></td>\r\n                      <td>{{ratinglist.validityPeriod}}<span ng-hide="ratinglist.ratingPeriodIn == \'Date\'">{{ratinglist.ratingPeriodIn}}</span></td>\r\n                      \r\n\r\n                      <td ng-hide="$ctrl.isEdit">{{ratinglist.creditRatingDocName}}</td>\r\n                      <td>{{ratinglist.referenceNumber}}</td>\r\n                      <td ng-if="$ctrl.isEdit">\r\n\t\t\t\t\t \r\n                        <a href="" data-toggle="tooltip" title="Download" ng-click="$ctrl.downloadDocument(ratinglist.ratingDoc)">RatingDocument</a>\r\n                      </td>\r\n                      <td ng-hide="$ctrl.role==\'ipa_checker\'">\r\n                        <button class="btn btn-primary" data-toggle="tooltip" title="Edit" ng-click="$ctrl.editRatings($index,ratinglist)">\r\n                          <i class="glyphicon glyphicon-edit"></i>\r\n                        </button>\r\n                        <button class="btn btn-primary" data-toggle="tooltip" title="Remove" ng-click="$ctrl.removeRatings($index)">\r\n                          <i class="glyphicon glyphicon-trash"></i>\r\n                        </button>\r\n                      </td>\r\n\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="row">\r\n  <div class="col-md-12" style="padding-top: 0px !important;padding: 40px;">\r\n    <div class="panel-element">\r\n      <div class="panel-group" id="accordion">\r\n        <div class="panel panel-default">\r\n          <div class="panel-heading">\r\n            <div class="row" ng-init="">\r\n              <h4 class="panel-title col-sm-3">CP Details</h4>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class="panel-body">\r\n\r\n              <div class="form-group col-sm-6">\r\n                <label for="name">CP Amount:\r\n                  <span style="color: red">*</span>\r\n                </label>\r\n                <div class="input-group">\r\n                  <span class="input-group-addon">\r\n                    <i class="fa fa-inr"></i>\r\n                  </span>\r\n                  <!-- ng-pattern="/^[0-9]\\d{0,200}(\\.\\d{1,10})?%?$/" -->\r\n                  <!--   ng-change="$ctrl.ValidateCPAmount()"  ng-bind="$ctrl.form.cpAmount =($ctrl.form.cpAmount|INR)"-->\r\n                  <input type="text" class="form-control" id="gCPAmount" placeholder="CP Amount" \r\n                     ng-model="$ctrl.form.cpAmount"\r\n                   \r\n                     ng-init="$ctrl.form.cpAmount =($ctrl.form.cpAmount|INR)"\r\n                      readonly>\r\n                </div>\r\n              </div>\r\n              <div class="col-sm-6">&nbsp;\r\n              </div>\r\n\r\n              <div class="row">\r\n                <div class="col-md-12" style="padding: 28px !important;padding: 40px;">\r\n                  <div class="panel-element">\r\n                    <div class="panel-group" id="accordion">\r\n                      <div class="bs-example">\r\n                        <div class="panel panel-default">\r\n                          <div class="panel-heading">\r\n                            <div class="row" ng-init="gaurateeLetter=\'false\'">\r\n                              <h4 class="panel-title col-sm-3">\r\n                                <b>Guarantee Letter:</b>\r\n                              </h4>\r\n                              <button type="button" ng-class="{ \'active\': $ctrl.form.isGuaranteeLetter}" ng-click="$ctrl.change($ctrl.form.isGuaranteeLetter= !$ctrl.form.isGuaranteeLetter)"\r\n                                class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                <div class="handle"></div>\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                          <div ng-show="$ctrl.form.isGuaranteeLetter">\r\n                            <div class="panel-body">\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Guarentor Name:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <input type="text" class="form-control" id="gName" placeholder="Guarantor Name" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.guarantorName"\r\n                                  name="abc" ng-readonly="$ctrl.role==\'ipa_checker \'" autocomplete="off">\r\n                              </div>\r\n\r\n                              <!-- <div class="form-group col-sm-6">\r\n                                <label for="name">Trustee Name:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <input type="text" class="form-control" id="trusteeName" placeholder="Trustee Name" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.trusteeName"\r\n                                  name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                              </div>\r\n\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Date:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <div class="input-group">\r\n                                  <div class="input-group-addon">\r\n                                    <i class="fa fa-calendar"></i>\r\n                                  </div>\r\n                                  <input type="text" id="gurantorDate" class="form-control" placeholder="Guarantor Date" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                                    ng-model="$ctrl.form.gurantorDate" name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                                </div>\r\n                              </div>\r\n\r\n\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Amount:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <div class="input-group">\r\n                                  <span class="input-group-addon">\r\n                                    <i class="fa fa-inr"></i>\r\n                                  </span>\r\n                                  <input type="text" class="form-control" id="guarantorAmount" placeholder="Enter Guarantor Amount" ng-pattern="/^[0-9]\\d{0,50}(\\.\\d{1,10})?%?$/"\r\n                                    ng-model="$ctrl.form.guarantorAmount" name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                                </div>\r\n                              </div>\r\n                        \r\n                              <div>                              \r\n                                <input type="checkbox" style="zoom: 1.2;" ng-model="$ctrl.form.isGuaranteeAlert" ng-checked="$ctrl.isExpiry" />\r\n                                <label class="form-check-label" style="padding-left:2px; padding-bottom: 2px" for="checkbox101">Guarantee Alert</label>\r\n                              </div>\r\n\r\n                              <div class="col-sm-6">&nbsp;\r\n                                </div>\r\n\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Notice To Trustee:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <input type="text" class="form-control" id="gNotice" placeholder="Notice to Trustee" ng-pattern="/^[0-9]\\d{0,50}(\\.\\d{1,10})?%?$/"\r\n                                  ng-model="$ctrl.form.notice" name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                              </div> -->\r\n\r\n                              <div class="form-group col-sm-12">\r\n                                &nbsp;\r\n                              </div>\r\n\r\n                              <div class="form-group col-sm-6">\r\n                                <label for="name">Documents:\r\n                                  <span style="color: red">*</span>\r\n                                </label>\r\n                                <input id="guaranteeLetterDoc" class="ipa" type="file" name="datafile" files-input ng-model="$ctrl.guaranteeLetterDoc" ng-change="$ctrl.checkFileSize($ctrl.guaranteeLetterDoc)"\r\n                                  multiple />\r\n                              </div>\r\n\r\n                              <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                <label>Download:</label>\r\n                                <a id="ipaDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.guaranteeLtrDoc)">{{$ctrl.guaranteeLtrDoc}}</a>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </div>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n<div class="text-center">\r\n  <button type="button" class="btn btn-primary " ng-click="$ctrl.createCP()" ng-disabled="!$ctrl.form.cpAmount" ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit">Submit</button>\r\n  <button type="button" class="btn btn-primary" ng-click="$ctrl.updateCPDetails()" ng-show="$ctrl.isEdit && $ctrl.role==\'ipa_maker\'">Update</button>\r\n\r\n  <button type="button" class="btn" ng-click="$ctrl.cancelled()" ng-show="$ctrl.role==\'ipa_maker\'">Cancel</button>\r\n  <button class="btn btn-primary btn-sx" ng-click="$ctrl.back()" ng-show="$ctrl.role==\'ipa_checker\'">back</button>\r\n\r\n</div>\r\n\r\n<script>\r\n  $(\'#dtpFilter\').datepicker({\r\n    autoclose: true\r\n  });\r\n  $(\'#dtpFilter1\').datepicker({\r\n    autoclose: true\r\n  });\r\n</script>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a,i=t(668),o=n(i),s=t(416),l=n(s),c=t(434),d=n(c),u=t(454),p=r(u),m=t(510),f=function(){function e(t,r,n,i,o,s){var c=this;(0,l.default)(this,e),this.mailId=[],this.ratings=[],this.formData=new FormData,this.ratingAgencyList=[],this.creditRatingList=[],this.isPer=!1,this.isPeriod=!1,this.tempRating={creditRatingAgency:null,dateOfRating:null,creditRatingAmount:null,validityOfIssuance:null,validityPeriod:null,creditRating:null,referenceNumber:null,issuancePeriodIn:null,ratingPeriodIn:null,ratingDoc:null,compaper:null,createdBy:null,updatedBy:null,creditRatingDocName:null},this.form={customerId:null,customerName:null,cpAmount:null,isGuaranteeLetter:!1,guarantorName:null,trusteeName:null,guarantorAmount:null,isGuaranteeAlert:!1,notice:null,createdBy:null,updatedBy:null,status:null,mailIdList:[],makerMailId:null,ratings:null,remainingAmount:0},this.baseUrl=p.CONFIG.BASE_URL,this.name="createCPService",this.createCPService=t,a=this,this.scope=o,this.state=i,this.$filter=s,this.commonService=n,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId)),this.mailId.push(this.myStorage.getItem("IdList")),this.role=this.myStorage.getItem("role"),this.createCPService.getRatingAgency().then(function(e){c.tempArray=e.data,c.tempArray.forEach(function(e){c.ratingAgencyList.push(e)})}),this.createCPService.getCreditRating().then(function(e){c.tempCreditRating=e.data,c.tempCreditRating.forEach(function(e){c.creditRatingList.push(e)})}),r.cplist&&(this.isEdit=!0,this.getOriginalRatingsByStatusAndTrancheDetails(r.cplist),this.customerId=r.cplist,this.form=r.cplist,r.cplist.isGuaranteeLetter&&(this.form.isGuaranteeLetter="true"),this.guaranteeLtrDoc=r.cplist.guaranteeLetterDoc,this.ratings.forEach(function(e){"Date"==e.issuancePeriodIn&&(c.isPeriod=!0),"Date"==e.ratingPeriodIn&&(c.isPer=!0)}))}return(0,d.default)(e,[{key:"getOriginalRatingsByStatusAndTrancheDetails",value:function(e){var t=this;this.createCPService.getOriginalRatingsByStatusAndTrancheDetails(e).then(function(e){$(".se-pre-con").hide(),null!=e&&(t.ratings=e.data)})}},{key:"inputChangedByName",value:function(e){e&&(a.data=e.originalObject),a.scope.$broadcast("angucomplete-alt:changeInput","Customers",a.data.customerId)}},{key:"inputChangedById",value:function(e){e&&(a.data=e.originalObject),a.scope.$broadcast("angucomplete-alt:changeInput","customername",a.data.customerName),a.data.customer?a.isUserActive=a.data.customer.isUserActive:a.isUserActive=a.data.isUserActive}},{key:"pushRatings",value:function(e){console.log("Push Rating "+e.referenceNumber),this.form.referenceNumber=e.referenceNumber,console.log("Form ref no : "+this.form.referenceNumber),e.creditRatingDocName=this.crDoc[0].name,this.formData.append("uploadingFiles",this.crDoc[0]);var t=!0,r=!1,n=void 0;try{for(var i,s=(0,o.default)(this.formData.entries());!(t=(i=s.next()).done);t=!0){var l=i.value;console.log(l[0]+", "+l[1])}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}if(this.ratingId=Math.round(10*Math.random()*10),void 0!=this.editIndex?(this.ratings[this.editIndex]=e,this.editIndex=void 0,document.getElementById("crDoc").value=null):(this.ratings.push(e),document.getElementById("crDoc").value=null),""==this.form.cpAmount||null==this.form.cpAmount)this.form.cpAmount=e.creditRatingAmount;else{var c=this.ratings.sort(function(e,t){var r="string"==typeof e.creditRatingAmount?parseInt(e.creditRatingAmount.replace(/,/g,"")):e.creditRatingAmount,n="string"==typeof t.creditRatingAmount?parseInt(t.creditRatingAmount.replace(/,/g,"")):t.creditRatingAmount;return r-n});this.form.cpAmount=this.$filter("INR")(c[0].creditRatingAmount)}var d=0,u=a.data.br;u.forEach(function(e){d=e.approvedAmount}),this.cpAmt="string"==typeof this.form.cpAmount?parseInt(this.form.cpAmount.replace(/,/g,"")):this.form.cpAmount,d<this.cpAmt&&(this.form.cpAmount=d),this.tempRating={creditRatingAgency:null,dateOfRating:null,creditRatingAmount:null,validityOfIssuance:null,validityPeriod:null,creditRating:null,issuancePeriodIn:null,ratingPeriodIn:null,referenceNumber:null,ratingDoc:null}}},{key:"editRatings",value:function(e,t){this.editIndex=e,this.tempRating={id:t.id,creditRatingAgency:t.creditRatingAgency,dateOfRating:t.dateOfRating,creditRatingAmount:t.creditRatingAmount,validityOfIssuance:t.validityOfIssuance,validityPeriod:t.validityPeriod,creditRating:t.creditRating,issuancePeriodIn:t.issuancePeriodIn,ratingPeriodIn:t.ratingPeriodIn,referenceNumber:t.referenceNumber,ratingDoc:t.ratingDoc}}},{key:"removeRatings",value:function(e){this.ratings[e]&&this.ratings.pop(e)}},{key:"resetRating",value:function(){this.tempRating=null,document.getElementById("crDoc").value=null}},{key:"change",value:function(e){(e=!this.form.isGuaranteeLetter&&"ipa_maker"==this.role)&&(this.form.guarantorName=null,document.getElementById("guaranteeLetterDoc").value=null)}},{key:"checkFileSize",value:function(e){if(this.showDoc=!1,e[0]){var t=1048576,r=e[0].size/t;r>10&&(alert("File size should not greater than 10 MB"),document.getElementById("guaranteeLetterDoc").value=null);var n=e[0].name,a=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;n.match(a)||(alert("Supported only PDF,DOC,Excel File...!"),document.getElementById("guaranteeLetterDoc").value=null)}else this.showDoc=!0}},{key:"ValidateRatingAmount",value:function(){if("number"!=this.tempRating.creditRatingAmount&&this.tempRating.creditRatingAmount.replace(/,/g,"")%5e5!=0)return alert("Enter in Multple of 5 Lakh"),void(this.tempRating.creditRatingAmount="")}},{key:"numberformat",value:function(){var e=this.tempRating.creditRatingAmount.toString().split("."),t=e[0].substring(e[0].length-3),r=e[0].substring(0,e[0].length-3);""!=r&&(t=","+t);var n=r.replace(/\B(?=(\d{2})+(?!\d))/g,",")+t;e.length>1&&(n+="."+e[1]),this.tempRating.creditRatingAmount=n}},{key:"validateRatingAmount",value:function(){if(this.tempRating.creditRatingAmount%5e5!=0)return alert("Enterd Rating Amount should be in multiple of 5 lakh only...!"),void(this.tempRating.creditRatingAmount=null)}},{key:"validateDateOfRating",value:function(){var e=m(m().format("DD/MM/YYYY"),"DD/MM/YYYY"),t=m(this.tempRating.dateOfRating,"DD/MM/YYYY"),r=m(t).isAfter(e);if(r)return alert("Date of Rating must be Before of Current date."),void(this.tempRating.dateOfRating=null)}},{key:"validateRatingPeriod",value:function(){if(this.isPer=!1,"Date"==this.tempRating.ratingPeriodIn){this.isPer=!0;var e=/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,t=e.test(this.tempRating.validityPeriod);if(0==t)return alert("Please Enter valid date for Validity Period of Rating"),this.tempRating.validityPeriod=null,void(this.tempRating.ratingPeriodIn=null)}else if("Year"==this.tempRating.ratingPeriodIn){this.isPer=!1;var e=/^[0-9]\d{0,2}?%?$/,t=e.test(this.tempRating.validityPeriod);if(0==t)return alert("Please Enter valid Year only up to 3 digit...for validity period of Rating"),this.tempRating.validityPeriod=null,void(this.tempRating.ratingPeriodIn=null)}}},{key:"validatePeriodOfIssuance",value:function(){if(this.isPeriod=!1,"Date"==this.tempRating.issuancePeriodIn){this.isPeriod=!0;var e=/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,t=e.test(this.tempRating.validityOfIssuance);if(0==t)return alert("Please Enter valid date for Validity Period of Issuance"),this.tempRating.validityOfIssuance=null,void(this.tempRating.issuancePeriodIn=null)}else if("Days"==this.tempRating.issuancePeriodIn){var e=/^[0-9]\d{0,4}?%?$/,t=e.test(this.tempRating.validityOfIssuance);if(0==t)return alert("Please Enter valid days only up to 5 digit...for validity period of isuance"),this.tempRating.validityOfIssuance=null,void(this.tempRating.issuancePeriodIn=null)}else if("Months"==this.tempRating.issuancePeriodIn){var e=/^[0-9]\d{0,2}?%?$/,t=e.test(this.tempRating.validityOfIssuance);if(0==t)return alert("Please Enter valid months only up to 3 digit...for validity period of isuance"),this.tempRating.validityOfIssuance=null,void(this.tempRating.issuancePeriodIn=null)}}},{key:"back",value:function(){this.state.go("requests/request")}},{key:"cancelled",value:function(){this.state.go("cpReg/showCp")}},{key:"create",value:function(){console.log("Len :"+this.ratings.length);for(var e=0;e<this.ratings.length;e++)console.log("ref no: "+this.ratings[e].referenceNumber)}},{key:"createCP",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");this.form.customerId=this.data.customerId,this.form.customerName=this.data.customerName,this.form.createdBy=this.myStorage.getItem("userName"),this.form.status="Pending",this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),"number"!=this.form.cpAmount&&this.form.cpAmount.includes(",")&&(this.form.cpAmount=this.form.cpAmount.replace(/,/g,""));var t,r=this.data.br;if(r.forEach(function(e){t=e.status}),"Pending"==t||"CallBack"==t)return void alert("BR is not Approved For CP...!");var n=m(this.data.defaultPeriodEndDate,"DD/MM/YYYY"),i=m(new Date,"DD/MM/YYYY");if(i<n)return void alert("Don't Registerd CP upto "+this.data.defaultPeriodEndDate+" ...!");if(1==this.form.isGuaranteeLetter){if(null==this.form.guarantorName||""==this.form.guarantorName)return void alert("Required Guarantor Name...!");if(!(null!=this.guaranteeLetterDoc&&this.guaranteeLetterDoc.length>0))return void alert("Please choose Guarantee Letter Document...!");var o=this.guaranteeLetterDoc[0].name,s=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!o.match(s))return void alert("Guarantee Letter Document---Invalid File...Support only PDF file...!")}var l=1e10;if(this.form.cpAmount>=l){if(!(this.ratings.length>=2))return void alert("Minimum Two Ratings are required because of enterd CP amount is greater than 1000 crore...!");for(var c=0,d=this.ratings.length;c<d;c++)0==c?this.am1=this.ratings[c]:this.am2=this.ratings[c];this.am1<this.am2?this.am1<this.form.cpAmount&&alert(" you cant enter CP Amount More than rating Amount"):this.am2<this.form.cpAmount&&alert(" you cant enter CP Amount More than rating Amount"),this.form.ratings=this.ratings,this.form.ratings.forEach(function(e){"number"!=typeof e.creditRatingAmount&&e.creditRatingAmount.includes(",")&&(e.creditRatingAmount=parseInt(e.creditRatingAmount.replace(/,/g,"")))}),this.formData.append("requestInput",angular.toJson(this.form));this.createCPService.createCP(this.formData).then(function(t){if($(".se-pre-con").hide(),t.data.serviceResponse="200"==t.data.serviceStatus)alert("CP Successfully Registerd...!"),e.state.go("cpReg/showCp");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return"BR is not Approved"==t.data.serviceError?void alert("BR is not Approved for CP...!"):"FAIL"==t.data.serviceStatus&&"Duplicate File Name"==t.data.serviceError?void alert("Duplicate File Name...!"):void alert("Error- Something went wrong...!");alert("CP Successfully Registerd but mail has not send...!"),e.state.go("cpReg/showCp")}})}else{if(!(this.ratings.length>=1))return void alert("minimum one rating is required...!");this.form.ratings=this.ratings,this.form.ratings.forEach(function(e){"number"!=typeof e.creditRatingAmount&&e.creditRatingAmount.includes(",")&&(e.creditRatingAmount=parseInt(e.creditRatingAmount.replace(/,/g,"")))}),this.formData.append("requestInput",angular.toJson(this.form));this.createCPService.createCP(this.formData).then(function(t){if($(".se-pre-con").hide(),t.data.serviceResponse="200"==t.data.serviceStatus)alert("CP Successfully Registerd...!"),e.state.go("cpReg/showCp");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return"FAIL"==t.data.serviceStatus&&"Duplicate File Name"==t.data.serviceError?void alert("Duplicate File Name...!"):"BR is not Approved"==t.data.serviceError?void alert("BR is not Approved for CP...!"):void alert("Error- Something went wrong...!");alert("CP Successfully Registerd. But mail has not send...!"),e.state.go("cpReg/showCp")}})}}},{key:"updateCPDetails",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");if(delete this.form.tranche,this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),this.form.updatedBy=this.myStorage.getItem("userName"),"number"!=typeof this.form.cpAmount&&this.form.cpAmount.includes(",")){var t=parseInt(this.form.cpAmount.replace(/,/g,""));this.form.cpAmount=t}this.form.ratings=this.ratings,this.form.ratings.forEach(function(e){"number"!=typeof e.creditRatingAmount&&e.creditRatingAmount.includes(",")&&(e.creditRatingAmount=parseInt(e.creditRatingAmount.replace(/,/g,"")))}),this.formData.append("requestInput",angular.toJson(this.form)),this.createCPService.updateCPDetails(this.formData).then(function(t){return $(".se-pre-con").hide(),"SUCCESS"!=t.data.serviceResponse?void alert("Error - CP is not Updated...!"):(alert("CP Updated Successfully...!"),void e.state.go("cpReg/showCp"))})}},{key:"downloadDocument",value:function(e){this.createCPService.downloadDocument(e,this.form.customerId,this.form.cpNumber).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=e.substr(e.lastIndexOf(".")+1),i=window.URL.createObjectURL(new Blob([t.data],{type:"application/extension"}));n.href=i,n.download="Document."+a,n.click(),window.URL.revokeObjectURL(i)})}}]),e}();f.$inject=["createCPService","$stateParams","commonService","$state","$scope","$filter"],exports.default=f},function(e,exports,t){var r=t(744);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"input.ng-invalid.ng-dirty,input[required].ng-pristine{border-color:#e74c3c}input.ng-valid.ng-dirty{border-color:#2ecc71}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="createCPService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getOriginalRatingsByStatusAndTrancheDetails",value:function(e){$(".se-pre-con").show();var t={cpId:e.id};return this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getOriginalRatingDetailsByCp",headers:{"content-type":"application/json"},params:t})}},{key:"getCustbyID",value:function(e){return this.http({method:"GET",url:c.CONFIG.BASE_URL+"/api/getById?customerId="+e,headers:{"content-type":"application/json"},data:e})}},{key:"createCP",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/registerCP",headers:{"content-type":void 0},data:e})}},{key:"updateCPDetails",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/updateCP",headers:{"content-type":void 0},data:e})}},{key:"getRatingAgency",value:function(){var e={method:"GET",url:c.CONFIG.BASE_URL+"/api/getAgencyName",headers:{"content-type":"application/json"}};return this.http(e)}},{key:"getCreditRating",value:function(){var e={method:"GET",url:c.CONFIG.BASE_URL+"/api/getCreditRating",headers:{"content-type":"application/json"}};return this.http(e)}},{key:"uploadDocument",value:function(e,t,r,n,a){var i=new FormData;null!=e&&i.append("guaranteeLetterDoc",e[0]),i.append("trancheId",r),i.append("dealNumber",n),i.append("customerId",a);for(var o=0;o<t.length;o++)void 0!=t[o]&&i.append("fileList",t[o][0]);return this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/uploadDocument",processData:!1,headers:{"content-type":void 0},data:i})}},{key:"downloadDocument",value:function(e,t,r){return this.http({method:"Post",url:c.CONFIG.BASE_URL+"/api/downloadCPDoc",processData:!1,headers:{"content-type":"application/json"},params:{fileName:e,customerId:t,cpNumber:r},responseType:"blob"})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(747),l=r(s),c=t(752),d=r(c),u=a.default.module("cp_show",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("cpReg/showCp",{url:"/cpReg/showCp",component:"cpShow"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("cpShow",l.default).service("showCPService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(748),a=r(n),i=t(749),o=r(i);t(750);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n        <h1>\r\n            CP Details:\r\n        </h1>\r\n\r\n        <!-- <div id="custom-search-input">\r\n                <div class="input-group col-md-3">\r\n                    <input type="text" class="form-control input-lg" placeholder="Search CP" ng-model="$ctrl.cpNumber"/>\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-info btn-lg" type="button">\r\n                            <i class="glyphicon glyphicon-search"></i>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n            </div> -->\r\n\r\n        <div id="custom-search-input">\r\n            <div class="input-group col-md-3">\r\n                <input type="text" class="form-control input-lg" minlength="3" ng-click="$ctrl.fetchCpRequest()"\r\n                    ng-change="$ctrl.fetchCpRequest()" placeholder="Search CP" ng-model="$ctrl.customerId" />\r\n                <span class="input-group-btn">\r\n                    <button class="btn btn-info btn-lg" type="button">\r\n                        <i class="glyphicon glyphicon-search"></i>\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <div class="box-body" style="overflow-x:scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Sr No.</th>\r\n                                                <th>Customer Id</th>\r\n                                                <th>Customer name</th>\r\n                                                <th>CP Number</th>\r\n                                                <th>CP Amount</th>\r\n                                                <th>Guarantor Name</th>\r\n                                                <th>Status</th>\r\n                                                <th>Action</th>\r\n                                                <th ng-show="$ctrl.role==\'ipa_checker\'">Status</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr ng-repeat="cplist in $ctrl.arrayToDisplay | filter: $ctrl.cpNumber"\r\n                                                ng-hide="cplist.status==\'Rejected\'">\r\n                                                <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                                <td>{{cplist.customerId}}</td>\r\n                                                <td>{{cplist.customerName}}</td>\r\n                                                <td>{{cplist.cpNumber}}</td>\r\n                                                <td>{{cplist.cpAmount}}</td>\r\n                                                <td>{{cplist.guarantorName}}</td>\r\n                                                <td>{{cplist.status}}</td>\r\n                                                <td><button class="btn btn-primary" data-toggle="tooltip" title="Edit"\r\n                                                        ng-click="$ctrl.editCP(cplist)"><i\r\n                                                            class="glyphicon glyphicon-edit"></i></button></td>\r\n                                                <td ng-show="$ctrl.role==\'ipa_checker\'">\r\n                                                    <button class="btn btn-primary" data-toggle="tooltip"\r\n                                                        title="Approve"><i class="glyphicon glyphicon-ok"></i></button>\r\n                                                    <button class="btn btn-info" data-toggle="tooltip"\r\n                                                        title="Callback"><i\r\n                                                            class="glyphicon glyphicon-edit"></i></button>\r\n                                                    <button class="btn btn-danger" data-toggle="tooltip"\r\n                                                        title="Reject"><i\r\n                                                            class="\tglyphicon glyphicon-remove"></i></button>\r\n                                                </td>\r\n                                        </tbody>\r\n                                    </table>\r\n\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-click="$ctrl.jumpToFirst()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1\r\n                                                    page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#"\r\n                                                    ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>\r\n                                                    Previous</button>\r\n                                            </li>\r\n                                            &nbsp; &nbsp; &nbsp; Page {{$ctrl.pageNumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#"\r\n                                                    ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                    <i class="fa fa-chevron-circle-right"\r\n                                                        aria-hidden="true"></i></button>\r\n\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=function(){function e(t,r,n){(0,a.default)(this,e),this.pageNumber=1,this.pageSize=10,this.masterArray=[],this.arrayToDisplay=[],this.searchArray=[],this.initialArray=[],this.name="cp_Details",this.state=r,this.showCPService="showCPService",this.showCPService=t,this.commonService=n,this.getAllUsers()}return(0,o.default)(e,[{key:"fetchCpRequest",value:function(){var e=this;$(".se-pre-con").show(),void 0!=this.customerId&&""!=this.customerId?this.customerId.length>=3&&this.showCPService.getCpByCustomerId(this.customerId,this.pageNumber,this.pageSize).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.cpList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)}):($(".se-pre-con").hide(),this.arrayToDisplay=this.initialArray)}},{key:"getAllUsers",value:function(){var e=this;$(".se-pre-con").show(),this.showCPService.getAllUsers(this.customerId,this.pageNumber,this.pageSize).then(function(t){e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?($(".se-pre-con").hide(),e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.initialArray=t.data.serviceResponse.cpList,e.arrayToDisplay=e.initialArray):"No Record found"==t.data.serviceError?(e.disable=!0,$(".se-pre-con").hide()):(alert("Internal server error"),console.log("Something went wrong"),$(".se-pre-con").hide())}).catch(function(e){console.log("mainerror",e),$(".se-pre-con").hide()})}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pageNumber=1,this.getAllUsers()}},{key:"previous",value:function(){this.pageNumber--,this.getAllUsers()}},{key:"next",value:function(){this.pageNumber++,this.getAllUsers()}},{key:"editCP",value:function(e,t){this.state.go("cpReg/editCP",{cplist:e})}}]),e}();s.$inject=["showCPService","$state","commonService"],exports.default=s},function(e,exports,t){var r=t(751);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.http=t,this.name="showCPService"}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllUsers",value:function(e,t,r){void 0!=e&&null!=e||(e="");var n={method:"GET",url:c.CONFIG.BASE_URL+"/api/viewAllCP",headers:{"content-type":"application/json"},params:{pageNumber:t,pageSize:r,customerId:e}};return this.http(n)}},{key:"getCpByCustomerId",value:function(e,t,r){console.log(c.CONFIG.BASE_URL+"/api/getRequestDetails"),this.isinNumber="";var n={method:"POST",url:c.CONFIG.BASE_URL+"/api/getRequestDetails",headers:{"content-type":"application/json"},params:{customerId:e,modelName:"CP",pageNumber:t,pageSize:r,isinNumber:this.isinNumber}};return this.http(n)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(754),l=r(s),c=t(759),d=r(c),u=(t(510),a.default.module("addDeal",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("deal/addDeal",{url:"/deal/addDeal",component:"addDealComp"}).state("deal/editDeal",{url:"/deal/editDeal",component:"addDealComp",params:{deal:null}})}]).component("addDealComp",l.default).service("dealService",d.default).name);exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(755),a=r(n),i=t(756),o=r(i);t(757);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n  <div class="col-lg-12 col-xs-20">\r\n    <h3>\r\n      Register Deal\r\n    </h3>\r\n\r\n    <div class="row">\r\n      <div class="col-md-12">\r\n        <div class="box box-primary" id="boxx">\r\n          <form role="form" name="form" novalidate>\r\n            <div class="box-body">\r\n              <div ng-app=\'MyModule\'>\r\n                <div class="panel-element">\r\n                  <div class="panel-group" id="accordion">\r\n                    <div class="panel panel-absolute">\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Tranche ID:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n\r\n                        <angucomplete-alt id="h" placeholder="Tranche ID" selected-object="$ctrl.inputChanged"\r\n                          initial-value="$ctrl.trancheId" minlength="1"\r\n                          remote-url="{{$ctrl.baseUrl}}/api/getTranchId?trancheId="\r\n                          remote-url-data-field="serviceResponse" title-field="trancheId" input-class="form-control"\r\n                          disable-input="$ctrl.isEdit" />\r\n\r\n                      </div>\r\n\r\n                      <div class="form-group col-lg-6">\r\n                        <label>Customer ID:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="text" class="form-control" id="gcon" placeholder="Customer ID"\r\n                          ng-model="$ctrl.data.customerId" readonly>\r\n                      </div>\r\n\r\n                      <div class="form-group col-lg-6">\r\n                        <label>Customer Name:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n\r\n                        <input type="text" class="form-control" id="gName" placeholder="Customer Name"\r\n                          ng-model="$ctrl.data.customerName" readonly>\r\n                      </div>\r\n\r\n                      <div class="col-sm-12">&nbsp;\r\n                      </div>\r\n\r\n\r\n                      <div class="row">\r\n                        <div class="col-md-12">\r\n                          <div class="panel-element">\r\n                            <div class="panel-group" id="accordion">\r\n                              <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n\r\n                                  <div class="row" ng-init="">\r\n                                    <h4 class="panel-title col-sm-3">BR Details</h4>\r\n                                    <!-- <button type="button" ng-class="{ \'active\': $ctrl.form.isbrDetails}" ng-click="$ctrl.form.isbrDetails = !$ctrl.form.isbrDetails"\r\n                                      class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                      <div class="handle"></div>\r\n                                    </button> -->\r\n\r\n                                  </div>\r\n                                </div>\r\n                                <div>\r\n                                  <div class="panel-body">\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Resolution Date:</label>\r\n                                      <div class="input-group">\r\n                                        <div class="input-group-addon">\r\n                                          <i class="fa fa-calendar"></i>\r\n                                        </div>\r\n                                        <input id="" type="text" placeholder="dd/mm/yyyy" class="form-control"\r\n                                          data-date-format="dd/mm/yyyy" ng-model="$ctrl.tempBrData.resolutionDate"\r\n                                          readonly>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Approved Amount:</label>\r\n                                      <div class="input-group">\r\n                                        <span class="input-group-addon">\r\n                                          <i class="fa fa-inr"></i>\r\n                                        </span>\r\n                                        <input type="text" class="form-control" id="gApprovedAmount"\r\n                                          placeholder="Approved Amount" ng-model="$ctrl.tempBrData.approvedAmount"\r\n                                          ng-bind="$ctrl.tempBrData.approvedAmount=($ctrl.tempBrData.approvedAmount|INR)"\r\n                                          readonly>\r\n                                        <!-- ng-init="$ctrl.tempBrData.approvedAmount | INR" -->\r\n\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class="row">\r\n                        <div class="col-md-12">\r\n                          <div class="panel-element">\r\n                            <div class="panel-group" id="accordion">\r\n                              <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n\r\n                                  <div class="row" ng-init="">\r\n                                    <h4 class="panel-title col-sm-3">Ratings Details</h4>\r\n                                    <!-- <button type="button" ng-class="{ \'active\': $ctrl.form.isRatingsDetails}" ng-click="$ctrl.form.isRatingsDetails = !$ctrl.form.isRatingsDetails"\r\n                                      class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                      <div class="handle"></div>\r\n                                    </button> -->\r\n\r\n                                  </div>\r\n                                </div>\r\n                                <div>\r\n                                  <div class="panel-body">\r\n\r\n                                    <div>\r\n                                      <table class="table table-striped table-bordered">\r\n                                        <thead>\r\n                                          <tr>\r\n                                            <th>Rating Agency Name</th>\r\n                                            <th>Date of Rating</th>\r\n                                            <th>Validity of Issuance</th>\r\n                                            <th>Validity of Rating</th>\r\n                                            <th>Credit Rating Amount</th>\r\n                                            <th>Credit Rating</th>\r\n                                          </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                          <tr ng-repeat="rating in $ctrl.tempRating">\r\n                                            <td>{{rating.creditRatingAgency}}</td>\r\n                                            <td>{{rating.dateOfRating}}</td>\r\n                                            <td>{{rating.validityOfIssuance}}<span\r\n                                                ng-hide="rating.ratingPeriodIn ==\'Date\'">{{rating.issuancePeriodIn}}</span>\r\n                                            </td>\r\n                                            <td>{{rating.validityPeriod}}<span\r\n                                                ng-hide="rating.ratingPeriodIn ==\'Date\'">{{rating.ratingPeriodIn}}</span>\r\n                                            </td>\r\n                                            <td>{{rating.creditRatingAmount| INR}}</td>\r\n                                            <td>{{rating.creditRating}}</td>\r\n                                          </tr>\r\n                                        </tbody>\r\n                                      </table>\r\n                                    </div>\r\n\r\n                                    <div class="form-group col-sm-6">\r\n                                      &nbsp;\r\n                                    </div>\r\n\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                      <div class="row">\r\n                        <div class="col-md-12">\r\n                          <div class="panel-element">\r\n                            <div class="panel-group" id="accordion">\r\n                              <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n\r\n                                  <div class="row" ng-init="promissoryNote=\'false\'">\r\n                                    <h4 class="panel-title col-sm-3">Promissory Note:</h4>\r\n\r\n\r\n                                  </div>\r\n                                </div>\r\n                                <div>\r\n                                  <div class="panel-body">\r\n\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">ISIN:</label>\r\n                                      <input type="text" class="form-control" id="gISIN" placeholder="ISIN Number"\r\n                                        ng-model="$ctrl.data.isinNumber" name="abc" readonly>\r\n                                    </div>\r\n\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Promissory Date:\r\n                                        <span style="color: red">*</span>\r\n                                      </label>\r\n                                      <div class="input-group">\r\n                                        <div class="input-group-addon">\r\n                                          <i class="fa fa-calendar"></i>\r\n                                        </div>\r\n                                        <input id="dtpFilter6" type="text" placeholder="dd/mm/yyyy" class="form-control"\r\n                                          data-date-format="dd/mm/yyyy" ng-model="$ctrl.form.promissoryDate"\r\n                                          ng-change="$ctrl.ValidatePromissoryDate()"\r\n                                          ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class="form-group col-sm-12">\r\n                                      &nbsp;\r\n                                    </div>\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Documents:\r\n                                        <span style="color: red">*</span>\r\n                                      </label>\r\n                                      <input id="promissoryDoc" type="file" name="datafile" size="40" files-input\r\n                                        ng-model="$ctrl.promissoryDoc"\r\n                                        ng-change="$ctrl.checkFileSize($ctrl.promissoryDoc,\'promissoryDoc\')" />\r\n                                    </div>\r\n                                    <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                      <label>Download:</label>\r\n                                      <a id="promissoryDoc" href=""\r\n                                        ng-click="$ctrl.downloadDocument($ctrl.promissoryDocument)">Promissory document </a> <!--Promissory document-->\r\n                                    </div>\r\n\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                      <div class="row">\r\n                        <div class="col-md-12">\r\n                          <div class="panel-element">\r\n                            <div class="panel-group" id="accordion">\r\n                              <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n\r\n                                  <div class="row" ng-init="promissoryNote=\'false\'">\r\n                                    <h4 class="panel-title col-sm-3">Related Party:</h4>\r\n                                    <button type="button" ng-class="{ \'active\': $ctrl.form.isRelatedParty}"\r\n                                      ng-click="$ctrl.change($ctrl.form.isRelatedParty= !$ctrl.form.isRelatedParty)"\r\n                                      class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                      <div class="handle"></div>\r\n                                    </button>\r\n\r\n                                  </div>\r\n                                </div>\r\n                                <div ng-show="$ctrl.form.isRelatedParty">\r\n                                  <div class="panel-body">\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Related Party:\r\n                                        <span style="color: red">*</span>\r\n                                      </label>\r\n                                      <input type="text" class="form-control" id="gRelatedParty"\r\n                                        placeholder="Related Party Name" ng-model="$ctrl.form.relatedParty" name="abc"\r\n                                        ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <!-- Call/Put starts here-->\r\n                      <!--<div class="row">\r\n                        <div class="col-md-12">\r\n                          <div class="panel-element">\r\n                            <div class="panel-group" id="accordion">\r\n                              <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n\r\n                                  <div class="row" ng-init="promissoryNote=\'false\'">\r\n                                    <h4 class="panel-title col-sm-3">Call/ Put:</h4>\r\n                                    <button type="button" ng-class="{ \'active\': $ctrl.form.isRelatedParty}" ng-click="$ctrl.change($ctrl.form.isRelatedParty= !$ctrl.form.isRelatedParty)"\r\n                                      class="btn btn-toggle btn-lg col-sm-3" autocomplete="off">\r\n                                      <div class="handle"></div>\r\n                                    </button>\r\n\r\n                                  </div>\r\n                                </div>\r\n                                <div ng-show="$ctrl.form.isRelatedParty">\r\n                                  <div class="panel-body">\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Related Party:\r\n                                        <span style="color: red">*</span>\r\n                                      </label>\r\n                                      <input type="text" class="form-control" id="gRelatedParty" placeholder="Related Party Name" ng-model="$ctrl.form.relatedParty"\r\n                                        name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div> -->\r\n                      <!-- Ends here-->\r\n\r\n\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Signatory 1:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="text" class="form-control input-group-lg reg_name" id="gInvestorName"\r\n                          placeholder="Signatory 1" maxlength="50" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                          ng-model="$ctrl.form.signatory1" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Designation 1:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="text" class="form-control input-group-lg reg_name" placeholder="Designation 1"\r\n                          maxlength="50" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.designation1"\r\n                          ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Signatory 2:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="text" class="form-control" id="gInvestorName" placeholder="Signatory 2"\r\n                          maxlength="50" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.signatory2"\r\n                          ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Designation 2:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="text" class="form-control" id="gInvestorName" placeholder="Designation 2"\r\n                          maxlength="50" ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" ng-model="$ctrl.form.designation2"\r\n                          ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Fee Amount:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="" class="form-control" id="gfeeAmount" placeholder="Fee Amount" maxlength="4"\r\n                          ng-pattern="/^[0-9]+$/" ng-model="$ctrl.ipaFeeAmount" readonly>\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Total CP Issue:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <div class="input-group">\r\n                          <span class="input-group-addon">\r\n                            <i class="fa fa-inr"></i>\r\n                          </span>\r\n                          <!-- ng-pattern="/^[0-9]\\d{0,9}(\\.\\d{1,3})?%?$/" -->\r\n                          <!-- <input type="text" class="form-control" ng-focus="$ctrl.data.totalCPIssue=($ctrl.data.totalCPIssue | INR)"\r\n                          id="gTotalCPIssue" placeholder="Total CP Issue" maxlength="15"  \r\n                          ng-model="$ctrl.data.totalCPIssue" readonly> -->\r\n\r\n                          <input type="text" class="form-control" id="gTotalCPIssue" placeholder="Total CP Issue"\r\n                            ng-bind="$ctrl.form.totalCPIssue = ($ctrl.data.totalCPIssue | INR)"\r\n                            ng-model="$ctrl.form.totalCPIssue" readonly>\r\n\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-6">\r\n                        <label for="name">Tenor In Days:\r\n                          <span style="color: red">*</span>\r\n                        </label>\r\n                        <input type="" class="form-control" id="gTenorInDays" placeholder="Tenor In Days" maxlength="4"\r\n                          ng-pattern="/^[0-9]+$/" ng-model="$ctrl.tenorInDays" readonly>\r\n                      </div>\r\n\r\n                      <div class="col-sm-5">&nbsp;\r\n                      </div>\r\n\r\n                      <div class="col-sm-12">&nbsp;\r\n                      </div>\r\n\r\n                      <div class="col-lg-12 col-xs-20" ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit==true">\r\n                        <h4>Signed Deal Confirmation </h4>\r\n                        <div class="row">\r\n                          <div class="col-md-12">\r\n                            <div class="box box-primary" id="boxx">\r\n                              <form role="form" name="groupCreation">\r\n                                <div class="box-body">\r\n                                  <div ng-app=\'MyModule\'>\r\n                                    <div class="panel-element">\r\n                                      <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Investor Name:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <!-- <input type="text" class="form-control" id="gInvestorName" placeholder="Investor Name" \r\n                                              ng-model="$ctrl.tempInvestors.investorName" ng-readonly="$ctrl.role==\'ipa_checker\'">\r\n                                          -->\r\n                                            <div angucomplete-alt id="investorName" placeholder="Investor"\r\n                                              selected-object="$ctrl.transaction.investor" minlength="1"\r\n                                              remote-url="{{$ctrl.baseUrl}}/api/investor/search/name?name="\r\n                                              title-field="name" input-class="form-control" name="investorName" class="investorName" />\r\n                                          </div>\r\n                                          \r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Deal Confirmation Date:\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <div class="input-group-addon">\r\n                                                <i class="fa fa-calendar"></i>\r\n                                              </div>\r\n                                              <input id="dtpFilter7" type="text" placeholder="dd/mm/yyyy"\r\n                                                class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                ng-model="$ctrl.transaction.dealConfirmationDate"\r\n                                                ng-change="$ctrl.validateDealConfDate()"\r\n                                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Date Of Contract:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <div class="input-group-addon">\r\n                                                <i class="fa fa-calendar"></i>\r\n                                              </div>\r\n                                              <input id="dtpFilter8" type="text" placeholder="dd/mm/yyyy"\r\n                                                class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                ng-model="$ctrl.transaction.dateOfContract"\r\n                                                ng-change="$ctrl.validateContractDate()"\r\n                                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                            </div>\r\n                                          </div>\r\n\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">CP Issue:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <span class="input-group-addon">\r\n                                                <i class="fa fa-inr"></i>\r\n                                              </span>\r\n                                              <input type="text" class="form-control" id="gCPIssue"\r\n                                                placeholder="CP Issue" ng-model="$ctrl.transaction.cpIssue"\r\n                                                ng-blur="$ctrl.transaction.cpIssue=($ctrl.transaction.cpIssue | INR)"\r\n                                                ng-change="$ctrl.validateCPIssue()" name="abc"\r\n                                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Disounted Price:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <span class="input-group-addon">\r\n                                                <i class="fa fa-inr"></i>\r\n                                              </span>\r\n                                              <input type="number" class="form-control" id="gName"\r\n                                                placeholder="Disounted Price"\r\n                                                ng-model="$ctrl.transaction.discountedPrice"\r\n                                                ng-change="$ctrl.calculationOnPrice()"\r\n                                                ng-blur="$ctrl.transaction.cpIssue=($ctrl.transaction.cpIssue | INR)"\r\n                                                name="abc" ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Yield:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <span class="input-group-addon">\r\n                                                <i class="fa fa-inr"></i>\r\n                                              </span>\r\n                                              <input type="number" class="form-control" id="gName"\r\n                                                placeholder="Enter Yield Value"\r\n                                                ng-model="$ctrl.transaction.discountedRate"\r\n                                                ng-change="$ctrl.calculationOnRate()"\r\n                                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label>Discounted Rate\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <span class="input-group-addon">\r\n                                                <i class="fa fa-inr"></i>\r\n                                              </span>\r\n                                              <input type="text" class="form-control" id="gYield"\r\n                                                placeholder="Discounted Rate" ng-model="$ctrl.transaction.yeild"\r\n                                                ng-change="$ctrl.calculationOnyield()"\r\n                                                ng-readonly="$ctrl.role==\'ipa_checker\'" autocomplete="off">\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Discounted Value:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <div class="input-group">\r\n                                              <span class="input-group-addon">\r\n                                                <i class="fa fa-inr"></i>\r\n                                              </span>\r\n                                              <input type="text" class="form-control" id="gName"\r\n                                                placeholder="Discounted Value"\r\n                                                ng-model="$ctrl.transaction.discountedValue" readonly>\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">DP ID:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <!-- <input type="text" class="form-control" id="gName" placeholder="DP ID" ng-pattern="/^[a-zA-Z0-9]+$/" ng-model="$ctrl.tempInvestors.dpId"\r\n                                              name="abc"> -->\r\n\r\n                                            <!-- <angucomplete-alt id="dpId" placeholder="DP Id" selected-object="$ctrl.transaction.investor" \r\n                                          minlength="1" title-field="dpId" \r\n                                          remote-url="{{$ctrl.baseUrl}}/api/investor/search/dpid?dpid="   input-class="form-control"\r\n                                          name="dpId"   />  -->\r\n\r\n                                            <input type="text" class="form-control" id="gName" placeholder="DP ID"\r\n                                              ng-pattern="/^[0-9]+$/"\r\n                                              ng-model="$ctrl.transaction.investor.originalObject.dpId" name="abc"\r\n                                              autocomplete="off">\r\n\r\n\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Client ID:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <input type="text" class="form-control" id="gName" placeholder="Client ID"\r\n                                              ng-pattern="/^[0-9]+$/"\r\n                                              ng-model="$ctrl.transaction.investor.originalObject.clientId"\r\n                                              autocomplete="off" name="abc">\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">DP Name:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <!-- <input type="text" class="form-control" id="gName" placeholder="DP Name" ng-pattern="/^[a-zA-Z0-9 ]+$/" ng-model="$ctrl.tempInvestors.dpName"\r\n                                              name="abc"> -->\r\n\r\n                                            <input type="text" class="form-control" id="gName" placeholder="DP Name"\r\n                                              ng-pattern="/^[a-zA-Z0-9 ]+$/"\r\n                                              ng-model="$ctrl.transaction.investor.originalObject.dpName"\r\n                                              autocomplete="off" name="abc">\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Contact Number:\r\n                                            </label>\r\n                                            <input type="text" class="form-control" id="gcontactNo"\r\n                                              placeholder="Contact Number" ng-pattern="/^[0-9\\.]*$/" minlength="10"\r\n                                              maxlength="10"\r\n                                              ng-model="$ctrl.transaction.investor.originalObject.contactNumber"\r\n                                              autocomplete="off" autocomplete="off">\r\n                                          </div>\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Stamp Duty:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <input type="text" class="form-control" id="gName" placeholder="Stamp Duty"\r\n                                              ng-pattern="/^[a-z0-9]+$/" ng-model="$ctrl.transaction.stampDuty"\r\n                                              name="abc" readonly>\r\n                                          </div>\r\n\r\n                                          <!-- Stamp duty doc start here-->\r\n                                          <!-- <div class="form-group col-sm-6">\r\n                                            <label for="name">Stamp duty Documents:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <input id="signDealDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.transaction.signDealConfDoc" \r\n                                            />\r\n                                          </div>\r\n                                          -->\r\n                                          <!--Ends here-->\r\n\r\n                                          <div class="form-group col-sm-6">\r\n                                            <label for="name">Units:\r\n                                              <span style="color: red">*</span>\r\n                                            </label>\r\n                                            <input type="text" class="form-control" id="gUnits" placeholder="Units"\r\n                                              maxlength="15" ng-pattern="/^[0-9]+$/" ng-model="$ctrl.transaction.units"\r\n                                              readonly>\r\n                                          </div>\r\n                                          <div class="form-group col-sm-12">\r\n                                            &nbsp;\r\n                                          </div>\r\n\r\n                                          <!-- Signed Deal Doc here-->\r\n\r\n                                          <!-- <div class="form-group col-sm-12" ng-if="$ctrl.isEdit && $ctrl.showDoc">\r\n                                            <label>Download:</label>\r\n                                            <a id="dealConfDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.tempInvestors.dealConfDoc)" > DealConfirmationDoc</a>\r\n                                          </div> -->\r\n\r\n                                          <!-- <div class="form-group col-sm-3">\r\n                                              <label for="name">ESBTR:<span style="color: red">*</span>\r\n                                                </label>\r\n                                                <input id="esbtrDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.esbtrDoc" ng-change="$ctrl.checkFileSize($ctrl.esbtrDoc,\'esbtrDoc\')"\r\n                                                />\r\n                                            </div>\r\n                                            <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                              <label>Download:</label>\r\n                                              <a id="esbtrDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.esbtrDoc)">{{$ctrl.esbtrDoc}}</a>\r\n                                            </div>\r\n                                            \r\n                                            <div class="form-group col-sm-3">\r\n                                            <label for="name">Challan:\r\n                                              </label>\r\n                                              <input id="challanDoc" type="file" name="datafile" size="40" files-input ng-model="$ctrl.challanDoc" ng-change="$ctrl.checkFileSize($ctrl.ChallanDoc,\'ChallanDoc\')"\r\n                                              />\r\n                                            </div>\r\n                                            <div class="form-group col-sm-12" ng-if="$ctrl.isEdit">\r\n                                              <label>Download:</label>\r\n                                              <a id="challanDoc" href="" ng-click="$ctrl.downloadDocument($ctrl.challanDoc)">{{$ctrl.challanDoc}}</a>\r\n                                            </div> -->\r\n\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class="col-sm-12">&nbsp;\r\n                                    </div>\r\n                                    <div class="col-sm-5">&nbsp;\r\n                                    </div>\r\n\r\n                                    <!-- ng-disabled="!$ctrl.tempInvestors.investorName || !$ctrl.tempInvestors.dealConfirmationDate || !$ctrl.tempInvestors.cpIssue\r\n                                      || !$ctrl.tempInvestors.discountedPrice || !$ctrl.tempInvestors.discountedRate || !$ctrl.tempInvestors.discountedValue || !$ctrl.tempInvestors.dpId || !$ctrl.tempInvestors.clientId || !$ctrl.tempInvestors.dpName || !$ctrl.tempInvestors.units\r\n                                      || !$ctrl.tempInvestors.stampDuty -->\r\n\r\n                                    <div class="col-sm-3">\r\n                                      <!-- <button class="btn btn-primary" ng-click="$ctrl.pushInvestors($ctrl.tempInvestors)" ng-hide="$ctrl.role==\'ipa_checker\'" ng-disabled="!$ctrl.tempInvestors.investorName || !$ctrl.tempInvestors.dealConfirmationDate || !$ctrl.tempInvestors.cpIssue\r\n                                                || !$ctrl.tempInvestors.discountedPrice || !$ctrl.tempInvestors.discountedRate || !$ctrl.tempInvestors.discountedValue || \r\n                                                !$ctrl.tempInvestors.yeild || !$ctrl.tempInvestors.stampDuty || !$ctrl.tempInvestors.dpId || !$ctrl.tempInvestors.clientId || !$ctrl.tempInvestors.dpName || !$ctrl.tempInvestors.units\r\n                                                ">Add</button> -->\r\n\r\n                                      <button class="btn btn-primary" ng-click="$ctrl.pushInvestors($ctrl.transaction)"\r\n                                        ng-hide="$ctrl.role==\'ipa_checker\'">Add</button>\r\n\r\n                                      <button class="btn btn-default"  ng-click="$ctrl.resetTempInvestor()"\r\n                                        ng-hide="$ctrl.role==\'ipa_checker\'">Reset</button>\r\n\r\n                                    </div>\r\n\r\n                                    <div class="form-group col-sm-6">\r\n                                      <label for="name">Sign Deal Documents:\r\n                                        <span style="color: red">*</span>\r\n                                      </label>\r\n                                      <input id="signDealDoc" type="file" name="datafile" size="40" files-input\r\n                                        ng-model="$ctrl.signDealConfDoc" />\r\n                                    </div>\r\n\r\n\r\n                                    <div class="col-sm-12">&nbsp;\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class="form-group col-sm-12">\r\n                        &nbsp;\r\n                      </div>\r\n\r\n                      <section class="content-header">\r\n\r\n                        <div class="col-lg-12 col-xs-20">\r\n                          <h4>\r\n                            <b>Investor Details</b>\r\n                          </h4>\r\n\r\n                          <div class="row">\r\n                            <div class="col-md-12">\r\n                              <div class="box box-primary" id="boxx">\r\n                                <form role="form" name="groupCreation">\r\n                                  <div class="box-body" style="overflow-x:scroll">\r\n                                    <div ng-app=\'MyModule\'>\r\n                                      <div>\r\n                                        <table class="table table-striped table-bordered">\r\n                                          <thead>\r\n                                            <tr>\r\n                                              <th>Sr.No</th>\r\n                                              <th>Investor Name</th>\r\n                                              <th>CP Issue</th>\r\n                                              <th>Deal Confirmation Date</th>\r\n                                              <th>Disounted Price</th>\r\n                                              <th>Disounted Rate</th>\r\n                                              <th>Discounted Value</th>\r\n                                              <th>Units</th>\r\n                                              <th ng-if="$ctrl.isEdit">Document</th>\r\n                                              <th ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit==true">Action</th>\r\n                                            </tr>\r\n                                          </thead>\r\n                                          <tbody>\r\n\r\n                                            <!-- <tr ng-repeat="transaction in $ctrl.transactions"> -->\r\n                                            <tr ng-repeat="transaction in $ctrl.form.transactions ">\r\n\r\n                                              <td>{{$index + 1}}</td>\r\n                                              <td>{{transaction.investor.name}}</td>\r\n                                              <td>{{transaction.cpIssue | INR}}</td>\r\n                                              <td>{{transaction.dealConfirmationDate}}</td>\r\n                                              <td>{{transaction.discountedPrice}}</td>\r\n                                              <td>{{transaction.discountedRate}}</td>\r\n                                              <td>{{transaction.discountedValue}}</td>\r\n                                              <td>{{transaction.units}}</td>\r\n                                              <td ng-if="$ctrl.isEdit"\r\n                                                ng-click="$ctrl.downloadDocument(transaction.signDealConfDoc)">\r\n                                                <a href="">DealConfirmationDoc</a>\r\n                                              </td>\r\n                                              <td ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit==true">\r\n                                                <button class="btn btn-primary"\r\n                                                  ng-click="$ctrl.editInvestor($index,transaction)">\r\n                                                  <i class="glyphicon glyphicon-edit"></i>\r\n                                                </button>\r\n                                                <button class="btn btn-primary" ng-click="$ctrl.removeInvestor($index)">\r\n                                                  <i class="glyphicon glyphicon-trash"></i>\r\n                                                </button>\r\n                                              </td>\r\n\r\n                                            </tr>\r\n                                          </tbody>\r\n                                        </table>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </form>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </section>\r\n\r\n                      <div class="form-group col-sm-12">\r\n                        &nbsp;\r\n                      </div>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                    <div class="col-sm-5">&nbsp;\r\n                    </div>\r\n\r\n                    <div class="col-sm-12">&nbsp;\r\n                    </div>\r\n\r\n                    <div class="col-sm-3">\r\n                      <button class="btn btn-primary" ng-click="$ctrl.addDeal()"\r\n                        ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit"\r\n                        ng-disabled="!$ctrl.form.promissoryDate || !$ctrl.form.signatory1 || !$ctrl.form.designation1 || !$ctrl.form.signatory2 || !$ctrl.form.designation2">Submit</button>\r\n                      <button class="btn btn-primary right" ng-click="$ctrl.updateDeal()"\r\n                        ng-show="$ctrl.isEdit && $ctrl.role==\'ipa_maker\'"\r\n                        ng-disabled="!$ctrl.form.promissoryDate || !$ctrl.form.signatory1 || !$ctrl.form.designation1 || !$ctrl.form.signatory2 || !$ctrl.form.designation2">Update</button>\r\n                      <button id="reset-btn" class="btn btn-default" ng-click="$ctrl.cancelled()"\r\n                        ng-show="$ctrl.role==\'ipa_maker\'">Cancel</button>\r\n                      <button class="btn btn-primary center-block" ng-click="$ctrl.back()"\r\n                        ng-show="$ctrl.role==\'ipa_checker\'">back</button>\r\n\r\n                    </div>\r\n\r\n                    <div class="col-sm-4">&nbsp;\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n\r\n        </form>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</section>\r\n<script>\r\n  $(\'#dtpFilter\').datepicker({\r\n    autoclose: true\r\n  });\r\n  $(\'#dtpFilter1\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter2\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter3\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter4\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter5\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter6\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter7\').datepicker({\r\n    autoclose: true\r\n  });\r\n\r\n  $(\'#dtpFilter8\').datepicker({\r\n    autoclose: true\r\n  });\r\n</script>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a,i=t(668),o=n(i),s=t(719),l=n(s),c=t(689),d=n(c),u=t(416),p=n(u),m=t(434),f=n(m),g=t(454),h=r(g),v=t(510),b=function(){function e(t,r,n,i,o){(0,p.default)(this,e),this.mailId=[],this.transactions=[],this.transaction={},this.showDoc=!1,this.formdata=new FormData,this.baseUrl=h.CONFIG.BASE_URL,this.dealService=t,this.name="add_Deal",a=this,this.state=i,this.scope=o,this.commonService=n,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId)),this.mailId.push(this.myStorage.getItem("IdList")),this.role=this.myStorage.getItem("role"),r.deal&&(this.isEdit=!0,this.isView=!0,this.trancheId=r.deal.tranche,this.form=r.deal,this.investors=r.deal.investors,this.promissoryDocument=this.form.promissoryDoc,this.esbtrDoc=this.form.esbtrDoc,this.challanDoc=this.form.challanDoc,r.deal.isRelatedParty&&(this.form.isRelatedParty="true"),this.isEdit?this.dealService.getRatingsDetailsByCPAndTrancheId(this.trancheId,this.trancheId.commercialPaper).then(function(e){if($(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus){var t=e.data.serviceResponse;a.tempRating=t}else alert(e.data.serviceStatus)}):console.log("isEdit false"))}return(0,f.default)(e,[{key:"investorChanges",value:function(e){this.$parent.$ctrl.transaction.investor=e.originalObject,console.log(this.$parent.$ctrl.transaction.investor),void 0!=e&&this.$parent.$broadcast("angucomplete-alt:changeInput","dpId",this.$parent.$ctrl.transaction.investor.dpId)}},{key:"dpIdChanges",value:function(e){this.$parent.$ctrl.transaction.investor=e.originalObject,void 0!=e&&this.$parent.$broadcast("angucomplete-alt:changeInput","investorName",this.$parent.$ctrl.transaction.investor.name)}},{key:"inputChanged",value:function(e){if(e&&(a.data=e.originalObject),a.isUserActive=a.data.commercialPaper.customer.isUserActive,null!=a.data.deal&&"Rejected"!=a.data.deal.status)return alert("Deal is already Registerd for Treanch ID:"+a.data.trancheId+" ...!"),a.scope.$broadcast("angucomplete-alt:changeInput","TrancheSecurity"," "),void(a.data=null);if("Pending"==a.data.status||"CallBack"==a.data.status)return alert("Tranche is not Approved For Deal...!"),a.scope.$broadcast("angucomplete-alt:changeInput","TrancheSecurity"," "),void(a.data=null);var t=v(a.data.maturityDate,"DD/MM/YYYY"),r=v(a.data.valueDate,"DD/MM/YYYY");a.tenorInDays=t.diff(r,"days");var n=a.data.commercialPaper.customer;if("percentFees"==n.ipaFrequency){var i=.01*a.data.totalCPIssue*parseInt(a.tenorInDays)/365*100,o=18*i/100;if(a.ipaFeeAmount=i+o,"percentFees"==n.ipaFrequency&&1==n.isTDS){var s=10*i/100;a.ipaFeeAmount=i-s}}var l=a.data.commercialPaper.customer.br;l.forEach(function(e){a.tempBrData=e}),a.tempRating=a.data.commercialPaper.ratings}},{key:"change",value:function(e,t){(t=!this.form.isRelatedParty&&"ipa_maker"==this.role)&&(this.form.relatedParty=null)}},{key:"pushInvestors",value:function(e){var t=this;try{this.dealService.validateToken().then(function(e){if(t.data.totalCPIssue=parseInt(t.data.totalCPIssue),"number"!=typeof t.transaction.cpIssue){if(t.transaction.cpIssue.includes(",")){var r=t.transaction.cpIssue.replace(/,/g,"");if(t.transaction.cpIssue=r,t.transaction.cpIssue%5e5!=0)return void alert("Enter Amount in multiple of 5 lakh")}else if(t.transaction.cpIssue%5e5!=0)return void alert("Enter Amount in multiple of 5 lakh")}else if(t.transaction.cpIssue%5e5!=0)return void alert("Enter Amount in multiple of 5 lakh");if(t.editIndex>-1&&null!=t.editIndex){console.log("in edit part",t.editIndex);for(var n=(t.form.transactions[t.editIndex].investor,t.form.transactions),a=0;a<n.length;a++)a==t.editIndex&&(null==t.transaction.investor&&(t.transaction.investor=t.form.transactions[t.editIndex].investor),null!=t.transaction.investor.originalObject&&(t.transaction.investor=t.transaction.investor.originalObject),n[t.editIndex]=(0,d.default)({},t.transaction)),t.form.transactions=n;console.log(t.form.transactions)}else{console.log("in new part",t.editIndex);var i=0,o=0,s=t.data.totalCPIssue-i;"number"!=typeof t.transaction.cpIssue&&t.transaction.cpIssue.includes(",")&&(t.transaction.cpIssue=t.transaction.cpIssue.replace(/,/g,"")),o=i+parseInt(t.transaction.cpIssue),o<=t.data.totalCPIssue?(void 0==t.form.transactions&&(t.form.transactions=[]),t.transaction.investor=t.transaction.investor.originalObject,console.log("original object",t.transaction.investor),t.form.transactions.push((0,d.default)({},t.transaction)),console.log("from form",t.form.transactions),$("#investorName_value").val(""),t.transaction.investor=null,t.transaction.dealConfirmationDate=null,t.transaction.dateOfContract=null,t.transaction.cpIssue=null,t.transaction.discountedPrice=null,t.transaction.discountedRate=null,t.transaction.yeild=null,t.transaction.discountedValue=null,t.transaction.stampDuty=null,t.transaction.units=null):alert("you can't add investor bcoz remaining cp balance is: "+s)}})}catch(e){console.log(e),alert("token expired"),window.location.href=h.CONFIG.Base_user_logouturl}}},{key:"editInvestor",value:function(e,t){this.editIndex=e,console.log(t),this.tempInvestors={id:t.id,name:t.investor.name,cpIssue:t.cpIssue,dealConfirmationDate:t.dealConfirmationDate,discountedPrice:t.discountedPrice,discountedRate:t.discountedRate,discountedValue:t.discountedValue,yeild:t.yeild,dpId:t.dpId,dpName:t.dpName,clientId:t.clientId,contactNumber:t.contactNumber,stampDuty:t.stampDuty,units:t.units,dealConfDoc:t.signDealConfDoc,esbtrDoc:t.esbtrDoc,challanDoc:t.challanDoc},$("#investorName_value").val(this.tempInvestors.name),this.transaction.cpIssue=t.cpIssue,this.transaction.dealConfirmationDate=t.dealConfirmationDate,this.transaction.dateOfContract=t.dateOfContract,this.transaction.discountedRate=t.discountedRate,this.transaction.discountedPrice=t.discountedPrice,this.transaction.discountedValue=t.discountedValue,this.transaction.yeild=t.yeild,this.transaction.stampDuty=t.stampDuty,this.transaction.units=t.units}},{key:"removeInvestor",value:function(e){e>-1&&this.form.transactions.splice(e,1)}},{key:"resetTempInvestor",value:function(){$("#investorName_value").val(""),this.transaction={},this.editIndex=null}},{key:"checkFileSize",value:function(e,t){var r=1048576,n=e[0].size/r;n>10&&(alert("File size should not greater than 1 MB"),document.getElementById(t).value=null)}},{key:"validateCPIssue",value:function(){if(this.transaction.cpIssue.includes(",")&&(this.transaction.cpIssue=this.transaction.cpIssue.replace(/,/g,"")),"number"!=typeof this.data.totalCPIssue&&this.data.totalCPIssue.includes(",")&&(this.data.totalCPIssue=this.data.totalCPIssue.replace(/,/g,"")),parseInt(this.transaction.cpIssue)>parseInt(this.data.totalCPIssue))return alert("cpIssue Value can't exceed than Total CP issue value"),void(this.transaction.cpIssue=this.transaction.cpIssue.slice(0,-1));var e=5e5;this.transaction.units=parseInt(this.transaction.cpIssue)/e;var t=v(a.data.maturityDate,"DD/MM/YYYY"),r=v(a.data.valueDate,"DD/MM/YYYY"),n=Math.ceil(v(t).diff(v(r),"months",!0));if(n<=3){var i=.12*this.transaction.cpIssue/1e3;this.transaction.stampDuty=i}else if(n>3&&n<=6){var i=.24*this.transaction.cpIssue/1e3;this.transaction.stampDuty=i}else if(n>6&&n<=9){var i=.36*this.transaction.cpIssue/1e3;this.transaction.stampDuty=i}else if(n>9&&n<=12){var i=.5*this.transaction.cpIssue/1e3;this.transaction.stampDuty=i}}},{key:"calculationOnPrice",value:function(){var e=0;this.transaction.cpIssue.includes(",")&&(this.transaction.cpIssue=this.transaction.cpIssue.replace(/,/g,"")),e=this.transaction.cpIssue*this.transaction.discountedPrice/100,this.transaction.discountedValue=e;var t=0;t=(100-this.transaction.discountedPrice)/100*(365/this.tenorInDays)*100,this.transaction.discountedRate=parseFloat(t.toFixed(2));var r=0;r=this.transaction.cpIssue*this.transaction.discountedRate/this.transaction.discountedValue,this.transaction.yeild=parseFloat(r.toFixed(2)),null!=this.transaction.discountedPrice&&0!=this.transaction.discountedPrice||(this.transaction.discountedValue=null,this.transaction.discountedRate=null)}},{key:"calculationOnRate",value:function(){var e=0;"number"!=typeof this.transaction.cpIssue&&this.transaction.cpIssue.includes(",")&&(this.transaction.cpIssue=this.transaction.cpIssue.replace(/,/g,"")),e=(100-100*this.transaction.discountedRate*this.tenorInDays/36500).toFixed(4),this.transaction.discountedPrice=parseFloat(e);var t=0;t=this.transaction.cpIssue*this.transaction.discountedPrice/100,this.transaction.discountedValue=t;var r=0;r=this.transaction.cpIssue*this.transaction.discountedRate/this.transaction.discountedValue,this.transaction.yeild=parseFloat(r.toFixed(2)),null!=this.transaction.discountedRate&&0!=this.transaction.discountedRate||(this.transaction.discountedPrice=null,this.transaction.discountedValue=null)}},{key:"ValidatePromissoryDate",value:function(){var e=v(this.data.valueDate,"DD/MM/YYYY").isSame(v(this.form.promissoryDate,"DD/MM/YYYY"));if(0==e)return alert("Promissory Date should be same as Value date...!"),void(this.form.promissoryDate=null)}},{key:"validateDealConfDate",value:function(){var e=v(v(this.transaction.dealConfirmationDate,"DD/MM/YYYY")).isSameOrBefore(v(this.data.valueDate,"DD/MM/YYYY"));if(0==e)return alert("Deal Confirmation Date should be Same or less than Value date...!"),void(this.transaction.dealConfirmationDate=null)}},{key:"validateContractDate",value:function(){var e=v(v(this.transaction.dateOfContract,"DD/MM/YYYY")).isSameOrBefore(v(this.data.valueDate,"DD/MM/YYYY"));if(0==e)return alert("Date of Contract should be same or less than Value date...!"),void(this.transaction.dateOfContract=null)}},{key:"calculationOnyield",value:function(){}},{key:"back",value:function(){this.state.go("requests/request")}},{key:"cancelled",value:function(){this.state.go("deal/showdeal")}},{key:"addDeal",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");this.form.trancheId=this.data.trancheId,this.form.customerId=this.data.customerId,this.form.customerName=this.data.customerName,this.form.isinNumber=this.data.isinNumber,this.form.totalCPIssue=this.data.totalCPIssue,this.form.createdBy=this.myStorage.getItem("userName"),this.form.status="Pending",this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),this.form.tenor=this.tenorInDays;var t=!0,r=!1,n=void 0;try{for(var i,s=(0,o.default)(this.formdata.entries());!(t=(i=s.next()).done);t=!0){var c=i.value;console.log(c[0]+", "+c[1])}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}if("number"!=typeof this.form.totalCPIssue){if(this.form.totalCPIssue.includes(",")&&(this.form.totalCPIssue=this.form.totalCPIssue.replace(/,/g,""),this.form.totalCPIssue=parseInt(this.form.totalCPIssue),this.form.totalCPIssue%5e5!=0))return void alert("Please enter amount multiple of 5 lacs")}else this.form.totalCPIssue.toString().replace(/,/g,""),this.form.totalCPIssue=parseInt(this.form.totalCPIssue);if("Pending"==this.data.status||"CallBack"==this.data.status)return void alert("Tranche is not Approved For Deal...!");if(1==this.form.isRelatedParty)return void alert("You can't register Deal because of Related party...!");if(1==this.form.isCallorPut)return void alert("You can't register Deal because of Call or Put...!");if(null==this.promissoryDoc||1!=this.promissoryDoc.length)return void alert("Promissory Document required...!");var d=this.promissoryDoc[0].name,u=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!d.match(u))return alert("Promissory Document---Invalid File...Supported only PDF File...!"),!1;if(this.form.promissoryDoc=this.promissoryDoc[0].name,this.formdata.append("uploadingFiles",this.promissoryDoc[0]),this.form.signDealConfDoc=this.signDealConfDoc[0].name,null==this.signDealConfDoc||1!=this.signDealConfDoc.length)return void alert("Sign Deal Document required...!");var d=this.signDealConfDoc[0].name,u=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;return d.match(u)?(this.formdata.append("uploadingFiles",this.signDealConfDoc[0]),this.form.transactions.forEach(function(t){"number"==!(0,l.default)(t.cpIssue)?e.form.transactions.cpIssue=parseInt(t.cpIssue.replace(/,/g,"")):e.form.transactions.cpIssue=parseInt(t.cpIssue.toString().replace(/,/g,""))}),void this.dealService.addDeal(this.formdata,angular.toJson(this.form)).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Deal Successfully Registerd...!"),e.state.go("deal/showdeal");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return"Deal is already Registered"==t.data.serviceError?void alert("Deal is already Registered...!"):"Tranche is not Approved"==t.data.serviceError?void alert("Tranche is not Approved for Requested Deal...!"):void alert("ERROR - Something went wrong In Registerd Deal...!");alert("Deal Successfully Registerd but mail has not send...!"),e.state.go("deal/showdeal")}})):(alert("Sign Deal Document---Invalid File...Supported only PDF File...!"),!1)}},{key:"updateDeal",value:function(){var e=this;if(!a.isUserActive)return void alert("Customer status is Inactive");if("number"!=typeof this.form.totalCPIssue&&this.form.totalCPIssue.includes(",")&&(this.form.totalCPIssue=this.form.totalCPIssue.replace(/,/g,"")),this.form.updatedBy=this.myStorage.getItem("userName"),this.form.mailIdList=this.mailId,this.form.makerMailId=this.myStorage.getItem("emailId"),this.form.investors=this.investors,delete this.form.tranche,delete this.form.investors,null!=this.promissoryDoc&&1==this.promissoryDoc.length){var t=this.promissoryDoc[0].name,r=/(.*?)\.(pdf|PDF|doc|docx|xls|xlsx)$/;if(!t.match(r))return void alert("Promissory Document---Invalid File...Supporetd only PDF file...!");this.form.promissoryDoc=this.promissoryDoc[0].name,this.formdata.append("uploadingFiles",this.promissoryDoc[0])}return 1==this.form.isRelatedParty?void alert("You can't update Deal because of Related party...!"):1==this.form.isCallorPut?void alert("You can't register Deal because of Call or Put...!"):(this.formdata.append("requestInput",angular.toJson(this.form)),void(null!=this.promissoryDoc&&1==this.promissoryDoc.length||null!=this.signDealConfDoc&&1==this.signDealConfDoc.length||null!=this.challanDoc&&1==this.challanDoc.length&&null!=this.esbtrDoc&&1==this.esbtrDoc.length?this.dealService.updateDeal(this.formdata).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Deal Successfully Updated...!"),e.state.go("deal/showdeal");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return void alert("ERROR - Something went wrong in Update Deal...!");alert("Deal Successfully Updated but mail has not send...!"),e.state.go("deal/showdeal")}}):this.dealService.updateDeal(this.formdata).then(function(t){if($(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus)alert("Deal Successfully Updated...!"),e.state.go("deal/showdeal");else{if("SUCCESS"!=t.data.serviceStatus||"Unable to send email"!=t.data.serviceError)return void alert("ERROR - Something went wrong in Update Deal...!");alert("Deal Successfully Updated but mail has not send...!"),e.state.go("deal/showdeal")}})))}},{key:"uploadDocument",value:function(){var e,t=this.promissoryDoc,r=this.form.trancheId,n=this.form.customerId,a=[];return this.investors.forEach(function(e){a.push(e.dealConfDoc)}),this.dealService.uploadDocument(t,a,r,e,n).then(function(e){return e.data})}},{key:"downloadDocument",value:function(e){var t=this.form.customerId,r=this.form.dealNumber,n=e.substr(e.lastIndexOf(".")+1);this.dealService.downloadDocument(e,t,r).then(function(e){var t=[];t.push(e.binaryData);var r=document.createElement("a");r.style="display: none",document.body.appendChild(r);var a=window.URL.createObjectURL(new Blob([e.data],{type:"application/extension"}));r.href=a,r.download="Output."+n,r.click(),window.URL.revokeObjectURL(a)})}}]),e}();b.$inject=["dealService","$stateParams","commonService","$state","$scope"],exports.default=b},function(e,exports,t){var r=t(758);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,'.pannel_show{height:auto}.pannel_hide{height:0}input[type=date]:before{width:100%}input[type=date]:before,input[type=date]:focus:before,input[type=date]:hover:before{content:attr(data-placeholder)}.btn-toggle{margin:0 4rem;padding:0;position:relative;border:none;height:1.5rem;width:3rem;border-radius:1.5rem;color:#6b7381;background:#bdc1c8}.btn-toggle.focus,.btn-toggle.focus.active,.btn-toggle:focus,.btn-toggle:focus.active{outline:none}.btn-toggle:after,.btn-toggle:before{line-height:1.5rem;width:4rem;text-align:center;font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle:before{content:"Off";left:-4rem}.btn-toggle:after{content:"On";right:-4rem;opacity:.5}.btn-toggle>.handle{position:absolute;top:.1875rem;left:.1875rem;width:1.125rem;height:1.125rem;border-radius:1.125rem;background:#fff;transition:left .25s}.btn-toggle.active{transition:background-color .25s}.btn-toggle.active>.handle{left:1.6875rem;transition:left .25s}.btn-toggle.active:before{opacity:.5}.btn-toggle.active:after{opacity:1}.btn-toggle.btn-sm:after,.btn-toggle.btn-sm:before{line-height:-.5rem;color:#fff;letter-spacing:.75px;left:.41250000000000003rem;width:2.325rem}.btn-toggle.btn-sm:before{text-align:right}.btn-toggle.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-sm.active:before{opacity:0}.btn-toggle.btn-xs:after,.btn-toggle.btn-xs:before{display:none}.btn-toggle:after,.btn-toggle:before{color:#6b7381}.btn-toggle.active{background-color:#c81b5d}.btn-toggle.btn-lg{margin:0 5rem;padding:0;position:relative;border:none;height:2.5rem;width:5rem;border-radius:2.5rem}.btn-toggle.btn-lg.focus,.btn-toggle.btn-lg.focus.active,.btn-toggle.btn-lg:focus,.btn-toggle.btn-lg:focus.active{outline:none}.btn-toggle.btn-lg:after,.btn-toggle.btn-lg:before{line-height:2.5rem;width:5rem;text-align:center;font-weight:600;font-size:1rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-lg:before{content:"No";left:1rem;font-weight:700}.btn-toggle.btn-lg:after{content:"Yes";right:-5rem;opacity:0}.btn-toggle.btn-lg>.handle{position:absolute;top:.3125rem;left:.3125rem;width:1.875rem;height:1.875rem;border-radius:1.875rem;background:#fff;transition:left .25s}.btn-toggle.btn-lg.active{transition:background-color .25s}.btn-toggle.btn-lg.active>.handle{left:2.8125rem;transition:left .25s}.btn-toggle.btn-lg.active:before{opacity:.5}.btn-toggle.btn-lg.active:after{opacity:1;right:1rem;color:#fff;font-size:10px}.btn-toggle.btn-lg.btn-sm:after,.btn-toggle.btn-lg.btn-sm:before{line-height:.5rem;color:#fff;letter-spacing:.75px;left:.6875rem;width:3.875rem}.btn-toggle.btn-lg.btn-sm:before{text-align:right}.btn-toggle.btn-lg.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-lg.btn-sm.active:before{opacity:0}.btn-toggle.btn-lg.btn-sm.active:after{opacity:1}.btn-toggle.btn-lg.btn-xs:after,.btn-toggle.btn-lg.btn-xs:before{display:none}.btn-toggle.btn-sm{margin:0 .5rem;padding:0;position:relative;border:none;height:1.5rem;width:3rem;border-radius:1.5rem}.btn-toggle.btn-sm.focus,.btn-toggle.btn-sm.focus.active,.btn-toggle.btn-sm:focus,.btn-toggle.btn-sm:focus.active{outline:none}.btn-toggle.btn-sm:after,.btn-toggle.btn-sm:before{line-height:1.5rem;width:.5rem;text-align:center;font-weight:600;font-size:.55rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-sm:before{content:"No";left:-.5rem}.btn-toggle.btn-sm:after{content:"Yes";right:-.5rem;opacity:.5}.btn-toggle.btn-sm>.handle{position:absolute;top:.1875rem;left:.1875rem;width:1.125rem;height:1.125rem;border-radius:1.125rem;background:#fff;transition:left .25s}.btn-toggle.btn-sm.active{transition:background-color .25s}.btn-toggle.btn-sm.active>.handle{left:1.6875rem;transition:left .25s}.btn-toggle.btn-sm.active:before{opacity:.5}.btn-toggle.btn-sm.active:after{opacity:1}.btn-toggle.btn-sm.btn-sm:after,.btn-toggle.btn-sm.btn-sm:before{line-height:-.5rem;color:#fff;letter-spacing:.75px;left:.41250000000000003rem;width:2.325rem}.btn-toggle.btn-sm.btn-sm:before{text-align:right}.btn-toggle.btn-sm.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-sm.btn-sm.active:before{opacity:0}.btn-toggle.btn-sm.btn-sm.active:after{opacity:1}.btn-toggle.btn-sm.btn-xs:after,.btn-toggle.btn-sm.btn-xs:before{display:none}.btn-toggle.btn-xs{margin:0;padding:0;position:relative;border:none;height:1rem;width:2rem;border-radius:1rem}.btn-toggle.btn-xs.focus,.btn-toggle.btn-xs.focus.active,.btn-toggle.btn-xs:focus,.btn-toggle.btn-xs:focus.active{outline:none}.btn-toggle.btn-xs:after,.btn-toggle.btn-xs:before{line-height:1rem;width:0;text-align:center;font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:2px;position:absolute;bottom:0;transition:opacity .25s}.btn-toggle.btn-xs:before{content:"Off";left:0}.btn-toggle.btn-xs:after{content:"ON";right:0;opacity:.5}.btn-toggle.btn-xs>.handle{position:absolute;top:.125rem;left:.125rem;width:.75rem;height:.75rem;border-radius:.75rem;background:#fff;transition:left .25s}.btn-toggle.btn-xs.active{transition:background-color .25s}.btn-toggle.btn-xs.active>.handle{left:1.125rem;transition:left .25s}.btn-toggle.btn-xs.active:before{opacity:.5}.btn-toggle.btn-xs.active:after{opacity:1}.btn-toggle.btn-xs.btn-sm:after,.btn-toggle.btn-xs.btn-sm:before{line-height:-1rem;color:#fff;letter-spacing:.75px;left:.275rem;width:1.55rem}.btn-toggle.btn-xs.btn-sm:before{text-align:right}.btn-toggle.btn-xs.btn-sm:after{text-align:left;opacity:0}.btn-toggle.btn-xs.btn-sm.active:before{opacity:0}.btn-toggle.btn-xs.btn-sm.active:after{opacity:1}.btn-toggle.btn-xs.btn-xs:after,.btn-toggle.btn-xs.btn-xs:before{display:none}.btn-toggle.btn-secondary{color:#6b7381;background:#bdc1c8}.btn-toggle.btn-secondary:after,.btn-toggle.btn-secondary:before{color:#6b7381}.btn-toggle.btn-secondary.active{background-color:#ff8300}.angucomplete-holder{position:relative}.angucomplete-dropdown{border:1px solid #ececec;border-radius:2px;width:250px;padding:6px;cursor:pointer;z-index:9999;position:absolute;margin-top:-6px;background-color:#fff}.angucomplete-searching{color:#acacac;font-size:14px}.angucomplete-description{font-size:14px}.angucomplete-row{padding:5px;color:#000;margin-bottom:4px;clear:both}.angucomplete-selected-row{background-color:#add8e6;color:#fff}.angucomplete-image-holder{padding-top:2px;float:left;margin-right:10px;margin-left:5px}.angucomplete-image{height:34px;width:34px;border-radius:50%;border:1px solid #ececec}.angucomplete-image-default{background-position:50%;background-size:contain;height:34px;width:34px}',""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="dealService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getBRDetails",value:function(e){this.http({method:"GET",url:c.CONFIG.BASE_URL+"/api/showBR",headers:{"content-type":"application/json"},data:e}).then(function(e){})}},{key:"addDeal",value:function(e,t){return e.append("requestInput",t),$(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/registerDeal",headers:{"content-type":void 0},data:e})}},{key:"validateToken",value:function(){return this.http({method:"GET",url:c.CONFIG.Base_user_logouturl+"/api/validate",headers:{"content-type":"application/json"}})}},{key:"updateDeal",value:function(e){return $(".se-pre-con").show(),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/updateDeal",headers:{"content-type":void 0},data:e})}},{key:"uploadDocument",value:function(e,t,r,n,a){var i=new FormData;if(null!=e&&i.append("promissoryDoc",e[0]),null!=t)for(var o=0;o<t.length;o++)void 0!=t[o]&&i.append("fileList",t[o][0]);return i.append("trancheId",r),i.append("dealNumber",n),i.append("customerId",a),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/uploadDocument",processData:!1,headers:{"content-type":void 0},data:i})}},{key:"downloadDocument",value:function(e,t,r){return this.http({method:"Post",url:c.CONFIG.BASE_URL+"/api/downloadDealDoc",processData:!1,headers:{"content-type":"application/json"},params:{fileName:e,customerId:t,dealNumber:r},responseType:"blob"})}},{key:"getRatingsDetailsByCPAndTrancheId",value:function(e,t){$(".se-pre-con").show();var r={cpId:t.id,trancheId:e.id};return this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getRatingsDetailsByCPAndTrancheId",headers:{"content-type":"application/json"},params:r})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(761),l=r(s),c=t(766),d=r(c),u=a.default.module("showdeal",[o.default]).config(["$stateProvider",function(e){"ngInject";e.state("deal/showdeal",{url:"/deal/showdeal",component:"showDealComp"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("showDealComp",l.default).service("showDealService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(762),a=r(n),i=t(763),o=r(i);t(764);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    \r\n        <div class="col-lg-12 col-xs-20"> \r\n           <h1>\r\n                Deals\r\n            </h1>\r\n\r\n            <!-- <div id="custom-search-input">\r\n                <div class="input-group col-md-3">\r\n                    <input type="text" class="form-control input-lg" placeholder="Search Deals" ng-model="$ctrl.trancheId"/>\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-info btn-lg" type="button">\r\n                            <i class="glyphicon glyphicon-search"></i>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n            </div> -->\r\n\r\n            <div id="custom-search-input">\r\n                <div class="input-group col-md-3">\r\n                <label >Search  Using : \r\n                    <span style="color: red;">*</span></label>\r\n                <select class="form-control input-sm" ng-change="$ctrl.showSearch()" \r\n                                    ng-model="$ctrl.dealSearch">\r\n                        <option  value="">Select</option>\r\n                        <option value="isin">ISIN</option>\r\n                        <option value="customerId">Customer Id</option>\r\n                </select>\r\n                </div>\r\n            </div>\r\n\r\n            <div id="custom-search-input" ng-show="$ctrl.isCustomerSearch==true">\r\n                <div class="input-group col-md-3">\r\n                    <input type="text" class="form-control input-sm" minlength="3" \r\n                    ng-change="$ctrl.fetchDealRequest()" \r\n                    ng-click="$ctrl.fetchDealRequest()"\r\n                    placeholder="Search Deal using CustomerID" \r\n                    ng-model="$ctrl.customerId"/>\r\n                </div>\r\n            </div>\r\n\r\n            <div id="custom-search-input" ng-show="$ctrl.isIsinSearch==true">\r\n                    <div class="input-group col-md-3">\r\n                        <input type="text" class="form-control input-sm" minlength="3" \r\n                        ng-change="$ctrl.fetchDealRequest()" \r\n                        ng-click="$ctrl.fetchDealRequest()"\r\n                        placeholder="Search Deal using ISIN" ng-model="$ctrl.isinNumber"/>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            <div class="col-sm-12">&nbsp;\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div class="box box-primary" id="boxx">\r\n                        <form role="form" name="groupCreation">\r\n                            <div class="box-body" style="overflow-x: scroll">\r\n                                <div ng-app=\'MyModule\'>\r\n                                    <div>\r\n                                         <table class="table table-bordered table-hover">\r\n                                            <thead>\r\n                                                  <tr>\r\n                                                    <th>Sr No.</th>\r\n                                                    <th>Deal Number</th>\r\n                                                    <th>Tranch Id</th>\r\n                                                    <th>Customer Id </th>\r\n                                                    <th>ISIN </th>\r\n                                                    <th>Promisory Date</th>                           \r\n                                                    <th>Total CP Issue</th>                                        \r\n                                                    <th>Tenor in Days</th>                                                                                                        \r\n                                                    <th>Status</th>\r\n                                                    <th>Action</th>\r\n                                                    <th ng-show="$ctrl.role==\'ipa_checker\'">status</th>\r\n                                                  </tr>\r\n                                            </thead>\r\n                                                <tr ng-repeat="deal in $ctrl.arrayToDisplay | filter: $ctrl.trancheId" ng-hide="deal.status==\'Rejected\'">\r\n\r\n                                                    <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                                    <td>{{deal.dealNumber}}</td>\r\n                                                    <td>{{deal.trancheId}}</td>\r\n                                                    <td>{{deal.customerId}}</td>\r\n                                                    <td>{{deal.isinNumber}}</td>\r\n                                                    <td>{{deal.promissoryDate  | date : "dd/MM/yyyy"}}</td>                                                   \r\n                                                    <td>{{deal.totalCPIssue}}</td>                                              \r\n                                                    <td>{{deal.tenor}}</td>                                                \r\n                                                    <td>{{deal.status}}</td>   \r\n                                                    <td><button class="btn btn-primary" data-toggle="tooltip" title="Edit" ng-click="$ctrl.editDeal(deal)"><i class="glyphicon glyphicon-edit"></i></button></td>     \r\n                                                    <td ng-show="$ctrl.role==\'ipa_checker\'">\r\n                                                        <button class="btn btn-primary" data-toggle="tooltip" title="Approve"><i class="glyphicon glyphicon-ok"></i></button>\r\n                                                        <button class="btn btn-info" data-toggle="tooltip" title="Callback"><i class="glyphicon glyphicon-edit"></i></button>\r\n                                                        <button class="btn btn-danger" data-toggle="tooltip" title="Reject"><i class="glyphicon glyphicon-remove"></i></button>\r\n                                                  </td>\r\n                                                </tr>                                  \r\n                                        </table>\r\n\r\n                                        <div class="row">\r\n                                            <div class="col-sm-6">&nbsp;</div>\r\n                                            <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#"  ng-click="$ctrl.jumpToFirst()" >\r\n                                                <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.pageNumber == 1 " ng-click="$ctrl.previous()" >\r\n                                                <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                            </li>\r\n                                                  &nbsp; &nbsp; &nbsp; Page  {{$ctrl.pageNumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                <i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>\r\n                                               \r\n                                            </li>\r\n                                            </ul>\r\n                                        </div>\r\n\r\n                                    </div>                                                                     \r\n                                    </div> \r\n\r\n                                    <div class="col-sm-4">&nbsp</div> \r\n    \r\n                                </div>\r\n                        </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n    \r\n    </section>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n){(0,i.default)(this,e),this.pageNumber=1,this.pageSize=10,this.masterArray=[],this.arrayToDisplay=[],this.searchArray=[],this.initialArray=[],this.state=r,this.showDealService=t,this.name="show_deal",this.baseUrl=c.CONFIG.BASE_URL,this.commonService=n,this.getAllDeals()}return(0,s.default)(e,[{key:"getAllDeals",value:function(){var e=this;$(".se-pre-con").show(),this.showDealService.getAllDeals(this.pageNumber,this.pageSize,this.customerId,this.isinNumber).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.initialArray=t.data.serviceResponse.dealList,e.arrayToDisplay=e.initialArray):"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"fetchDealRequest",value:function(){var e=this;$(".se-pre-con").show(),void 0!=this.customerId&&""!=this.customerId?this.customerId.length>=3?(this.isinNumber="",this.showDealService.getDealByCustomerId(this.customerId,this.pageNumber,this.pageSize,this.isinNumber).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.dealList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)})):$(".se-pre-con").hide():void 0!=this.isinNumber&&""!=this.isinNumber?this.isinNumber.length>=3?(this.customerId="",this.showDealService.getDealByCustomerId(this.customerId,this.pageNumber,this.pageSize,this.isinNumber).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pageNumber,e.pgSize=e.pageSize,e.searchArray=t.data.serviceResponse.dealList,e.arrayToDisplay=e.searchArray):"No Record found"==t.data.serviceError&&(e.disable=!0)})):$(".se-pre-con").hide():($(".se-pre-con").hide(),this.arrayToDisplay=this.initialArray)}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"showSearch",value:function(){this.isIsinSearch=!1,this.isCustomerSearch=!1,"isin"==this.dealSearch?this.isIsinSearch=!0:"customerId"==this.dealSearch&&(this.isCustomerSearch=!0)}},{key:"jumpToFirst",value:function(){this.pageNumber=1,this.getAllDeals()}},{key:"previous",value:function(){this.pageNumber--,this.getAllDeals()}},{key:"next",value:function(){this.pageNumber++,this.getAllDeals()}},{key:"editDeal",value:function(e,t){this.state.go("deal/editDeal",{deal:e})}}]),e}();d.$inject=["showDealService","$state","commonService"],exports.default=d},function(e,exports,t){var r=t(765);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".pannel_show{height:auto}.pannel_hide{height:0}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(719),i=n(a),o=t(416),s=n(o),l=t(434),c=n(l),d=t(454),u=r(d),p=function(){function e(t){"ngInject";(0,s.default)(this,e),this.name="showDealService",this.http=t}return e.$inject=["$http"],(0,c.default)(e,[{key:"getDealByCustomerId",value:function(e,t,r,n){console.log("undefined"==typeof n?"undefined":(0,i.default)(n)),console.log("page sise is - at service--"+r),console.log(u.CONFIG.BASE_URL+"/api/getRequestDetails");var a={method:"POST",url:u.CONFIG.BASE_URL+"/api/getRequestDetails",headers:{"content-type":"application/json"},params:{customerId:e,isinNumber:n,modelName:"Deal",pageNumber:t,pageSize:r}};return this.http(a)}},{key:"getAllDeals",value:function(e,t,r,n){void 0!=n&&null!=n||(n="",void 0!=r&&null!=r||(r="")),void 0!=r&&null!=r||(r="",void 0!=n&&null!=n||(n=""));var a={method:"GET",url:u.CONFIG.BASE_URL+"/api/viewAllDeal",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t,customerId:r,isinNumber:n}};return this.http(a)}}]),e}();exports.default=p},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(768),l=r(s),c=t(773),d=r(c);t(656);var u=a.default.module("reports",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("report/reports",{})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("reportComp",l.default).service("reportService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(769),a=r(n),i=t(770),o=r(i);t(771);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n\r\n        <h1>\r\n            Report Dashboard\r\n        </h1>\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="brDetails" enctype="multipart/form-data">\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule\'>\r\n\r\n                                <div class="form-group col-sm-3">\r\n                                    <label for="name">Customer Id:</label>\r\n                                    <input type="text" class="form-control input-group-lg reg_name" id="gCustomerId" maxlength="50" ng-pattern="/^[a-zA-Z0-9\\.]*$/"\r\n                                        ng-required="true" placeholder="Customer Id" ng-model="$ctrl.customerId">\r\n                                </div>\r\n\r\n                                <div class="col-sm-3" style="width: 40%; padding: 23px;">\r\n                                    <button type="button" class="btn btn-primary" ng-click="$ctrl.getDeal($ctrl.customerId)" ng-hide="$ctrl.isEdit">Submit</button>\r\n                                </div>\r\n\r\n\r\n\r\n                                <div class="col-sm-12">&nbsp;\r\n                                </div>\r\n\r\n\r\n\r\n\r\n                            </div>\r\n                    </form>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n</section>\r\n\r\n<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Sr No.</th>\r\n                                                <th>Customer Id </th>\r\n                                                <th>Deal Number</th>\r\n                                                <th>Deal Value</th>\r\n                                                <th>Start Date</th>\r\n                                                <th>Tenor In Days</th>\r\n                                                <th>Action</th>\r\n\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="deal in $ctrl.deals" ng-show="deal.status==\'Approved\'">\r\n\r\n                                            <td>{{$index+1}}</td>\r\n                                            <td>{{deal.customerId}}</td>\r\n                                            <td>{{deal.dealNumber}}</td>\r\n                                            <td>{{deal.cpIssue}}</td>\r\n                                            <td>{{deal.createdOn | date : "dd/MM/yyyy"}}</td>\r\n                                            <td>{{deal.tenor}}</td>\r\n                                            <td>\r\n                                                <button class="btn btn-primary" ng-disabled="$ctrl.downloadingXLS" data-toggle="tooltip" title="Download" ng-click="$ctrl.downloadReport(deal.dealNumber)">\r\n                                                    <i class="fa fa-download" ng-hide="$ctrl.downloadingXLS" aria-hidden="true"></i>\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                        </tr>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n\r\n\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a,i=t(416),o=n(i),s=t(434),l=n(s),c=t(454),d=r(c),u=function(){function e(t){(0,o.default)(this,e),this.deals={},this.baseUrl=d.CONFIG.BASE_URL,this.reportService=t,this.name="report",a=this}return(0,l.default)(e,[{key:"inputChanged",value:function(e){e&&(a.data=e.originalObject,this.deals=a.data,this.customerId=this.deals.customerId,this.dealNumber=this.deals.dealNumber)}},{key:"getDeal",value:function(e){var t=this;null!=e?this.reportService.getDeal(e).then(function(e){"SUCCESS"==e.data.serviceStatus?t.deals=e.data.serviceResponse:"FAIL"==e.data.serviceStatus?alert("No Deal Matching with this "+t.customerId+" customer Id!"):alert("Something went wrong...!")}):alert("Please Enter Customer Id...!")}},{key:"downloadReport",value:function(e){var t=this;null!=e?this.reportService.writeReport(e).then(function(e){if("200"==e.status&&e.data.size>0){var r=[];r.push(e.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([e.data],{type:"application/msword"}));n.href=a,n.download="report.xlsx",n.click(),window.URL.revokeObjectURL(a)}else alert("Something went wrong - OR - You Enter Wrong Deal Number...Please Check... Can't Download Report...!"),t.downloadingXLS=!1}):alert("Please Enter Deal Number...!")}}]),e}();u.$inject=["reportService"],exports.default=u},function(e,exports,t){var r=t(772);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".pannel_show{height:auto}.pannel_hide{height:0}.double-input .form-control{width:50%;border-right-width:0}.double-input .form-control:focus{border-right-width:1px}.triple-input .form-control{width:33.3%;border-right-width:0}.triple-input .form-control:focus{border-right-width:1px}.style{background:#f6f6f6;border-color:gray;border-radius:2px;list-style:none;width:108px;overflow-y:auto;max-height:150px;color:#000}.angucomplete-holder{position:relative}.ui-autocomplete{background:#f6f6f6;border-color:gray;border-radius:2px;list-style:none;width:100%;overflow-y:auto;max-height:150px;color:#000}.angucomplete-dropdown{border:1px solid #ececec;border-radius:2px;width:250px;padding:6px;cursor:pointer;z-index:9999;position:absolute;margin-top:-6px;background-color:#fff}.angucomplete-searching{color:#acacac;font-size:14px}.angucomplete-description{font-size:14px}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="reportService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getDeal",value:function(e){var t=new FormData;return t.append("customerId",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getDealByCustomerId",headers:{"content-type":void 0},data:t})}},{key:"writeReport",value:function(e){$(".se-pre-con").show();var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/writeExcel",headers:{"content-type":"application/json"},data:e,responseType:"blob"};return $(".se-pre-con").hide(),this.http(t)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(775),l=r(s),c=t(780),d=r(c),u=t(783),p=r(u),m=t(786),f=r(m),g=t(787),h=r(g),v=t(788),b=r(v);t(656);var y=a.default.module("request",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("requests/request",{url:"/requests/requests",component:"requestComp"}).state("requests/manageacc",{url:"/manageacc",component:"manageAccComponent"}).state("requests/feesmanagement",{url:"/feesmanagement",component:"feesCalculationManagementComponent"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("requestComp",l.default).component("manageAccComponent",d.default).component("feesCalculationManagementComponent",p.default).service("manageAccService",h.default).service("requestService",f.default).service("feesCalculationManagementService",b.default).name;exports.default=y},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(776),a=r(n),i=t(777),o=r(i);t(778);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n        <!-- small box -->\r\n        <h1>\r\n            <!-- Request Dashboard -->\r\n        </h1>\r\n\r\n        <div class="row">\r\n            <h3 class=" col-sm-8 box-title">Request Dashboard</h3>\r\n\r\n            <div class="form-group col-sm-4">\r\n                <!-- <label for="name">Search  Request in :\r\n                        <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching" style="display:inline; font-size:15px"></i>\r\n                        </label> -->\r\n                <input type="text" ng-model="$ctrl.requestType" placeholder="Search Request" class="form-control" id="description">\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n\r\n\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Sr No.</th>\r\n                                                <th>Request Id</th>\r\n                                                <th>Maker Id</th>\r\n                                                <th>Status</th>\r\n                                                <th>Request For</th>\r\n                                                <th>Request Type</th>\r\n                                                <th>Request Date</th>\r\n                                                <th>Customer Name</th>\r\n                                                <th>Action</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="request in $ctrl.arrayToDisplay | filter:$ctrl.requestType">\r\n                                            <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td>\r\n                                            <td>{{request.requestId}}</td>\r\n                                            <td>{{request.createdBy}}</td>\r\n                                            <td>{{request.status}}</td>\r\n                                            <td>{{request.requestFor}}</td>\r\n                                            <td>{{request.requestType}}</td>\r\n                                            <td>{{request.createdOn | date : "dd/MM/yyyy"}}</td>\r\n                                            <td>{{request.customerName}}</td>\r\n                                            <td>\r\n                                                <button class="btn btn-primary" data-toggle="tooltip" title="View" ng-click="$ctrl.viewRequest(request)">\r\n                                                    <i class="fa fa-align-justify"></i>\r\n                                                </button>\r\n                                                <button class="btn btn-primary" data-toggle="tooltip" title="Approve" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.approveRequest(request)">\r\n                                                    <i class="glyphicon glyphicon-ok"></i>\r\n                                                </button>\r\n                                                <button class="btn btn-info" data-toggle="tooltip" title="Callback" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.callBackRequest(request)">\r\n                                                   <!-- <i class="fa fa-undo" style="font-size:20px;color: red"></i> -->\r\n                                                   <i style="font-size:20px" class="fa">&#xf0e2;</i>\r\n                                                </button>\r\n                                                <button class="btn btn-danger" data-toggle="tooltip" title="Reject" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.rejectRequest(request)">\r\n                                                    <i class="\tglyphicon glyphicon-remove"></i>\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                    </table>\r\n\r\n                                    <!-- <button type="button" ng-click="$ctrl.jumpToFirst()"  class="btn btn-primary">Go 1 page</button>\r\n                                                 <button type="button" ng-click="$ctrl.previous()" class="btn btn-primary" ng-disabled="$ctrl.pagenumber == 1 ">Previous</button>\r\n                                                 <button type="button" ng-click="$ctrl.next()" ng-disabled="$ctrl.arrayToDisplay.length==0" class="btn btn-primary">Next</button> -->\r\n\r\n                                    <!-- <div class="row">\r\n                                                    <div class="col-sm-6">&nbsp;</div>\r\n                                                    <ul class="pager col-sm-6">\r\n                                                    <li>\r\n                                                    <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage == 0" ng-click="$ctrl.currentPage=$ctrl.currentPage-1" >\r\n                                                        <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                                    </li>\r\n                                                          &nbsp; &nbsp; &nbsp; Page  {{$ctrl.currentPage+1}} of {{$ctrl.numberOfPages()}} &nbsp; &nbsp; &nbsp;\r\n                                                    <li>\r\n                                                    <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage >= $ctrl.requestData.length/$ctrl.pageSize - 1" ng-click="$ctrl.currentPage=$ctrl.currentPage+1">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                    </button>\r\n                                                    </li>\r\n                                                </ul>\r\n                                             </div> -->\r\n\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-click="$ctrl.jumpToFirst()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                            </li>\r\n                                            &nbsp; &nbsp; &nbsp; Page {{$ctrl.pagenumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                </button>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n,a,o,s,l){"ngInject";(0,i.default)(this,e),this.pagenumber=1,this.pageSize=10,this.masterArray=[],this.benposService=s,this.buyBackService=a,this.investorService=o,this.qrService=l,this.baseUrl=c.CONFIG.BASE_URL,this.state=r,this.requestService=t,this.name="request",this.commonService=n,this.role=this.commonService.rolename,this.userName=this.commonService.username,this.IdList=this.commonService.IdList,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList)),this.getAllRequest()}return e.$inject=["requestService","$state","commonService","buyBackService","investorService","benposService","quarterlyReportService"],(0,s.default)(e,[{key:"getAllRequest",value:function(){var e=this;$(".se-pre-con").show(),this.requestService.getAllRequest(this.pagenumber,this.pageSize).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pagenumber,e.pgSize=e.pageSize,e.arrayToDisplay=t.data.serviceResponse.Request):"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pagenumber=1,this.getAllRequest()}},{key:"previous",value:function(){this.pagenumber--,this.getAllRequest()}},{key:"next",value:function(){this.pagenumber++,this.getAllRequest()}},{key:"viewRequest",value:function(e,t){var r=this;"Customer_Registration"==e.requestType?this.requestService.getCutomer(e.identity).then(function(e){r.customer=e.data.serviceResponse,r.state.go("customers/edit",{customer:r.customer})}):"Br_Registration"==e.requestType?this.requestService.getBR(e.identity).then(function(e){r.br=e.data.serviceResponse,r.state.go("boardResolution/edit",{br:r.br})}):"Cp_Registration"==e.requestType?this.requestService.getCP(e.identity).then(function(e){r.cplist=e.data.serviceResponse,r.state.go("cpReg/editCP",{cplist:r.cplist})}):"Tranche_Registration"==e.requestType?this.requestService.getTranche(e.identity).then(function(e){r.tranch=e.data.serviceResponse,r.state.go("security/editTranch",{tranch:r.tranch})}):"Deal_Registration"==e.requestType?this.requestService.getDeal(e.identity).then(function(e){r.deal=e.data.serviceResponse,r.state.go("deal/editDeal",{deal:r.deal})}):"Update_Customer"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.customer=t,r.state.go("customers/edit",{customer:r.customer})}):"Update_Br"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.br=t,r.state.go("boardResolution/edit",{br:r.br})}):"Update_CP"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.cplist=t,r.state.go("cpReg/editCP",{cplist:r.cplist})}):"Update_Tranche"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.tranch=t,r.requestService.getTranche(r.tranch.id).then(function(e){r.tranch.cp=e.data.serviceResponse.cp,r.state.go("security/editTranch",{tranch:r.tranch})})}):"Update_Deal"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.deal=t,r.requestService.getDeal(r.deal.id).then(function(e){r.deal.tranche=e.data.serviceResponse.tranche,r.state.go("deal/editDeal",{deal:r.deal})})}):"UPDATE_INVESTOR"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.state.go("investor.edit",{edit:!0,view:!0,investor:t,chk:!0})}):"REGISTER_INVESTOR"==e.requestType?this.investorService.getById(e.identity).then(function(e){r.state.go("investor.edit",{edit:!0,view:!0,investor:e.data,chk:!0})}):"UPDATE_BUYBACK"==e.requestType?this.requestService.updateRequestData(e.identity).then(function(e){var t=JSON.parse(e.data.serviceResponse.updatedData);r.state.go("buyback.edit",{edit:!0,view:!0,buyback:t,chk:!0})}):"REGISTER_BUYBACK"==e.requestType?this.buyBackService.getById(e.identity).then(function(e){r.state.go("buyback.edit",{edit:!0,view:!0,buyback:e.data,chk:!0})}):"REGISTER_BENOPS"==e.requestType?this.benposService.downloadDoc(e.identity).then(function(e){var t=e.headers("Content-Disposition").split(";").pop().split("filename=",2).pop();r.buildAndPushFile(e.data,t+".txt")}):"ADD_QR"==e.requestType&&this.qrService.download(e.identity).then(function(e){var t=e.headers("Content-Disposition").split(";").pop().split("filename=",2).pop();r.buildAndPushFile(e.data,t)})}},{key:"buildAndPushFile",value:function(e,t){var r=new Blob([e],{}),n=(window.URL||window.webkitURL).createObjectURL(r),a=angular.element("<a/>");a.attr({href:n,download:t})[0].click()}},{key:"approveRequest",value:function(e){var t=prompt("Enter comment for Approve Request");if(null!=t){var r="Approved";e.checkerId=this.myStorage.getItem("userName"),e.status=r,e.comments=t,this.requestService.approveRequest(e).then(function(t){$(".se-pre-con").hide(),"SUCCESS"==t.data.serviceStatus&&alert("Request Approved for "+e.requestId)})}}},{key:"callBackRequest",value:function(e){var t=prompt("Enter comment for Callback Request");if(null!=t){if(""==t)return void alert("comment is required for CallBack Request...!");if(null!=t){if(""==t)return void alert("comment is required for CallBack Request...!");var r="CallBack";e.checkerId=this.myStorage.getItem("userName"),e.status=r,e.comments=t,this.requestService.approveRequest(e).then(function(t){$(".se-pre-con").hide(),"SUCCESS"==t.data.serviceStatus&&(alert("Request callback for "+e.requestId),$(".se-pre-con").hide())})}}}},{key:"rejectRequest",value:function(e){var t=prompt("Enter comment for Reject Request");if(null!=t){if(""==t)return void alert("comment is required for Reject Request...!");var r="Rejected";e.checkerId=this.myStorage.getItem("userName"),e.status=r,e.comments=t,this.requestService.approveRequest(e).then(function(t){$(".se-pre-con").hide(),"SUCCESS"==t.data.serviceStatus&&alert("Request rejected for "+e.requestId)})}}}]),e}();exports.default=d},function(e,exports,t){var r=t(779);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(781),a=r(n),i=t(782),o=r(i),s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n        <!-- small box -->\r\n        <h1>\r\n            <!-- Request Dashboard -->\r\n        </h1>\r\n\r\n        <div class="row">\r\n            <h3 class=" col-sm-8 box-title">Manage Transactions</h3>\r\n\r\n            <div class="form-group col-sm-4">\r\n                <!-- <label for="name">Search  Request in :\r\n                        <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching" style="display:inline; font-size:15px"></i>\r\n                        </label> -->\r\n                <input type="text" ng-model="$ctrl.requestType" placeholder="Search Transaction" class="form-control" id="description">\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n\r\n\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Id</th>\r\n                                                <th>Date of Transaction</th>\r\n                                                <th>Cutomer Id</th>\r\n                                                <th>ISIN</th>\r\n                                                <th>Desig. A/c Ifsc Code (Debit A/c)</th>\r\n                                                <th>Desig. A/c No (Debit A/c)</th>\r\n                                                <!-- <th>Axis Ifsc Code</th> -->\r\n                                                <th>Credit A/c Bank Ifsc Code</th>\r\n                                                <th>Credit A/c Beneficiary Name</th>\r\n                                                <!-- <th>Axis A/c No</th> -->\r\n                                                <th>Credit Bank A/c No</th>\r\n                                                <!-- <th>Other Bank Ifsc Code</th>\r\n                                                <th>Bank Name</th>\r\n                                                <th>Other Bank A/c No</th> -->\r\n                                                <th>Available Balance</th>\r\n                                                <th>Trans. Amount</th>                                               \r\n                                                <th>Trans. Option Selected</th>\r\n                                                <th>Scheme Code</th>\r\n                                                <th>Status</th>\r\n                                                <th>Remark</th>\r\n                                                <!-- <th>Reference Id</th> -->\r\n                                                <th>Action</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="request in $ctrl.arrayToDisplay | filter:$ctrl.requestType">\r\n                                            <!-- <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td> -->\r\n                                            <td>{{request.id}}</td>\r\n                                            <td>{{request.createdOn | date : \'dd-MM-yyyy\'}}</td>\r\n                                            <td>{{request.customerId}}</td>\r\n                                            <td>{{request.isin}}</td>\r\n                                            <td>{{request.designatedAccIfsc}}</td>\r\n                                            <td>{{request.designatedAccountNumber}}</td>\r\n                                            <!-- <td>{{request.axisIfscCode}}</td> -->\r\n                                            <td>{{request.creditAccIfscCode}}</td>\r\n                                            <td>{{request.customerName}}</td> <!-- Beneficiary Name-->\r\n                                            <!-- <td>{{request.axisAccountNumber}}</td> -->\r\n                                            <td>{{request.creditAccNo}}</td>\r\n                                            <!-- <td>{{request.otherBankIfscCode}}</td>\r\n                                            <td>{{request.bankName}}</td>\r\n                                            <td>{{request.otherBankAccount}}</td> -->\r\n                                            <td>{{request.availableBalance}}</td>\r\n                                            <td>{{request.amount}}</td>        \r\n                                            <td>{{request.bankSelected}}</td>\r\n                                            <td>{{request.schemeCode}}</td>\r\n                                            <td>{{request.status}}</td>\r\n                                            <td>{{request.remark}}</td>\r\n                                            <!-- <td>{{request.requestId}}</td> -->\r\n                                            <td>\r\n                                                <!-- <button class="btn btn-primary" data-toggle="tooltip" title="View" ng-click="$ctrl.viewRequest(request)">\r\n                                                    <i class="fa fa-align-justify"></i>\r\n                                                </button> -->\r\n                                                <button class="btn btn-sm btn-primary" data-toggle="tooltip" title="Approve" \r\n                                                    ng-click="$ctrl.approveRequest(request)" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'">\r\n                                                    <i class="glyphicon glyphicon-ok"></i>\r\n                                                </button>\r\n                                                <!-- <button class="btn btn-info" data-toggle="tooltip" title="Callback" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.callBackRequest(request)">\r\n                                                   <!-- <i class="fa fa-undo" style="font-size:20px;color: red"></i> -->\r\n                                                   <!-- <i style="font-size:20px" class="fa">&#xf0e2;</i> -->\r\n                                                <!-- </button> --> \r\n                                                <button class="btn btn-sm btn-danger" data-toggle="tooltip" title="Reject" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.rejectRequest(request)" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'">\r\n                                                    <i class="glyphicon glyphicon-remove"></i>\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                    </table>\r\n\r\n                                    <!-- <button type="button" ng-click="$ctrl.jumpToFirst()"  class="btn btn-primary">Go 1 page</button>\r\n                                                 <button type="button" ng-click="$ctrl.previous()" class="btn btn-primary" ng-disabled="$ctrl.pagenumber == 1 ">Previous</button>\r\n                                                 <button type="button" ng-click="$ctrl.next()" ng-disabled="$ctrl.arrayToDisplay.length==0" class="btn btn-primary">Next</button> -->\r\n\r\n                                    <!-- <div class="row">\r\n                                                    <div class="col-sm-6">&nbsp;</div>\r\n                                                    <ul class="pager col-sm-6">\r\n                                                    <li>\r\n                                                    <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage == 0" ng-click="$ctrl.currentPage=$ctrl.currentPage-1" >\r\n                                                        <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                                    </li>\r\n                                                          &nbsp; &nbsp; &nbsp; Page  {{$ctrl.currentPage+1}} of {{$ctrl.numberOfPages()}} &nbsp; &nbsp; &nbsp;\r\n                                                    <li>\r\n                                                    <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage >= $ctrl.requestData.length/$ctrl.pageSize - 1" ng-click="$ctrl.currentPage=$ctrl.currentPage+1">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                    </button>\r\n                                                    </li>\r\n                                                </ul>\r\n                                             </div> -->\r\n\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-click="$ctrl.jumpToFirst()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                            </li>\r\n                                            &nbsp; &nbsp; &nbsp; Page {{$ctrl.pagenumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                </button>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=t(489),u=(n(d),function(){function e(t,r,n){"ngInject";(0,i.default)(this,e),this.pagenumber=1,this.pageSize=10,this.masterArray=[],this.baseUrl=c.CONFIG.BASE_URL,this.state=r,this.manageAccService=t,this.commonService=n,this.role=this.commonService.rolename,this.userName=this.commonService.username,this.IdList=this.commonService.IdList,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList)),this.getAllPendingRequest()}return e.$inject=["manageAccService","$state","commonService"],(0,s.default)(e,[{key:"getAllRequest",value:function(){var e=this;$(".se-pre-con").show(),this.manageAccService.getAllRequest(this.pagenumber,this.pageSize).then(function(t){$(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pagenumber,e.pgSize=e.pageSize,e.arrayToDisplay=t.data.serviceResponse,e.arrayToDisplay=data):"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"getAllPendingRequest",value:function(){var e=this;$(".se-pre-con").show(),this.manageAccService.getAllPendingRequest(this.pagenumber,this.pageSize).then(function(t){if($(".se-pre-con").hide(),e.disable=!1,"SUCCESS"==t.data.serviceStatus){e.pgNo=e.pagenumber,e.pgSize=e.pageSize;for(var r,n,a=t.data.serviceResponse,i=0;i<a.length;i++){var o=a[i].bankSelected;if("axis"==o){var s=a[i].axisAccountNumber,l=a[i].axisIfscCode;""==s&&null==s&&""==l&&null==l||(r=s,n=l,a[i].creditAccNo=r,a[i].creditAccIfscCode=n)}else r=a[i].otherBankAccount,n=a[i].otherBankIfscCode,a[i].creditAccNo=r,a[i].creditAccIfscCode=n}e.arrayToDisplay=a}else"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"approveRequest",value:function(e){var t=this;$(".se-pre-con").show(),this.manageAccService.approveRequest(e).then(function(e){$(".se-pre-con").hide();var r=void 0;r="SUCCESS"==e.data.serviceStatus?{type:"info",msg:"Request successful."}:{type:"warn",msg:e.data.serviceError},t.commonService.displayMsg(r),t.getAllPendingRequest()})}},{key:"rejectRequest",value:function(e){var t=this,r=prompt("Enter comment for Reject Request");if(null!=r){if(""==r)return void alert("Comment is required for Reject Request...!");e.comments=r,this.manageAccService.rejectRequest(e).then(function(r){$(".se-pre-con").hide(),"SUCCESS"==r.data.serviceStatus?alert("Request rejected for "+e.id):alert("Error :"+r.data.serviceError),t.getAllPendingRequest()})}}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pagenumber=1,this.getAllPendingRequest()}},{key:"previous",value:function(){this.pagenumber--,this.getAllPendingRequest()}},{key:"next",value:function(){this.pagenumber++,this.getAllPendingRequest()}}]),e}());exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(784),a=r(n),i=t(785),o=r(i),s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n        <!-- small box -->\r\n        <h1>\r\n            <!-- Request Dashboard -->\r\n        </h1>\r\n\r\n        <div class="row">\r\n            <h3 class=" col-sm-8 box-title">Manage Transactions</h3>\r\n\r\n            <div class="form-group col-sm-4">\r\n                <!-- <label for="name">Search  Request in :\r\n                        <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching" style="display:inline; font-size:15px"></i>\r\n                        </label> -->\r\n                <input type="text" ng-model="$ctrl.requestType" placeholder="Search Transaction" class="form-control" id="description">\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n\r\n\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Id</th>\r\n                                                <th>Cutomer Id</th>\r\n                                                <th>Desig. A/c Ifsc Code</th>\r\n                                                <th>Desig. A/c No</th>\r\n                                                <th>Trache Id</th>\r\n                                                <th>Available Balance</th>\r\n                                                <th>Ipa frequency</th>\r\n                                                <th>Ipa fees</th>\r\n                                                <th>TDS</th>\r\n                                                <th>Total Fees</th>\r\n                                                <th>Created On</th>                                               \r\n                                                <th>Status</th>\r\n                                                <th>Action</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="request in $ctrl.arrayToDisplay | filter:$ctrl.requestType">\r\n                                            <!-- <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td> -->\r\n                                            <td>{{request.id}}</td>\r\n                                            <td>{{request.customerId}}</td>\r\n                                            <td>{{request.designatedAccIfsc}}</td>\r\n                                            <td>{{request.designatedAccountNumber}}</td>\r\n                                            <td>{{request.trancheId}}</td>\r\n                                            <td>{{request.availableBalance}}</td>\r\n                                            <td>{{request.ipaFrequency}}</td>        \r\n                                            <td>{{request.ipaFees}}</td>\r\n                                            <td>{{request.tds}}</td>\r\n                                            <td>{{request.totalFees}}</td>\r\n                                            <td>{{request.createdOn  | date : "dd/MM/yyyy" }}  </td>\r\n                                            <td>{{request.status}}</td>\r\n                                            <td>\r\n                                                <!-- <button class="btn btn-primary" data-toggle="tooltip" title="View" ng-click="$ctrl.viewRequest(request)">\r\n                                                    <i class="fa fa-align-justify"></i>\r\n                                                </button> -->\r\n                                                <button class="btn btn-sm btn-primary" data-toggle="tooltip" title="Approve" \r\n                                                    ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.approveRequest(request)">\r\n                                                    <i class="glyphicon glyphicon-ok"></i>\r\n                                                </button>\r\n                                                <!-- <button class="btn btn-info" data-toggle="tooltip" title="Callback" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.callBackRequest(request)">\r\n                                                   <!-- <i class="fa fa-undo" style="font-size:20px;color: red"></i> -->\r\n                                                   <!-- <i style="font-size:20px" class="fa">&#xf0e2;</i> -->\r\n                                                <!-- </button> --> \r\n                                                <button class="btn btn-sm btn-danger" data-toggle="tooltip" title="Reject" \r\n                                                    ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                    ng-click="$ctrl.rejectRequest(request)">\r\n                                                    <i class="glyphicon glyphicon-remove"></i>\r\n                                                </button>\r\n                                            </td>\r\n\r\n                                    </table>\r\n\r\n                                    <!-- <button type="button" ng-click="$ctrl.jumpToFirst()"  class="btn btn-primary">Go 1 page</button>\r\n                                                 <button type="button" ng-click="$ctrl.previous()" class="btn btn-primary" ng-disabled="$ctrl.pagenumber == 1 ">Previous</button>\r\n                                                 <button type="button" ng-click="$ctrl.next()" ng-disabled="$ctrl.arrayToDisplay.length==0" class="btn btn-primary">Next</button> -->\r\n\r\n                                    <!-- <div class="row">\r\n                                                    <div class="col-sm-6">&nbsp;</div>\r\n                                                    <ul class="pager col-sm-6">\r\n                                                    <li>\r\n                                                    <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage == 0" ng-click="$ctrl.currentPage=$ctrl.currentPage-1" >\r\n                                                        <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                                    </li>\r\n                                                          &nbsp; &nbsp; &nbsp; Page  {{$ctrl.currentPage+1}} of {{$ctrl.numberOfPages()}} &nbsp; &nbsp; &nbsp;\r\n                                                    <li>\r\n                                                    <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage >= $ctrl.requestData.length/$ctrl.pageSize - 1" ng-click="$ctrl.currentPage=$ctrl.currentPage+1">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                    </button>\r\n                                                    </li>\r\n                                                </ul>\r\n                                             </div> -->\r\n\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-click="$ctrl.jumpToFirst()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                            </li>\r\n                                            &nbsp; &nbsp; &nbsp; Page {{$ctrl.pagenumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                </button>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n){"ngInject";(0,i.default)(this,e),this.pagenumber=1,this.pageSize=10,this.masterArray=[],this.baseUrl=c.CONFIG.BASE_URL,this.state=r,this.feesCalculationManagementService=t,this.commonService=n,this.role=this.commonService.rolename,this.userName=this.commonService.username,this.IdList=this.commonService.IdList,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList)),this.getAllRequest()}return e.$inject=["feesCalculationManagementService","$state","commonService"],(0,s.default)(e,[{key:"getAllRequest",value:function(){var e=this;this.feesCalculationManagementService.getAllRequest(this.pagenumber,this.pageSize).then(function(t){e.disable=!1,console.log("Data found: "+t.data.serviceResponse),null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus?(e.pgNo=e.pagenumber,e.pgSize=e.pageSize,e.arrayToDisplay=t.data.serviceResponse):"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"approveRequest",value:function(e){var t=this;$(".se-pre-con").show(),this.feesCalculationManagementService.approveRequest(e).then(function(e){$(".se-pre-con").hide(),"SUCCESS"==e.data.serviceStatus?alert(e.data.serviceResponse):alert("Error: "+e.data.serviceError),t.getAllRequest()})}},{key:"rejectRequest",value:function(e){var t=this,r=prompt("Enter comment for Reject Request");if(null!=r){if(""==r)return void alert("Comment is required for Reject Request...!");e.comments=r,this.feesCalculationManagementService.rejectRequest(e).then(function(r){$(".se-pre-con").hide(),"SUCCESS"==r.data.serviceStatus?alert("Request rejected for "+e.id):alert("Error :"+r.data.serviceError),t.getAllRequest()})}}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pagenumber=1,this.getAllRequest()}},{key:"previous",value:function(){this.pagenumber--,this.getAllRequest()}},{key:"next",value:function(){this.pagenumber++,this.getAllRequest()}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="requestService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllRequest",value:function(e,t){var r={method:"GET",url:c.CONFIG.BASE_URL+"/api/viewRequest",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t}};return this.http(r)}},{key:"getCutomer",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getCutomer",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getBR",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/byId",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getCP",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/cpById",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getTranche",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getTrancheById",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"getDeal",value:function(e){var t=new FormData;return t.append("id",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/getDealbyId",processData:!1,headers:{"content-type":void 0},data:t})}},{key:"approveRequest",value:function(e){var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/checker",headers:{"content-type":"application/json"},data:e};return $(".se-pre-con").show(),this.http(t)}},{key:"updateRequestData",value:function(e){var t=new FormData;return t.append("identity",e),this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/requestFor",processData:!1,headers:{"content-type":void 0},data:t})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="manageAccService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllRequest",value:function(e,t){var r={method:"GET",url:c.CONFIG.BASE_URL+"/api/account_master/getAllTransactions",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t}};return this.http(r)}},{key:"getAllPendingRequest",value:function(e,t){var r={method:"GET",url:c.CONFIG.BASE_URL+"/api/account_master/getAllPendingTransactions",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t}};return this.http(r)}},{key:"approveRequest",value:function(e){var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/account_master/approveTransaction",headers:{"content-type":"application/json"},data:e};return this.http(t)}},{key:"rejectRequest",value:function(e){var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/account_master/rejectTransaction",headers:{"content-type":"application/json"},data:e};return $(".se-pre-con").show(),this.http(t)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="manageAccService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"getAllRequest",value:function(e,t){console.log("Inside ManageAccService Get All Requests");var r={method:"GET",url:c.CONFIG.BASE_URL+"/api/feescalculation/getAllTransactions",headers:{"content-type":"application/json"},params:{pageNumber:e,pageSize:t}};return this.http(r)}},{key:"approveRequest",value:function(e){var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/feescalculation/approveTransaction",headers:{"content-type":"application/json"},data:e};return $(".se-pre-con").show(),this.http(t)}},{key:"rejectRequest",value:function(e){var t={method:"POST",url:c.CONFIG.BASE_URL+"/api/feescalculation/rejectTransaction",headers:{"content-type":"application/json"},data:e};return $(".se-pre-con").show(),this.http(t)}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(790),l=r(s),c=t(793),d=r(c);t(656);var u=a.default.module("reportDownload",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("/report/reportDownload",{url:"/report/reportDownload",component:"reportDownloadComp"})}]).directive("toggle",function(){return{restrict:"A",link:function(e,t,r){"tooltip"==r.toggle&&$(t).tooltip(),"popover"==r.toggle&&$(t).popover()}}}).component("reportDownloadComp",l.default).service("reportDownloadService",d.default).name;exports.default=u},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(791),a=r(n),i=t(792),o=r(i),s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    <div class="col-lg-12 col-xs-20">\r\n        <h1> Report Downloading</h1>\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form ng-model="$ctrl.formData" role="form" name="form" enctype="multipart/form-data">\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule,\'>\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-body">\r\n                                                <div class="form-group col-sm-6">\r\n                                                    <label for="name">Report Code:</label>\r\n                                                    <select class="form-control" ng-model="$ctrl.form.ipaReportCode">\r\n                                                        <option value="">Select</option>\r\n                                                        <option value="FTRAC">FTRAC</option>\r\n                                                        <option value="CIBILCP">CIBILCP</option>\r\n                                                        <option value="EXCELOURFORMAT">EXCELOURFORMAT</option>\r\n                                                        <option value="DPINSTRUCTION">DPINSTRUCTION</option>\r\n                                                    </select>\r\n                                                </div>\r\n\r\n                                                <div class="form-group col-sm-6">\r\n                                                    <label for="name">Start Date:\r\n                                                        <span style="color: red">*</span>\r\n                                                    </label>\r\n                                                    <div class="input-group">\r\n                                                        <div class="input-group-addon">\r\n                                                            <i class="fa fa-calendar"></i>\r\n                                                        </div>\r\n                                                        <input id="dtpFilter1" type="text" placeholder="dd/mm/yyyy"\r\n                                                            class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                            ng-model="$ctrl.form.ipaStartDate" autocomplete="off">\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class="form-group col-sm-6">\r\n                                                    <label for="name">End Date:\r\n                                                        <span style="color: red">*</span>\r\n                                                    </label>\r\n                                                    <div class="input-group">\r\n                                                        <div class="input-group-addon">\r\n                                                            <i class="fa fa-calendar"></i>\r\n                                                        </div>\r\n                                                        <input id="dtpFilter2" type="text" class="form-control"\r\n                                                            placeholder="dd/mm/yyyy" data-date-format="dd/mm/yyyy"\r\n                                                            ng-model="$ctrl.form.ipaEndDate" autocomplete="off">\r\n                                                    </div>\r\n                                                </div>\r\n\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-sm-3">\r\n                                <button type="submit" class="btn btn-primary" ng-click="$ctrl.downloadReport()"\r\n                                    ng-disabled="!$ctrl.form.ipaReportCode || !$ctrl.form.ipaStartDate && (!$ctrl.form.ipaStartDate || !$ctrl.form.ipaEndDate)">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n                    <!-- Invoice Form-->\r\n\r\n                    <form ng-model="$ctrl.formData" role="form" name="form" enctype="multipart/form-data"\r\n                        ng-init="$ctrl.loadInvoiceForm()">\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule,\'>\r\n                                <div class="panel-element">\r\n                                    <div class="panel-group" id="accordion">\r\n                                        <div class="panel panel-default">\r\n                                            <div class="panel-heading">\r\n                                                <h3 class="panel-title">\r\n                                                    <b> Invoice Reports </b>\r\n                                                </h3>\r\n                                            </div>\r\n                                            <div class="panel-body">\r\n                                                <div class="form-group col-sm-6">\r\n                                                    <label for="name">Report Code:</label>\r\n                                                    <select class="form-control" ng-model="$ctrl.form.ipaReportCode"\r\n                                                        ng-change="$ctrl.checkReportType()">\r\n                                                        <option value="">Select</option>\r\n                                                        <option value="YEARLY">YEARLY</option>\r\n                                                        <option value="DEALWISE">DEALWISE</option>\r\n                                                    </select>\r\n                                                </div>\r\n\r\n                                                <div class="form-group col-sm-6" ng-show="$ctrl.showCustomerId">\r\n                                                    <label for="name">Customer Id:\r\n                                                        <span style="color: red">*</span>\r\n                                                    </label>\r\n                                                    <input type="text" class="form-control input-group-lg reg_name"\r\n                                                        id="gCustomerId" placeholder="Customer Id"\r\n                                                        ng-pattern="/^[a-zA-Z0-9\\.]*$/" ng-model="$ctrl.form.customerId"\r\n                                                        autocomplete="off">\r\n                                                </div>\r\n\r\n                                                <div class="form-group col-sm-6" ng-show="$ctrl.showFYDrpDwn">\r\n                                                    <label for="name">Select FY:\r\n                                                        <span style="color: red">*</span>\r\n                                                    </label>\r\n                                                    <select class="form-control" ng-model="$ctrl.fyYear"\r\n                                                        ng-change="$ctrl.checkReportType()">\r\n                                                        <option value="">Select</option>\r\n                                                        <option value="2014-15">14-15</option>\r\n                                                        <option value="2015-16">15-16</option>\r\n                                                        <option value="2016-17">16-17</option>\r\n                                                        <option value="2017-18">17-18</option>\r\n                                                        <option value="2018-19">18-19</option>\r\n                                                        <option value="2019-20">19-20</option>\r\n                                                        <option value="2020-21">20-21</option>\r\n                                                        <option value="2021-22">21-22</option>\r\n                                                        <option value="2022-23">22-23</option>\r\n                                                        <option value="2023-24">23-24</option>\r\n                                                        <option value="2024-25">24-25</option>\r\n                                                    </select>\r\n                                                </div>\r\n\r\n\r\n                                                <div class="form-group col-sm-6" ng-show="$ctrl.showCalenderOption">\r\n                                                    <label for="name">Start Date:\r\n                                                        <span style="color: red">*</span>\r\n                                                    </label>\r\n                                                    <div class="input-group">\r\n                                                        <div class="input-group-addon">\r\n                                                            <i class="fa fa-calendar"></i>\r\n                                                        </div>\r\n                                                        <input id="dtpFilter5" type="text" placeholder="dd/mm/yyyy"\r\n                                                            class="form-control" data-date-format="dd/mm/yyyy"\r\n                                                            ng-model="$ctrl.form.startDate" autocomplete="off">\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class="form-group col-sm-6" ng-show="$ctrl.showCalenderOption">\r\n                                                    <label for="name">End Date:\r\n                                                        <span style="color: red">*</span>\r\n                                                    </label>\r\n                                                    <div class="input-group">\r\n                                                        <div class="input-group-addon">\r\n                                                            <i class="fa fa-calendar"></i>\r\n                                                        </div>\r\n                                                        <input id="dtpFilter6" type="text" class="form-control"\r\n                                                            placeholder="dd/mm/yyyy" data-date-format="dd/mm/yyyy"\r\n                                                            ng-model="$ctrl.form.endDate" autocomplete="off">\r\n                                                    </div>\r\n                                                </div>\r\n\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-sm-3">\r\n                                <button type="submit" class="btn btn-primary" ng-click="$ctrl.downloadInvoiceReport()"\r\n                                    ng-disabled="!$ctrl.form.ipaReportCode|| !$ctrl.form.customerId">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n\r\n\r\n                    <div class="box box-primary" id="boxx">\r\n                        <form ng-model="$ctrl.formData" role="form" name="form" enctype="multipart/form-data">\r\n                            <div class="box-body">\r\n                                <div ng-app=\'MyModule,\'>\r\n                                    <div class="panel-element">\r\n                                        <div class="panel-group" id="accordion">\r\n                                            <div class="panel panel-default">\r\n                                                <div class="panel-body">\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">Tranche ID     <span style="color: red">*</span></label>\r\n                                                        <input  type="text" class="form-control" ng-model="$ctrl.form.trancheId">\r\n                                                          \r\n                                                    </input>\r\n                                                    </div>\r\n\r\n                                                    \r\n\r\n                                                    <div class="form-group col-sm-6">\r\n                                                        <label for="name">Outstanding Amount\r\n                                                        \r\n                                                        </label>\r\n                                                       \r\n                                                            <input  type="text" \r\n                                                                class="form-control" \r\n                                                                ng-model="$ctrl.form.outstanding" readonly>\r\n                                                        </div>\r\n\r\n                                                        <div class="form-group col-sm-6">\r\n                                                            <label for="name">Previous Outstanding Amount </label>\r\n                                                            \r\n                                                                <input type="text" class="form-control"\r\n                                                                   ng-model="$ctrl.form.previousOutstanding" readonly >\r\n                                                          \r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-sm-3">\r\n                                        <button type="submit" class="btn btn-primary" ng-click="$ctrl.calculateOutstanding()">Calculate Outstanding</button>\r\n                                    </div>\r\n                                </div>\r\n                              \r\n                            </div>\r\n                        </form>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n</section>\r\n<script>\r\n    $(\'#dtpFilter\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter1\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter2\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter3\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter4\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter5\').datepicker({\r\n        autoclose: true\r\n    });\r\n    $(\'#dtpFilter6\').datepicker({\r\n        autoclose: true\r\n    });\r\n</script>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=(t(475),t(336),function(){function e(t){(0,i.default)(this,e),this.form={ipaReportCode:null,ipaStartDate:null,ipaEndDate:null},this.showCalenderOption=!0,this.reportDownloadService=t,this.baseUrl=c.CONFIG.BASE_URL,this.showFYDrpDwn=!1}return(0,s.default)(e,[{key:"calculateOutstanding",value:function(){var e=this;this.reportDownloadService.calculateOutstanding(this.form.trancheId).then(function(t){404==t.status&&alert("Please Enter Valid Tranche"),200==t.status&&(e.form.outstanding=t.data.outstanding,e.form.previousOutstanding=t.data.previous_outstanding)})}},{key:"downloadReport",value:function(){var e=this;this.ipaReportCode=this.form.ipaReportCode,this.ipaStartDate=this.form.ipaStartDate,this.ipaEndDate=this.form.ipaEndDate,null!=this.ipaEndDate&&""!=this.ipaEndDate||(this.ipaEndDate=this.ipaStartDate),$(".se-pre-con").show(),this.reportDownloadService.getReport(this.ipaReportCode,this.ipaStartDate,this.ipaEndDate).then(function(t){$(".se-pre-con").hide(),"SUCCESS"==t.data.serviceResponse&&"200"==t.data.serviceStatus;var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));n.href=a,n.download=e.ipaStartDate+e.ipaEndDate+".xls",n.click(),window.URL.revokeObjectURL(a)})}},{key:"loadInvoiceForm",value:function(){this.showCalenderOption=!1,this.showFYDrpDwn=!1}},{key:"checkReportType",value:function(){var e=this.form.ipaReportCode;"YEARLY"===e?(this.showCustomerId=!0,this.showCalenderOption=!1,this.showFYDrpDwn=!0):"DEALWISE"===e&&(this.showCalenderOption=!0,this.showCustomerId=!0,this.showFYDrpDwn=!1)}},{key:"downloadInvoiceReport",value:function(){var e=this;console.log(this.form.ipaReportCode);var t=this.form.ipaReportCode;if("YEARLY"===t){if(null===this.form.customerId||""==this.form.customerId)return void alert("Invoice report - Customer Id is required");if(null==this.fyYear||""==this.fyYear)return console.log("Fy Selected"+this.fyYear),void alert("FY is required");var r={reportCode:this.form.ipaReportCode,customerId:this.form.customerId,fyYear:this.fyYear};this.reportDownloadService.downloadInvoiceReport(angular.toJson(r)).then(function(t){console.log(t);var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));n.href=a,n.download="deal_repo"+e.form.customerId+".pdf",n.click(),window.URL.revokeObjectURL(a)})}if("DEALWISE"===t){if(null===this.form.customerId||""==this.form.customerId)return void alert("Invoice report - Customer Id is required");if(""===this.form.startDate||null==this.form.startDate)return void alert("Invoice report - Start date is required");if(""===this.form.endDate||null==this.form.endDate)return void alert("Invoice report - End date is required");var n={reportCode:this.form.ipaReportCode,customerId:this.form.customerId,startDate:this.form.startDate,endDate:this.form.endDate};this.reportDownloadService.getTrancheDetails(angular.toJson(n)).then(function(t){console.log("response of tranche details : "+t.data.serviceStatus),"SUCCESS"==t.data.serviceStatus?e.reportDownloadService.downloadInvoiceReport(angular.toJson(n)).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));n.href=a,n.download="deal_repo"+e.form.customerId+".pdf",n.click(),window.URL.revokeObjectURL(a)}):alert("No tranche details found")})}}}]),e}());d.$inject=["reportDownloadService"],exports.default=d},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="reportDownloadService",this.http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"calculateOutstanding",value:function(e){return this.http({method:"GET",url:c.CONFIG.BASE_URL+"/api/calculateOutstanding/"+e,headers:{"content-type":"application/json"},responseType:"application/json"})}},{key:"getReport",value:function(e,t,r){return this.http({method:"GET",url:c.CONFIG.BASE_URL+"/api/ipaReportDownload",headers:{"content-type":void 0},params:{reportCode:e,frmDate:t,toDate:r},responseType:"arraybuffer"})}},{key:"downloadInvoiceReport",value:function(e){return this.http({method:"POST",url:c.CONFIG.BASE_URL+"/api/downloadInvoiceReport",header:{"content-type":void 0},params:{reportData:e},responseType:"blob"})}},{key:"getTrancheDetails",value:function(e){return this.http({method:"GET",url:c.CONFIG.BASE_URL+"/api/getTrancheDetails",headers:{"content-type":void 0},params:{reportData:e}})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(795),l=r(s),c=t(800),d=r(c),u=t(805),p=r(u),m=t(810),f=r(m),g=a.default.module("investor",[o.default]).component("invcreate",d.default).component("invmanage",p.default).component("investor",l.default).service("investorService",f.default).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";e.state({name:"investor",url:"/investor",component:"investor"}).state({url:"/create",name:"investor.create",component:"invcreate"}).state({url:"/edit",name:"investor.edit",params:{edit:!0,view:!1,investor:null,chk:!1},component:"invcreate"}).state({name:"investor.manage",url:"/manage",component:"invmanage"})}]).name;exports.default=g},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(796),a=r(n),i=t(797),o=r(i);t(798);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports="<div ui-view></div>\r\n\r\n"},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="investor"};exports.default=i},function(e,exports,t){var r=t(799);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".investor{color:red}.form-control{border-color:#d2d6de!important}.mand{color:red}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(801),a=r(n),i=t(802),o=r(i);t(803);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header">\r\n  <div class="row">\r\n    <div class="col-lg-12 col-xs-20">\r\n\r\n      <!-- small box -->\r\n      <div class="col-md-12">\r\n        <div class="box box-primary" id="boxx">\r\n\r\n          <form name="investorForm" novalidate>\r\n\r\n            <div class="box-header with-border">\r\n                <h3 ng-if="$ctrl.viewing"  class="box-title">\r\n                    Investor: <b>{{$ctrl.investor.name}}</b>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;\r\n                    <button ng-if="!$ctrl.chk" ui-sref="investor.manage" style="border-radius: 11px;"\r\n                       class="btn btn-default "> <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>\r\n                        Back</button>\r\n\r\n                        <button ng-if="$ctrl.chk" ui-sref="requests/request" style="border-radius: 11px;" class="btn btn-default ">\r\n                          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>\r\n                          Back</button>\r\n                </h3>\r\n              <h3 ng-if="!$ctrl.viewing"  class="box-title">\r\n                <!-- Add New User -->\r\n                {{($ctrl.isEditing)?"Update":"New"}} Investor \r\n              </h3>\r\n              <div ng-if="$ctrl.submitResponse == null && $ctrl.submitResponse == undefined && $ctrl.dupDetails"\r\n                class="alert alert-danger alert-dismissible fade in" \r\n                style="margin-bottom: 0px !important; margin-top: 10px !important">\r\n                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\r\n                <strong>Failure ! investor with client id already exists</strong>\r\n                 <a ui-sref="investor.manage">manage investors</a>\r\n              </div>\r\n              <div ng-if="$ctrl.submitResponse != null && $ctrl.submitResponse != undefined && !$ctrl.dupDetails"\r\n                ng-class="$ctrl.submitResponse ?\'alert alert-success alert-dismissible fade in\': \'alert alert-danger alert-dismissible fade in\'" \r\n                style="margin-bottom: 0px !important; margin-top: 10px !important">\r\n                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\r\n                <strong>{{$ctrl.submitResponse ? "Success": "Failure"}} !</strong> investor {{($ctrl.isEditing)?"update":"create"}} {{$ctrl.submitResponse ? "success": ("failed: " + $ctrl.errorMsg)}}\r\n                 <a ui-sref="investor.manage">manage investors</a>\r\n              </div>\r\n            </div>\r\n            <div class="box-body">\r\n\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label">Investor Name <span class="mand">*</span>:</label>\r\n                  <input placeholder="Investor name" ng-disabled="$ctrl.viewing" name="name"\r\n                  ng-change="$ctrl.investor.name = ($ctrl.investor.name | uppercase)"  \r\n                  ng-model="$ctrl.investor.name" type ="text" required class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.name.$valid && !investorForm.name.$pristine"\r\n                  class="mand" >* investor name is required</span>\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Customer name <span class="mand">*</span>: </label>\r\n                  <input placeholder="Customer name " \r\n                  ng-change="$ctrl.investor.customerName = ($ctrl.investor.customerName | uppercase)"  \r\n                   name="cname" ng-disabled="$ctrl.viewing" ng-model="$ctrl.investor.customerName" type ="text" required   class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.cname.$valid && !investorForm.cname.$pristine" \r\n                  class="mand" >* customer name is required</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">DP Id <span class="mand">*</span>: </label>\r\n                  <input placeholder="DP ID" name="dpid" ng-disabled="$ctrl.viewing"  ng-model="$ctrl.investor.dpId"  \r\n                  required   class="form-control"  autocomplete="off" >\r\n                  <span ng-if="!investorForm.dpid.$valid && !investorForm.dpid.$pristine"\r\n                  class="mand">* dp id is required</span>\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">DP Name <span class="mand">*</span>: </label>\r\n                  <input placeholder="DP Name"  maxlength="250" \r\n                  ng-change="$ctrl.investor.dpName = ($ctrl.investor.dpName | uppercase)"  \r\n                  name="dpname" ng-disabled="$ctrl.viewing" ng-model="$ctrl.investor.dpName" type ="text" required   class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.dpname.$valid && !investorForm.dpname.$pristine" autocomplete="off"\r\n                  class="mand" >* dp name is required</span>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Contact Number: </label>\r\n                  <input maxlength="10" onKeyDown="if(event.keyCode <= 90 && event.keyCode >= 65) return false;" placeholder="Mobile/Telephone"\r\n                   name="contact" ng-pattern="/^[7-9][0-9]{9}$/" ng-disabled="$ctrl.viewing" \r\n                   ng-model="$ctrl.investor.contactNumber" type ="text"  class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.contact.$valid && !investorForm.contact.$pristine" \r\n                  class="mand" >* invalid contact number</span>\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Email: </label>\r\n                  <input placeholder="Email" name="email" ng-pattern="/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/" ng-disabled="$ctrl.viewing" \r\n                  ng-model="$ctrl.investor.email" type ="email"  class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.email.$valid && !investorForm.email.$pristine"\r\n                  class="mand"  >* invalid email address</span>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Client Id <span class="mand">*</span>: </label>\r\n                  <input placeholder="Client Id " name="cid" ng-disabled="$ctrl.viewing" ng-model="$ctrl.investor.clientId" type ="number" \r\n                  required   class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.cid.$valid && !investorForm.cid.$pristine"\r\n                  class="mand">* client id is required</span>\r\n                </div>\r\n               \r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required"> CPPM_InvstId <span class="mand">*</span>: </label>\r\n                  <input placeholder="CPPM_InvstId" name="cppm_invstId" ng-disabled="$ctrl.viewing" ng-model="$ctrl.investor.cppm_invstId" type ="text" \r\n                  required   class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.cppm_invstId.$valid && !investorForm.cppm_invstId.$pristine"\r\n                  class="mand">* CPPM_InvstId  is required</span>\r\n                </div>\r\n\r\n                \r\n              </div>\r\n              <br>\r\n              <br>\r\n               \r\n              <div class="row">\r\n                \r\n                <div class="form-group col-sm-12">\r\n                  <label for="first_name" class="control-label required">Bank Name <!--<span class="mand">*</span>-->: </label>\r\n                  <input placeholder="Bank Name" name="bname" ng-disabled="$ctrl.viewing" \r\n                  ng-change="$ctrl.investor.bankName = ($ctrl.investor.bankName | uppercase)"  \r\n                  ng-model="$ctrl.investor.bankName" type ="text"   class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.bname.$valid && !investorForm.bname.$pristine"\r\n                  class="mand" >* bank name is required</span>\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Bank Accout number<!-- <span class="mand">*</span>-->: </label>\r\n                  <input placeholder="Bank Accout number" name="bac" ng-disabled="$ctrl.viewing"\r\n                   ng-model="$ctrl.investor.bankAccountNumber" type ="text"    class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.bac.$valid && !investorForm.bac.$pristine"\r\n                  class="mand" >* bank account number is required</span>\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">IFSC Code <!--<span class="mand">* ng-pattern="/^[A-Za-z]{4}\\d{7}$/"</span>-->: </label>\r\n                  <input placeholder="IFSC Code" maxlength="11"  name="ifsc" ng-disabled="$ctrl.viewing"\r\n                   ng-model="$ctrl.investor.bankIFSC" type ="text"  class="form-control" autocomplete="off">\r\n                  <span ng-if="!investorForm.ifsc.$valid && !investorForm.ifsc.$pristine"\r\n                  class="mand" >* ifsc code is required</span>\r\n                </div>\r\n              </div>\r\n              \r\n\r\n            </div>\r\n\r\n            <div class="box-footer">\r\n              <button type ="submit" ng-if="!$ctrl.viewing" class="btn btn-primary" ng-disabled="investorForm.$invalid" ng-click="$ctrl.submit(investorForm)">\r\n                \r\n                  <i class="fa fa-spinner fa-spin" ng-if="$ctrl.requesting" style="font-size:15px"></i>\r\n                {{($ctrl.isEditing)?"Update":"Create"}}\r\n                </button>\r\n              <button  type ="submit" ng-if="!$ctrl.viewing"  ui-sref="investor.manage" class="btn btn-default ">Cancel</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="col-lg-3 col-xs-6">\r\n    </div>\r\n    <div class="col-lg-3 col-xs-6">\r\n    </div>\r\n    <div class="col-lg-3 col-xs-6">\r\n    </div>\r\n  </div>\r\n\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=function(){function e(t,r){"ngInject";(0,a.default)(this,e),this.crudService=r,this.mod="investor",this.$stateParams=t,t.edit&&(this.isEditing=t.edit,this.investor=t.investor,this.viewing=t.view,this.chk=t.chk)}return e.$inject=["$stateParams","crudService"],(0,o.default)(e,[{key:"submit",value:function(e){var t=this;this.dupDetails=!1,this.requesting=!0;try{this.isEditing?this.crudService.update(this.investor,this.mod).then(function(e){200==e.status?t.submitResponse=!0:t.submitResponse=!1,t.requesting=!1}):this.crudService.create(this.investor,this.mod).then(function(r){if(200==r.status){t.submitResponse=!0,t.investor={};for(var n in e)n.startsWith("$")||(e[n].$pristine=!0)}else 400==r.status?(console.log("caught"),t.dupDetails=!0):t.submitResponse=!1;t.requesting=!1})}catch(e){this.requesting=!1}}}]),e}();exports.default=s},function(e,exports,t){var r=t(804);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".create{color:red}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(806),a=r(n),i=t(807),o=r(i);t(808);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" id="boxHead">\r\n  <div class="box">\r\n    <div class="box-header">\r\n      <div class="row">\r\n        <h3 class=" col-sm-8 box-title"> Manage Investors &nbsp; &nbsp;\r\n          <br>\r\n          <br>\r\n          <p style=" font-size: 14px;" class="mand" ng-if="$ctrl.loadERROR && ($ctrl.investors.length > 1)">\r\n              &nbsp;&nbsp;<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n              &nbsp; An error occured while processing your request, please contact administator\r\n          </p>\r\n          <!--<button class="btn btn-default" > Export to Excel\r\n              &nbsp; <i class="fa fa-download" aria-hidden="true"></i>\r\n          </button>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;-->\r\n        </h3>\r\n\r\n        <div class="form-group col-sm-4">\r\n          <label for="name">{{$ctrl.searching?"Searching...":"Search Investor :"}}\r\n            <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching"></i>\r\n          </label>\r\n          <input type="text" ng-change="$ctrl.searchByName()" ng-model="$ctrl.search.name" class="form-control" id="description">\r\n          <span style="opacity: 0.5">eg: John Doe</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="box-body">\r\n      <div class="table-wrapper-scroll-y">\r\n        <table id="example1" class="table table-bordered table-striped">\r\n          <thead>\r\n            <tr>\r\n              <th>Id</th>\r\n              <th>Investor Name</th>\r\n              <th>Email</th>\r\n              <th>Contact Number</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody ng-if="$ctrl.loadERROR && ($ctrl.investors.length < 1)">\r\n            <tr>\r\n              <td colspan="6">\r\n                  <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n                  &nbsp; An error occured while processing your request, please contact administator\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tbody ng-if="!$ctrl.loadERROR">\r\n\r\n              <tr ng-show="$ctrl.investors.length < 1">\r\n                  <td  colspan="6"  ng-if="$ctrl.loadingPage">\r\n                      Loading investor list &nbsp &nbsp <i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>\r\n                  </td>\r\n                  <td ng-if="!$ctrl.loadingPage" colspan="6" text-align="center">No data available</td>\r\n                </tr>\r\n\r\n            <tr ng-repeat="x in $ctrl.investors | startFrom: $ctrl.currentPage*$ctrl.pageSize | limitTo:$ctrl.pageSize ">\r\n              <td ng-init="x.confirm=false">{{x.id}}</td>\r\n              <td>{{x.name}}</td>\r\n              <td>{{x.email}}</td>\r\n              <td>{{x.contactNumber}}</td>\r\n              <td>\r\n                  <span ng-if="x.status == -2">Update Pending</span>\r\n                <span ng-if="x.status == 0">Approved</span>\r\n                <span ng-if="x.status == -1">Pending</span>\r\n                <span ng-if="x.status == 1">Rejected</span>\r\n                <span ng-if="x.status == 2">Update Rejected</span>\r\n              </td>\r\n              <td>\r\n\r\n                <div ng-show="x.confirm == false">\r\n                  <button class="btn btn-primary" data-toggle="tooltip" title="" ng-click="$ctrl.viewInvestor(x)" data-original-title="View">\r\n                    <i class="fa fa-align-justify"></i>\r\n                  </button>\r\n                  <button class="btn btn-primary" data-toggle="tooltip" title="" ng-click="$ctrl.editInvestor(x)" data-original-title="Edit">\r\n                    <i class="fa fa-pencil-square fa-lg"></i>\r\n                  </button>\r\n                  <!--&nbsp;\r\n                  <a>\r\n\r\n                    <button class="btn btn-danger" data-toggle="tooltip" title="" ng-click="x.confirm = true" data-original-title="Disable">\r\n                      <i class="fa fa-ban fa-lg"></i>\r\n                    </button>\r\n                  </a>-->\r\n                </div>\r\n\r\n\r\n                <!--<div ng-show="x.confirm == true">\r\n                    <button class="btn btn-danger" data-toggle="tooltip" title="" ng-click="x.confirm = false;$ctrl.disableInvestor(x.id)" data-original-title="Disable">\r\n                        <i class="fa fa-check  fa-lg"></i>\r\n                      </button>\r\n                  &nbsp;\r\n                  <button class="btn btn-default" data-toggle="tooltip" title="" ng-click="x.confirm = false" data-original-title="Cancel">\r\n                      <i class="fa fa-close fa-lg"></i>\r\n                    </button>\r\n                </div>-->\r\n\r\n                \r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-sm-6">&nbsp;</div>\r\n        <ul class="pager col-sm-6">\r\n          <li>\r\n            <button class="btn btn-default" href="#" \r\n            ng-disabled="$ctrl.currentPage == 0 || ($ctrl.search.name && $ctrl.search.name != \'\')"\r\n              ng-click="$ctrl.currentPage = $ctrl.currentPage-1">\r\n              <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n          </li>\r\n\r\n          <button class="btn btn-default" href="#" \r\n            ng-disabled="$ctrl.currentPage == 0 || ($ctrl.search.name && $ctrl.search.name != \'\')"\r\n              ng-click="$ctrl.currentPage = 0">\r\n              <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Jump to page 1</button>\r\n\r\n          &nbsp; &nbsp; &nbsp; Page {{$ctrl.currentPage + 1}} &nbsp; &nbsp; &nbsp;\r\n          <li>\r\n            <button class="btn btn-default" href="#" \r\n              ng-disabled="($ctrl.search.name && $ctrl.search.name != \'\') || $ctrl.loadingPage || $ctrl.loadingNextPage || $ctrl.currentPage >= $ctrl.investors.length/$ctrl.pageSize - 1" \r\n              ng-click="$ctrl.appendInvestors()">Next\r\n              <i ng-show="!$ctrl.loadingNextPage" class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n              <i ng-show="$ctrl.loadingNextPage" class="fa fa-spinner fa-spin"> </i>\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n  </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=function(){function e(t,r){"ngInject";(0,a.default)(this,e),this.investors=[],this.currentPage=0,this.pageSize=10,this.lastRecordId=0,this.allLoaded=0,this.investorBuffer=[],this.pageStateBuffer=0,this.$state=t,this.investorService=r,this.mod="investor",this.updateInvestorTable()}return e.$inject=["$state","investorService"],(0,o.default)(e,[{key:"updateInvestorTable",value:function(){var e=this;this.loadingPage=!0;try{this.investorService.getInvestorList(this.lastRecordId).then(function(t){500==t.status?e.loadERROR=!0:(e.investors=t.data,e.investors.length>0&&(e.lastRecordId=e.investors[e.investors.length-1].id),e.loadERROR=!1,e.loadingPage=!1)})}catch(e){this.loadingPage=!1}}},{key:"editInvestor",value:function(e){this.$state.go("investor.edit",{edit:!0,investor:e})}},{key:"viewInvestor",value:function(e){this.$state.go("investor.edit",{edit:!0,investor:e,view:!0})}},{key:"numberOfPages",value:function(){if(void 0!=this.investors)return Math.ceil(this.investors.length/this.pageSize)}},{key:"searchByName",value:function(){var e=this;this.search.name.length>0?(this.investorBuffer.length<1&&(this.investorBuffer=this.investors,this.pageStateBuffer=this.currentPage),this.currentPage=0,this.searching=!0,this.investorService.searchByName(this.search.name).then(function(t){e.search.name.length>0&&t.config.params.name==e.search.name&&(e.investors=t.data),e.searching=!1})):(this.searching=!1,this.currentPage=this.pageStateBuffer,this.investors=this.investorBuffer)}},{key:"appendInvestors",value:function(){var e=this;this.currentPage++,this.currentPage==this.numberOfPages()-1&&(this.loadingNextPage=!0,0==this.allLoaded?this.investorService.getInvestorList(this.lastRecordId).then(function(t){t.data.length<4&&(e.allLoaded=1),t.data.forEach(function(t){e.investors.push(t)}),e.loadingNextPage=!1,e.lastRecordId=e.investors[e.investors.length-1].id}):this.loadingNextPage=!1)}}]),e}();exports.default=s},function(e,exports,t){var r=t(809);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".manage{color:red}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.$http=t,this.baseURL=c.CONFIG.BASE_URL+"/api"}return e.$inject=["$http"],(0,s.default)(e,[{key:"getInvestorList",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/investor/all",params:{lastRecordId:e}})}},{key:"getById",value:function(e){return this.$http({method:"POST",url:this.baseURL+"/investor/get",params:{id:e}})}},{key:"searchByName",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/investor/search/name",params:{name:e}})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(812),l=r(s),c=t(817),d=r(c),u=t(822),p=r(u),m=t(827),f=r(m),g=a.default.module("buyback",[o.default]).component("buycreate",d.default).component("buymanage",p.default).component("buyback",l.default).service("buyBackService",f.default).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";e.state({name:"buyback",url:"/buyback",component:"buyback"}).state({url:"/create",name:"buyback.create",component:"buycreate"}).state({url:"/edit",name:"buyback.edit",params:{edit:!0,view:!1,buyback:null,chk:!1},component:"buycreate"}).state({name:"buyback.manage",url:"/manage",component:"buymanage"})}]).name;exports.default=g},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(813),a=r(n),i=t(814),o=r(i);t(815);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports="<div ui-view></div>\r\n\r\n"},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="buyback"};exports.default=i},function(e,exports,t){var r=t(816);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".buyback{color:red}.form-control{border-color:#d2d6de!important}.mand{color:red}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(818),a=r(n),i=t(819),o=r(i);t(820);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" >\r\n  <div class="row">\r\n    <div class="col-lg-12 col-xs-20">\r\n\r\n      <!-- small box -->\r\n      <div class="col-md-12">\r\n        <div class="box box-primary" id="boxx">\r\n\r\n          <form name="buybackForm" novalidate>\r\n\r\n            <div class="box-header with-border">\r\n              <h3 ng-if="$ctrl.viewing" class="box-title">\r\n                Buyback:\r\n                <b>{{$ctrl.buyback.tranche.isinNumber}}</b>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                <button ng-if="!$ctrl.chk" ui-sref="buyback.manage" style="border-radius: 11px;" class="btn btn-default ">\r\n                  <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>\r\n                  Back</button>\r\n                  <button ng-if="$ctrl.chk" ui-sref="requests/request" style="border-radius: 11px;" class="btn btn-default ">\r\n                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>\r\n                    Back</button>\r\n              </h3>\r\n              <h3 ng-if="!$ctrl.viewing" class="box-title">\r\n                <!-- Add New User -->\r\n                {{($ctrl.isEditing)?"Update":"Create"}} BuyBack\r\n              </h3>\r\n\r\n              <div ng-if="$ctrl.submitResponse != null && $ctrl.submitResponse != undefined"\r\n                ng-class="$ctrl.submitResponse ?\'alert alert-success alert-dismissible fade in\': \'alert alert-danger alert-dismissible fade in\'" \r\n                style="margin-bottom: 0px !important; margin-top: 10px !important">\r\n                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\r\n                <strong>{{$ctrl.submitResponse ? "Success": "Failure"}} !</strong> buyback {{($ctrl.isEditing)?"update":"create"}} {{$ctrl.submitResponse ? "success": "failed"}} : {{ $ctrl.message}} <a ui-sref="buyback.manage">manage buyback</a>\r\n              </div>\r\n            </div>\r\n            <div class="box-body">\r\n\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label">ISIN \r\n                    <span class="mand">*</span>:</label> \r\n                  <!--\r\n\r\n                  <input ng-change="$ctrl.searchTranche()" placeholder="ISIN" ng-disabled="$ctrl.viewing" name="isin" ng-model="$ctrl.buyback.isin" type="text" required class="form-control">\r\n                    -->\r\n                  <angucomplete-alt id="ISIN" placeholder="ISIN" selected-object="$ctrl.tranche" \r\n                  initial-value="$ctrl.buyback.tranche" minlength="2" ng-click="$ctrl.setStartDate()"\r\n                    remote-url="{{$ctrl.baseURL}}/tranche/search/name?isin=" \r\n                    description-field="trancheId" title-field="isinNumber" input-class="form-control"\r\n                    disable-input="$ctrl.viewing" />\r\n                  <!-- <span ng-if="!buybackForm.isin.$valid && !buybackForm.isin.$pristine" class="mand">* isin is required</span>\r\n                -->\r\n                </div>\r\n\r\n\r\n\r\n              </div>\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Issuer name: </label>\r\n                  <input placeholder="Issuer name" name="issuerName" ng-disabled="true" ng-model="$ctrl.tranche.originalObject.customerName"\r\n                    type="text" class="form-control">\r\n                  <!--<span ng-if="!buybackForm.tranche.customerName.$valid && !buybackForm.tranche.customerName.$pristine" class="mand">* issuer name is required</span>\r\n                      -->\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Investor\r\n                    <span class="mand">*</span>: </label>\r\n                  <angucomplete-alt id="investorName" placeholder="Investor" ng-click="$ctrl.checkDate()" selected-object="$ctrl.investor" initial-value="$ctrl.buyback.investor"\r\n                    minlength="3" remote-url="{{$ctrl.baseURL}}/investor/search/name?name=" title-field="name" input-class="form-control"\r\n                    name="investorName" disable-input="!$ctrl.tranche.originalObject.totalAmount || $ctrl.viewing"  required/>\r\n                  <!--<input placeholder="Investor Name" name="investorName" ng-disabled="$ctrl.viewing" ng-model="$ctrl.tranche.investorName"\r\n                          type="text" required class="form-control">-->\r\n                  <!--<span ng-if="!buybackForm.investorName.$valid && !buybackForm.investorName.$pristine" class="mand">* investor name is required</span>\r\n                        -->\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="row">\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Tranch number : </label>\r\n                  <input placeholder="Tranch number" name="tranchNumber" ng-disabled="true" ng-model="$ctrl.tranche.originalObject.trancheId"\r\n                    type="text" class="form-control">\r\n                  <span ng-if="!buybackForm.tranchNumber.$valid && !buybackForm.tranchNumber.$pristine" class="mand">* tranch number is required</span>\r\n                </div>\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Tranche Amount: </label>\r\n                  <input placeholder="Tranche Amount" name="tranchAmount"  ng-disabled="true"  ng-model="$ctrl.tranche.originalObject.totalAmount"\r\n                    type="number" class="form-control">\r\n                  <span ng-if="!buybackForm.tranchAmount.$valid && !buybackForm.tranchAmount.$pristine" class="mand">* tranch amount is required</span>\r\n                </div>\r\n\r\n\r\n              </div>\r\n              <div class="row">\r\n                <div class="col-sm-6 ">\r\n                  <div class="form-group has-feedback ">\r\n                      <label for="first_name" class="control-label required">Date of Buyback \r\n                          <span class="mand">*</span>: </label>\r\n                          <input type="text" \r\n                            id="maturityDate"\r\n                            data-date-start-date="{{$ctrl.buyback.startdate}}" \r\n                            data-date-end-date="{{$ctrl.lastDate}}"\r\n                            autocomplete="off"\r\n                            name="date" \r\n                            ng-model="$ctrl.buyback.date"\r\n                            data-date-title="some title"\r\n                            data-date-autoclose="true"\r\n                            data-provide="datepicker" \r\n                            ng-disabled="!$ctrl.tranche.originalObject.totalAmount || $ctrl.viewing"  \r\n                            data-date-format=\'dd/mm/yyyy\'\r\n                            ng-value="$ctrl.buyback.date | date: \'dd/MM/yyyy\'"\r\n                            ng-change="{\'background-color\': $ctrl.showAlert()}"\r\n                            class="form-control" required>\r\n                            <i class="glyphicon glyphicon-calendar form-control-feedback"></i>\r\n                            <!--  data-date-end-date = "{{$ctrl.tranche.originalObject.maturityDate}}" -->\r\n                  </div>\r\n                  \r\n                  <span ng-if="!buybackForm.date.$valid && !buybackForm.date.$pristine" class="mand">* buyback date is required</span>\r\n                </div>\r\n                <div class="form-group col-sm-3">\r\n                  <label for="first_name" class="control-label required">Maturity Date: </label>\r\n                  <input placeholder="Maturity Date" name="matDate" ng-disabled="true" ng-model="$ctrl.tranche.originalObject.maturityDate"\r\n                    type="text" class="form-control">\r\n                  <span ng-if="!buybackForm.matDate.$valid && !buybackForm.matDate.$pristine" class="mand">*marurity date required</span>\r\n                </div>\r\n                <div class="form-group col-sm-3">\r\n                  <label for="first_name" class="control-label required">Value Date\r\n                    <span class="mand">*</span>: </label>\r\n                  <input placeholder="Value date" name="valdte" ng-disabled="true" ng-model="$ctrl.tranche.originalObject.valueDate" type="text"\r\n                    required class="form-control">\r\n                  <span ng-if="!buybackForm.valdte.$valid && !buybackForm.valdte.$pristine" class="mand">* value date is required</span>\r\n                </div>\r\n\r\n\r\n\r\n              </div>\r\n              <div class="row">\r\n                <div class="form-group col-sm-3">\r\n                  <label for="first_name" class="control-label required">Buyback Amount\r\n                    <span class="mand">*</span>: </label>\r\n                    \r\n                  <input placeholder="Buyback Amount" max="{{$ctrl.tranche.originalObject.totalAmount}}" name="buyBackAmount" \r\n                    ng-disabled="!$ctrl.tranche.originalObject.totalAmount || $ctrl.viewing"\r\n                    ng-model="$ctrl.buyback.buyBackAmount" \r\n                    type="number" required class="form-control">\r\n                  <span class="mand" ng-show="buybackForm.buyBackAmount.$error.max">\r\n                    buyback amount cannot be more than {{$ctrl.tranche.originalObject.totalAmount}}</span> \r\n                </div>\r\n                <div class="form-group col-sm-3">\r\n                  <label for="first_name" class="control-label required">Units: </label>\r\n                  <input placeholder="Units" name="units" ng-disabled="true" ng-value="$ctrl.buyback.buyBackAmount/$ctrl.multip"\r\n                    ng-model="$ctrl.buyback.units" type="number" class="form-control">\r\n                    <!-- ng-value="$ctrl.tranche.originalObject.totalAmount/$ctrl.multip" -->\r\n                </div>\r\n\r\n                <div class="form-group col-sm-3">\r\n                  <label for="first_name" class="control-label required">Discounted Price\r\n                    <span class="mand">*</span>: </label>\r\n                  <input placeholder="Discounted Price" name="discountedPrice" ng-disabled="!$ctrl.buyback.buyBackAmount || $ctrl.viewing"\r\n                    ng-model="$ctrl.buyback.discountedPrice" type="number" ng-change="$ctrl.discPriceChange()" required class="form-control">\r\n                  <span ng-if="!buybackForm.discountedPrice.$valid && !buybackForm.discountedPrice.$pristine" class="mand">* discounted price is required</span>\r\n                </div>\r\n\r\n                <div class="form-group col-sm-3">\r\n                  <label for="first_name" class="control-label required">Discounted value : </label>\r\n                  <input placeholder="Discounted value" name="discountedValue" ng-disabled="true" ng-model="$ctrl.buyback.discountedValue"\r\n                    type="number" class="form-control">\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div class="row">\r\n\r\n\r\n                <div class="form-group col-sm-6">\r\n                  <label for="first_name" class="control-label required">Yield : </label>\r\n                  <input placeholder="Yield" name="yield" ng-disabled="true" ng-model="$ctrl.buyback.yield" type="number" class="form-control">\r\n                </div>\r\n                <div ng-class="$ctrl.buyback.documentExtention && $ctrl.isEditing?\'form-group col-sm-4\':\'form-group col-sm-6\'">\r\n                  <label for="first_name" class="control-label required">Document\r\n                    <span class="mand">*</span>:\r\n                    \r\n                    \r\n                  </label>\r\n                  <input  name="document"   files-input\r\n                    ng-model="$ctrl.document"\r\n                    ng-disabled="!$ctrl.buyback.discountedPrice || $ctrl.viewing"\r\n                    type="file" ng-required="!$ctrl.isEditing" class="form-control">\r\n                    \r\n                  <!--File is required\r\n                    <span ng-if="!buybackForm.document.$valid && !buybackForm.document.$pristine" class="mand">\r\n                    * discounted price is required</span>-->\r\n                </div>\r\n                <!---->\r\n                <div class="form-group col-sm-2" ng-if="$ctrl.buyback.documentExtention && $ctrl.isEditing">\r\n                    <label for="first_name" class="control-label required">\r\n                        <span class="mand">&nbsp;&nbsp;&nbsp;</span>\r\n                      </label>\r\n                      <br>\r\n                  <div  ng-click="$ctrl.downloadDocument($ctrl.buyback.id)" data-toggle="tooltip" title="download existing"\r\n                      style="border-radius: 11px;" class="btn btn-default btn-sm">\r\n                      download &nbsp; &nbsp; \r\n                      <i ng-if="!$ctrl.downloading" class="fa fa-download"  aria-hidden="true"></i>\r\n                      <i ng-if="$ctrl.downloading" class="fa fa-circle-o-notch fa-spin"  aria-hidden="true"></i>\r\n                      \r\n                    </div>\r\n                    \r\n                  <p class="mand">{{$ctrl.downloadMsg}}</p>\r\n                </div>\r\n              </div>\r\n           \r\n              <!-- here-->\r\n            <div class="row">\r\n              <div class="form-group col-sm-6">\r\n                <label for="signatory" class="control-label required">Signatory: </label>\r\n                <input placeholder="Signatory" name="signatory"  ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                  ng-disabled="!$ctrl.buyback.buyBackAmount || $ctrl.viewing"\r\n                  ng-model="$ctrl.buyback.signatory"\r\n                  type="text" class="form-control"\r\n                  autocomplete="off">\r\n                <!--<span ng-if="!buybackForm.tranche.customerName.$valid && !buybackForm.tranche.customerName.$pristine" class="mand">* issuer name is required</span>\r\n                    -->\r\n              </div>\r\n              <div class="form-group col-sm-6">\r\n                <label for="designation" class="control-label required">Designation </label>\r\n                \r\n                <input placeholder="Designation" name="designation"  ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                  ng-disabled="!$ctrl.buyback.signatory || $ctrl.viewing"\r\n                  ng-model="$ctrl.buyback.designation"\r\n                  type="text" required class="form-control"\r\n                  autocomplete="off">\r\n                <!--<span ng-if="!buybackForm.investorName.$valid && !buybackForm.investorName.$pristine" class="mand">* investor name is required</span>\r\n                      -->\r\n              </div>\r\n\r\n            </div>\r\n            <!-- here end-->\r\n          </div>\r\n\r\n            <div class="box-footer">\r\n              <button type="submit" ng-if="!$ctrl.viewing" class="btn btn-primary" \r\n              ng-disabled="!$ctrl.investor.originalObject || buybackForm.$invalid || $ctrl.button" \r\n              ng-click="$ctrl.submit(buybackForm)">\r\n                  <i class="fa fa-spinner fa-spin" ng-if="$ctrl.requesting" style="font-size:15px"></i>\r\n                {{($ctrl.isEditing)?"Update":"Create"}}\r\n              </button>\r\n              <button type="submit" ng-if="!$ctrl.viewing" ui-sref="buyback.manage" class="btn btn-default ">Cancel</button>\r\n              \r\n              \r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      \r\n    </div>\r\n\r\n    <div class="col-lg-3 col-xs-6">\r\n    </div>\r\n    <div class="col-lg-3 col-xs-6">\r\n    </div>\r\n    <div class="col-lg-3 col-xs-6">\r\n    </div>\r\n  </div>\r\n\r\n</section>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=(t(475),t(510)),u=function(){function e(t,r,n){"ngInject";(0,i.default)(this,e),this.buyBackService=n,this.crudService=r,this.mod="buyback",this.button=!1,this.baseURL=c.CONFIG.BASE_URL+"/api",this.multip=5e5,this.tranche={originalObject:{}},this.$stateParams=t,t.edit&&(this.isEditing=t.edit,this.buyback=t.buyback,this.viewing=t.view,this.chk=t.chk,this.isEditing&&this.setStartDate())}return e.$inject=["$stateParams","crudService","buyBackService"],(0,s.default)(e,[{key:"searchTranche",value:function(){console.log("searchby: "+this.buyback.isin)}},{key:"buildFormData",value:function(e,t){var r=new FormData;return r.append("data",angular.toJson(e)),null==t||void 0==t?r:(t.length>1?r.append("document",t):r.append("document",t[0]),r)}},{key:"calculationOnRate",value:function(){this.tenorInDays=d(this.tranche.originalObject.maturityDate,"DD/MM/YYYY").diff(d(this.tranche.originalObject.valueDate,"DD/MM/YYYY"),"days");var e=0;e=this.buyback.cpIssue*this.buyback.discountedPrice/100,this.buyback.discountedValue=e;var t=0;t=this.transaction.cpIssue*this.discRate/this.transaction.discountedValue}},{key:"downloadDocument",value:function(){var e=this,t=!0;this.downloading=!0,(this.chk||this.buyback.createdDate==this.buyback.updatedDate&&this.buyback.status==-1)&&(t=!1),this.buyBackService.downloadDocument(this.buyback,t).then(function(t){if(204==t.status)return e.downloadMsg="file does not exist",void(e.downloading=!1);if(200!=t.status&&null!=t.status&&void 0!=t.status)return void(e.downloadMsg="an unexpected error has occured, please contact administrator");var r=t.headers("Content-Disposition").split(";").pop().split("filename=",2).pop();e.buildAndPushFile(t.data,r),e.downloading=!1})}},{key:"buildAndPushFile",value:function(e,t){var r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),n=(window.URL||window.webkitURL).createObjectURL(r),a=angular.element("<a/>");a.attr({href:n,download:t})[0].click()}},{key:"submit",value:function(e){var t=this;if(this.buyback.buyBackAmount%this.multip!=0)return void alert("Amount should be multiple of 5 lacs");this.requesting=!0;try{var r=this.buyback.date;this.buyback.date=d(this.buyback.date,"DD/MM/YYYY").toDate(),this.buyback.tranche=this.tranche.originalObject,this.buyback.investor=this.investor.originalObject,this.buyback.units=this.buyback.buyBackAmount/this.multip,this.buyback.investor.bankIFSC=null,this.buyback.investor.bankAccountNumber=null,this.buyback.investor.bankName=null,this.isEditing?this.buyBackService.update(this.buildFormData(this.buyback,this.document)).then(function(e){"OK"==e.data.serviceResponse?(t.submitResponse=!0,t.message=e.data.serviceStatus):(t.submitResponse=!1,t.message=e.data.serviceError),t.buyback.date=r,t.requesting=!1,t.document=null,t.buyback={},t.tranche={},t.buyback.investor={}}):(this.buyback.tranche.commercialPaper.customer=null,this.buyBackService.create(this.buildFormData(this.buyback,this.document)).then(function(n,a){console.log("Buyback Create response: "+n.data),"OK"==n.data.serviceResponse?(t.submitResponse=!0,t.message=n.data.serviceStatus):(t.submitResponse=!1,t.message=n.data.serviceError),t.buyback.date=r,t.requesting=!1;for(var i in e)i.startsWith("$")||(e[i].$pristine=!0);t.document=null,t.buyback={},t.tranche={}}))}catch(e){this.requesting=!1}}},{key:"discPriceChange",value:function(){var e=0;e=this.buyback.buyBackAmount*this.buyback.discountedPrice/100,this.buyback.discountedValue=e;var t=void 0;t=this.isEditing?d(new Date(this.buyback.date)).format("DD/MM/YYYY"):this.buyback.date;var r=365e4/this.buyback.discountedPrice-36500,n=t,a=d(this.tranche.originalObject.maturityDate,"DD/MM/YYYY").diff(d(n,"DD/MM/YYYY"),"days"),i=r/a;this.buyback.yield=parseFloat(i.toFixed(2))}},{key:"discountedVal",value:function(e,t){return e*t/100}},{key:"discountedRate",value:function(e,t){var r=(100-e)/100*(365/t)*100;return parseFloat(r.toFixed(2))}},{key:"calcYield",value:function(e,t,r){return parseFloat((e*t/r).toFixed(2))}},{key:"checkDate",value:function(){}},{key:"setStartDate",value:function(){var e=this;if(void 0==this.buyback&&(this.buyback={}),this.tranche&&this.tranche.originalObject){console.log("Maturity date :"+this.tranche.originalObject.maturityDate);var t=d(this.tranche.originalObject.maturityDate,"DD/MM/YYYY"),r=d(new Date,"DD/MM/YYYY");this.lastDate=d(this.tranche.originalObject.maturityDate,"DD/MM/YYYY").subtract(1,"days").format("DD/MM/YYYY"),t>r?this.button=!1:this.button=!0}this.buyback.startdate=d(this.tranche.originalObject.valueDate,"DD/MM/YYYY").add(30,"d").format("DD/MM/YYYY");var n=this.tranche.originalObject.isinNumber;try{(this.isEditing||void 0==n||null==n)&&(n=this.buyback.tranche.isinNumber)}catch(e){}this.buyBackService.calcTotalWithBuyback(n).then(function(t){e.isEditing?e.buybackBalance=t.data*e.multip+(0==e.buyback.status?e.buyback.buyBackAmount:0):e.buybackBalance=t.data*e.multip})}}]),e}();exports.default=u},function(e,exports,t){var r=t(821);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".create{color:red}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(823),a=r(n),i=t(824),o=r(i);t(825);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" id="boxHead">\r\n  <div class="box">\r\n    <div class="box-header">\r\n      <div class="row">\r\n        <h3 class=" col-sm-8 box-title"> Manage Buyback &nbsp; &nbsp;\r\n          <!--<button class="btn btn-default" > Export to Excel\r\n              &nbsp; <i class="fa fa-download" aria-hidden="true"></i>\r\n          </button>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;-->\r\n        </h3>\r\n\r\n        <div class="form-group col-sm-4">\r\n          <label for="name">{{$ctrl.searching?"Searching...":"Search Buyback :"}}\r\n            <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching"></i>\r\n          </label>\r\n          <input type="text" ng-change="$ctrl.searchByISIN()" ng-model="$ctrl.search.name" class="form-control" id="description">\r\n          <span style="opacity: 0.5">eg: ISIN NUMBER</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="box-body">\r\n      <div class="table-wrapper-scroll-y">\r\n        <table id="example1" class="table table-bordered table-striped">\r\n          <thead>\r\n            <tr>\r\n              <th>Id</th>\r\n              <th>ISIN</th>\r\n              <th>Amount</th>\r\n              <th>Date</th>\r\n              <th>Investor</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n              <tr ng-show="$ctrl.buyBacks.length < 1">\r\n                  <td colspan="7" ng-if="$ctrl.loadingPage">\r\n                      Loading buyback list &nbsp &nbsp <i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>\r\n                  </td>\r\n                  <td ng-if="!$ctrl.loadingPage" colspan="7" text-align="center">No data available</td>\r\n                </tr>\r\n            <tr ng-repeat="x in $ctrl.buyBacks | startFrom: $ctrl.currentPage*$ctrl.pageSize | limitTo:$ctrl.pageSize ">\r\n              <td ng-init="x.confirm=false">{{x.id}}</td>\r\n              <td>{{x.tranche.isinNumber}}</td>\r\n              <td>{{x.buyBackAmount}}</td>\r\n              <td>{{x.date | date: \'dd/MM/yyyy\'}}</td>\r\n              <td>{{x.investor.name}}</td>\r\n              <td>\r\n                  <span ng-if="x.status == -2">Update Pending</span>\r\n                <span ng-if="x.status == 0">Approved</span>\r\n                <span ng-if="x.status == -1">Pending</span>\r\n                <span ng-if="x.status == 1">Rejected</span>\r\n                <span ng-if="x.status == 2">Update Rejected</span>\r\n              </td>\r\n              <td>\r\n\r\n                <div ng-show="x.confirm == false">\r\n                  <button class="btn btn-primary" data-toggle="tooltip" title="" ng-click="$ctrl.viewBuyBack(x)" data-original-title="View">\r\n                    <i class="fa fa-align-justify"></i>\r\n                  </button>\r\n                  <button class="btn btn-primary" data-toggle="tooltip" title="" ng-click="$ctrl.editBuyBack(x)" data-original-title="Edit">\r\n                    <i class="fa fa-pencil-square fa-lg"></i>\r\n                  </button>\r\n                  <button class="btn btn-primary" data-toggle="tooltip" title="Redemption Certificate" ng-click="$ctrl.downloadRedemPdf(x)"><i class="glyphicon glyphicon-download"></i></button>\r\n                  <button class="btn btn-primary" data-toggle="tooltip" title="RBI Letter" ng-click="$ctrl.downloadRBIPdf(x)"><i class="glyphicon glyphicon-download"></i></button>\r\n                  <!--&nbsp;\r\n                  <a>\r\n\r\n                    <button class="btn btn-danger" data-toggle="tooltip" title="" ng-click="x.confirm = true" data-original-title="Disable">\r\n                      <i class="fa fa-ban fa-lg"></i>\r\n                    </button>\r\n                  </a>-->\r\n                </div>\r\n\r\n\r\n                <!--<div ng-show="x.confirm == true">\r\n                    <button class="btn btn-danger" data-toggle="tooltip" title="" ng-click="x.confirm = false;$ctrl.disableInvestor(x.id)" data-original-title="Disable">\r\n                        <i class="fa fa-check  fa-lg"></i>\r\n                      </button>\r\n                  &nbsp;\r\n                  <button class="btn btn-default" data-toggle="tooltip" title="" ng-click="x.confirm = false" data-original-title="Cancel">\r\n                      <i class="fa fa-close fa-lg"></i>\r\n                    </button>\r\n                </div>-->\r\n\r\n                \r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-sm-6">&nbsp;</div>\r\n        <ul class="pager col-sm-6">\r\n          <li>\r\n            <button class="btn btn-default" href="#" \r\n            ng-disabled="$ctrl.currentPage == 0 || ($ctrl.search.name && $ctrl.search.name != \'\')"\r\n              ng-click="$ctrl.currentPage = $ctrl.currentPage-1">\r\n              <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n          </li>\r\n\r\n          <button class="btn btn-default" href="#" \r\n            ng-disabled="$ctrl.currentPage == 0 || ($ctrl.search.name && $ctrl.search.name != \'\')"\r\n              ng-click="$ctrl.currentPage = 0">\r\n              <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Jump to page 1</button>\r\n\r\n          &nbsp; &nbsp; &nbsp; Page {{$ctrl.currentPage + 1}} &nbsp; &nbsp; &nbsp;\r\n          <li>\r\n            <button class="btn btn-default" href="#" \r\n              ng-disabled="($ctrl.search.name && $ctrl.search.name != \'\') || $ctrl.loadingPage || $ctrl.loadingNextPage || $ctrl.currentPage >= $ctrl.buyBacks.length/$ctrl.pageSize - 1" \r\n              ng-click="$ctrl.appendBuyBack()">Next\r\n              <i ng-show="!$ctrl.loadingNextPage" class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n              <i ng-show="$ctrl.loadingNextPage" class="fa fa-spinner fa-spin"> </i>\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <!-- New Start here\r\n      <div class="row">\r\n        <div class="col-sm-6">&nbsp;</div>\r\n        <ul class="pager col-sm-6">\r\n        <li>\r\n            <button class="btn btn-default" href="#"  ng-click="$ctrl.jumpToFirst()" >\r\n            <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1 page</button>\r\n        </li>\r\n        <li>\r\n            <button class="btn btn-default" href="#" ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()" >\r\n            <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n        </li>\r\n              &nbsp; &nbsp; &nbsp; Page  {{$ctrl.pageNumber}} &nbsp; &nbsp; &nbsp;\r\n        <li>\r\n            <button class="btn btn-default" href="#" ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n            <i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>\r\n           \r\n        </li>\r\n        </ul>\r\n    </div> -->\r\n      <!-- Ends here -->\r\n\r\n    </div>\r\n  </div>\r\n  </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=function(){function e(t,r,n){"ngInject";(0,a.default)(this,e),this.buyBacks=[],this.currentPage=0,this.pageSize=10,this.lastRecordId=0,this.allLoaded=0,this.buyBackBuffer=[],this.pageStateBuffer=0,this.$state=t,this.crudService=n,this.buyBackService=r,this.mod="buyback",this.updateBuyBackTable()}return e.$inject=["$state","buyBackService","crudService"],(0,o.default)(e,[{key:"updateBuyBackTable",value:function(){var e=this;this.loadingPage=!0;try{this.buyBackService.getBuyBackList(this.lastRecordId).then(function(t){e.buyBacks=t.data,e.buyBacks.length>0&&(e.lastRecordId=e.buyBacks[e.buyBacks.length-1].id),e.loadingPage=!1})}catch(e){this.loadingPage=!1}}},{key:"editBuyBack",value:function(e){this.$state.go("buyback.edit",{edit:!0,buyback:e})}},{key:"viewBuyBack",value:function(e){this.$state.go("buyback.edit",{edit:!0,buyback:e,view:!0})}},{key:"numberOfPages",value:function(){if(void 0!=this.buyBacks)return Math.ceil(this.buyBacks.length/this.pageSize)}},{key:"searchByISIN",value:function(){var e=this;this.search.name.length>0?(this.buyBackBuffer.length<1&&(this.buyBackBuffer=this.buyBacks,this.pageStateBuffer=this.currentPage),this.currentPage=0,this.searching=!0,this.buyBackService.searchByISIN(this.search.name).then(function(t){e.search.name.length>0&&t.config.params.isin==e.search.name&&(e.buyBacks=t.data),e.searching=!1})):(this.searching=!1,this.currentPage=this.pageStateBuffer,this.buyBacks=this.buyBackBuffer)}},{key:"appendBuyBack",value:function(){var e=this;console.log("here..."),this.currentPage++,this.currentPage==this.numberOfPages()-1&&(this.loadingNextPage=!0,0==this.allLoaded?this.buyBackService.getBuyBackList(this.lastRecordId).then(function(t){t.data.length<4&&(e.allLoaded=1),t.data.forEach(function(t){e.buyBacks.push(t)}),e.loadingNextPage=!1,e.lastRecordId=e.buyBacks[e.buyBacks.length-1].id}):this.loadingNextPage=!1)}},{key:"downloadRedemPdf",value:function(e){0==e.status?this.buyBackService.downloadRedemptionPdf(e.id).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));n.href=a,n.download=e.id+".pdf",n.click(),window.URL.revokeObjectURL(a)}):alert("Buyback is not approved so you can't download")}},{key:"downloadRBIPdf",value:function(e){0==e.status?this.buyBackService.downloadRBILetterPdf(e.id).then(function(t){var r=[];r.push(t.binaryData);var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));n.href=a,n.download=e.id+".pdf",n.click(),window.URL.revokeObjectURL(a)}):alert("Buyback is not approved so you can't download")}},{key:"jumpToFirst",value:function(){this.pageNumber=1,this.getAllUsers()}},{key:"previous",value:function(){this.pageNumber--,this.getAllUsers()}},{key:"next",value:function(){this.pageNumber++,this.appendBuyBack()}}]),e}();exports.default=s},function(e,exports,t){var r=t(826);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".manage{color:red}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.$http=t,this.baseURL=c.CONFIG.BASE_URL+"/api"}return e.$inject=["$http"],(0,s.default)(e,[{key:"searchTranchByName",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/tranche/search/name",params:{isin:e}})}},{key:"getBuyBackList",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/buyback/all",params:{lastRecordId:e}})}},{key:"searchByISIN",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/buyback/search/isin",params:{isin:e}})}},{key:"downloadDocument",value:function(e,t){return this.$http({method:"POST",url:this.baseURL+"/buyback/document",responseType:"arraybuffer",params:{stable:t},data:e})}},{key:"getById",value:function(e){return this.$http({method:"POST",url:this.baseURL+"/buyback/get",params:{id:e}})}},{key:"create",value:function(e){return this.$http({method:"POST",url:this.baseURL+"/buyback/create",headers:{"content-type":void 0},data:e})}},{key:"update",value:function(e,t){return this.$http({method:"POST",headers:{"content-type":void 0},url:this.baseURL+"/buyback/update",data:e})}},{key:"calcTotalWithBuyback",value:function(e){return this.$http({method:"POST",url:this.baseURL+"/tranche/sum",params:{isin:e,ignorebuyback:!1}})}},{key:"downloadRedemptionPdf",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/buyback/downloadBBRedemptionPdf",headers:{"content-type":"application/json"},params:{id:e},responseType:"arraybuffer"})}},{key:"downloadRBILetterPdf",value:function(e){return this.$http({method:"GET",url:this.baseURL+"/buyback/downloadRbiLetter",headers:{"content-type":"application/json"},params:{id:e},responseType:"arraybuffer"})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(829),l=r(s),c=t(834),d=r(c),u=t(839),p=r(u),m=a.default.module("benpos",[o.default]).component("benpos",l.default).component("benmanage",d.default).service("benposService",p.default).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";e.state({name:"benpos",url:"/benpos",component:"benpos"}).state({name:"benpos.manage",url:"/manage",component:"benmanage"})}]).name;exports.default=m},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(830),a=r(n),i=t(831),o=r(i);t(832);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports="<div ui-view></div>"},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="benpos"};exports.default=i},function(e,exports,t){var r=t(833);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".benpos{color:red}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(835),a=r(n),i=t(836),o=r(i);t(837);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" id="boxHead">\r\n  <form name="benUploadForm" ng-if="$ctrl.uploading">\r\n    <div class="box">\r\n      <div class="box-header">\r\n        <div class="row">\r\n          <!--upload head-->\r\n          <h3 class="box-title col-sm-11">\r\n            <b>\r\n              <i class="fa fa-upload" aria-hidden="true"></i>\r\n              &nbsp; Upload Benpos File</b>\r\n          </h3>\r\n\r\n          <div class="col-sm-1">\r\n            <div ng-click="$ctrl.uploading = false" class="btn btn-danger ">\r\n              <!-- set this to a boolean value-->\r\n              <i class="fa fa-times" aria-hidden="true"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style="margin-left: 700px;">\r\n\r\n        </div>\r\n        <div class="box-body" clas="row">\r\n          <div class="form-group col-sm-6">\r\n            <label for="first_name" class="control-label required">Benpos file<span class="mand">*</span>:</label>\r\n            <input name="document" files-input ng-model="$ctrl.document" type="file" ng-required="true" class="form-control">\r\n          </div>\r\n          <div class="form-group col-sm-4">\r\n            <div>\r\n                <label for="first_name" class="control-label required">&nbsp;</label>\r\n                <br>\r\n              <button class="btn btn-default" ng-disabled="benUploadForm.$invalid" ng-click="$ctrl.uploadBenpos()">Upload &emsp;\r\n                <i class="fa fa-upload" ng-hide="$ctrl.uploadingFile" aria-hidden="true"></i>\r\n                <i class="fa fa-spinner fa-spin" ng-show="$ctrl.uploadingFile" style="font-size:15px"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div ng-if="$ctrl.downloadSuccess && !$ctrl.downloadError" class="col-sm-6" style="color: green">\r\n              file upload successful\r\n            </div>\r\n            <div ng-if="$ctrl.downloadError && !$ctrl.downloadSuccess" class="col-sm-6" >\r\n              <span style="color: red">file upload failed</span>&nbsp; <a style="cursor: pointer;" data-toggle="modal" data-target="#errorModal">view details </a>\r\n\r\n              <div class="modal fade" id="errorModal" role="dialog">\r\n                <div class="modal-dialog modal-md">\r\n                  <div class="modal-content">\r\n                    <div class="modal-header">\r\n                      <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n                      <h4 class="modal-title">File upload error list: </h4>\r\n                    </div>\r\n                    <div class="modal-body">\r\n                      <p ng-repeat="(key, value) in $ctrl.uploadStatus">\r\n                        <span>Line {{key}}: {{value}}</span>\r\n                      </p>\r\n                    </div>\r\n                    <div class="modal-footer">\r\n                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  \r\n\r\n  <div class="box">\r\n      <div class="box-header">\r\n        <div class="row">\r\n          <h3 class=" col-sm-8 box-title"> Manage Benpos File &nbsp; &nbsp;\r\n            <button  class="btn btn-default" ng-if="$ctrl.uploading == undefined || !$ctrl.uploading" ng-click="$ctrl.uploading = true"> Upload benpos file\r\n                &nbsp; <i class="fa fa-upload" aria-hidden="true"></i>\r\n            </button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n          </h3>\r\n  \r\n          <div class="form-group col-sm-4">\r\n            <label for="name">{{$ctrl.searching?"Searching...":"Search Benpos :"}}\r\n              <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching"></i>\r\n            </label>\r\n            <input type="text" ng-change="$ctrl.searchByISIN()" ng-model="$ctrl.search.name" class="form-control" id="description">\r\n            <span style="opacity: 0.5">eg: ISIN NUMBER</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="box-body">\r\n        <div class="table-wrapper-scroll-y">\r\n          <table id="example1" class="table table-bordered table-striped">\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>ISIN</th>\r\n                <th>Maturity date</th>\r\n                <th>Uploaded date</th>\r\n                <th>Download</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr ng-show="$ctrl.benpos.length < 1">\r\n                    <td colspan="5" ng-if="$ctrl.loadingPage">\r\n                        Loading benpos list &nbsp &nbsp <i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>\r\n                    </td>\r\n                    <td ng-if="!$ctrl.loadingPage" colspan="5" text-align="center">No data available</td>\r\n                  </tr>\r\n\r\n              <tr ng-repeat="x in $ctrl.benpos | startFrom: $ctrl.currentPage*$ctrl.pageSize | limitTo:$ctrl.pageSize ">\r\n                <td ng-init="x.confirm=false">{{x.id}}</td>\r\n                <td ng-init="x.downloading = false">{{x.isin}}</td>\r\n                <td>{{x.maturityDate| date: \'dd/MM/yyyy\'}}</td>\r\n                <td>{{x.uploadedDate| date: \'dd/MM/yyyy\'}}</td>\r\n                <td>\r\n                    <button ng-if="x.status > -1"  ng-click="$ctrl.downloadEPH(x)" class="btn btn-default"> Download EPH\r\n                        &nbsp; <i class="fa fa-download" ng-if="!x.downloading" aria-hidden="true"></i>\r\n                        <i class="fa fa-spinner fa-spin" ng-if="x.downloading" style="font-size:15px"></i>\r\n                    </button>\r\n                    <button  ng-if="x.status < 0" ng-disabled="true" class="btn btn-default">Approval pending &nbsp; </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-sm-6">&nbsp;</div>\r\n          <ul class="pager col-sm-6">\r\n            <li>\r\n              <button class="btn btn-default" href="#" \r\n              ng-disabled="$ctrl.currentPage == 0 || ($ctrl.search.name && $ctrl.search.name != \'\')"\r\n                ng-click="$ctrl.currentPage = $ctrl.currentPage-1">\r\n                <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n            </li>\r\n  \r\n            <button class="btn btn-default" href="#" \r\n              ng-disabled="$ctrl.currentPage == 0 || ($ctrl.search.name && $ctrl.search.name != \'\')"\r\n                ng-click="$ctrl.currentPage = 0">\r\n                <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Jump to page 1</button>\r\n  \r\n            &nbsp; &nbsp; &nbsp; Page {{$ctrl.currentPage + 1}} &nbsp; &nbsp; &nbsp;\r\n            <li>\r\n              <button class="btn btn-default" href="#" \r\n                ng-disabled="($ctrl.search.name && $ctrl.search.name != \'\') || $ctrl.loadingPage || $ctrl.loadingNextPage || $ctrl.currentPage >= $ctrl.benpos.length/$ctrl.pageSize - 1" \r\n                ng-click="$ctrl.appendBenpos()">Next\r\n                <i ng-show="!$ctrl.loadingNextPage" class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                <i ng-show="$ctrl.loadingNextPage" class="fa fa-spinner fa-spin"> </i>\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n  \r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=t(434),o=r(i),s=t(510),l=function(){function e(t){"ngInject";(0,a.default)(this,e),this.benpos=[],this.currentPage=0,this.pageSize=10,this.lastRecordId=0,this.allLoaded=0,this.benposBuffer=[],this.pageStateBuffer=0,this.benposService=t,this.updateBenposTable()}return e.$inject=["benposService"],(0,o.default)(e,[{key:"updateBenposTable",value:function(){var e=this;this.loadingPage=!0;try{this.benposService.getBenposList(this.lastRecordId).then(function(t){500==t.status?e.loadERROR=!0:(e.benpos=t.data,e.benpos.length>0&&(e.lastRecordId=e.benpos[e.benpos.length-1].id),e.loadERROR=!1,e.loadingPage=!1)})}catch(e){this.loadingPage=!1}}},{key:"numberOfPages",value:function(){if(void 0!=this.benpos)return Math.ceil(this.benpos.length/this.pageSize)}},{key:"uploadBenpos",value:function(){var e=this;this.uploadingFile=!0;var t=new FormData;t.append("benpos",this.document[0]);try{this.benposService.upload(t).then(function(t){console.log(t),200==t.status?e.downloadSuccess=!0:400==t.status?(e.downloadSuccess=!1,e.downloadError=!0,e.uploadStatus=t.data):500==t.status&&(e.downloadSuccess=!1,e.downloadError=!0,e.uploadStatus={err:"internal server error"}),e.uploadingFile=!1})}catch(e){console.log("error caught !")}}},{key:"downloadEPH",value:function(e){var t=this;e.downloading=!0,this.benposService.downloadEPH(e.id).then(function(r){console.log(s),t.buildAndPushFile(r.data,e.isin+"__"+s(new Date).format("DDMMYYYY")+".xlsx"),e.downloading=!1})}},{key:"buildAndPushFile",value:function(e,t){var r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),n=(window.URL||window.webkitURL).createObjectURL(r),a=angular.element("<a/>");a.attr({href:n,download:t})[0].click()}},{key:"appendBenpos",value:function(){var e=this;this.currentPage++,this.currentPage==this.numberOfPages()-1&&(this.loadingNextPage=!0,0==this.allLoaded?this.benposService.getBenposList(this.lastRecordId).then(function(t){t.data.length<4&&(e.allLoaded=1),t.data.forEach(function(t){e.benpos.push(t)}),e.loadingNextPage=!1,e.lastRecordId=e.benpos[e.benpos.length-1].id}):this.loadingNextPage=!1)}},{key:"searchByISIN",value:function(){var e=this;this.search.name.length>0?(this.benposBuffer.length<1&&(this.benposBuffer=this.benpos,this.pageStateBuffer=this.currentPage),this.currentPage=0,this.searching=!0,this.benposService.searchByISIN(this.search.name).then(function(t){e.search.name.length>0&&t.config.params.isin==e.search.name&&(e.benpos=t.data),e.searching=!1})):(this.searching=!1,this.currentPage=this.pageStateBuffer,this.benpos=this.benposBuffer)}}]),e}();exports.default=l},function(e,exports,t){var r=t(838);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".manage{color:red}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.$http=t,this.baseURL=c.CONFIG.BASE_URL+"/api/benpos/"}return e.$inject=["$http"],(0,s.default)(e,[{key:"upload",value:function(e){return this.$http({method:"POST",url:this.baseURL+"upload",headers:{"content-type":void 0},data:e})}},{key:"getBenposList",value:function(e){return this.$http({method:"GET",url:this.baseURL+"all",params:{lastRecordId:e}})}},{key:"searchByISIN",value:function(e){return this.$http({method:"GET",url:this.baseURL+"search/isin",params:{isin:e}})}},{key:"downloadEPH",value:function(e){return this.$http({method:"POST",responseType:"arraybuffer",url:this.baseURL+"eph/download",params:{id:e}})}},{key:"downloadDoc",value:function(e){return this.$http({method:"POST",responseType:"arraybuffer",url:this.baseURL+"download",params:{id:e}})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){
return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(841),l=r(s),c=t(844),d=r(c),u=t(849),p=r(u),m=t(852),f=r(m),g=t(853),h=r(g);t(656);var v=a.default.module("creditdebit",[o.default,"angucomplete-alt"]).config(["$stateProvider",function(e){"ngInject";e.state("creditdebit",{url:"/creditdebit",component:"creditdebit"}).state("managecrdr",{url:"/creditdebit/managecrdr",component:"manageCrDRComponent"}).state("feescalculation",{url:"/credidebit/feescalculation",component:"feesCalculationComponent"})}]).component("creditdebit",l.default).component("manageCrDRComponent",d.default).component("feesCalculationComponent",p.default).service("CreditDebitService",f.default).service("feesCalculationService",h.default).name;exports.default=v},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(842),a=r(n),i=t(843),o=r(i),s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    <div class="col-lg-12 col-xs-20">\r\n        <h3>\r\n            Manage Credit/Debit\r\n        </h3>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form  role="form" name="manageAccForm" >\r\n\r\n                            <div ng-if="$ctrl.submitResponse != null && $ctrl.submitResponse != undefined"\r\n                                ng-class="$ctrl.submitResponse ?\'alert alert-success alert-dismissible fade in\': \'alert alert-danger alert-dismissible fade in\'" \r\n                                style="margin-bottom: 0px !important; margin-top: 10px !important">\r\n                                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\r\n                                <strong>{{$ctrl.submitResponse ? "Success": "Failure"}} !</strong> {{$ctrl.submitResponse ? "success": "failed"}} : {{ $ctrl.message}} \r\n                             </div>\r\n\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Customer Id:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <angucomplete-alt id="Customers" placeholder="Search Members"\r\n                                        selected-object="$ctrl.inputChangedById" initial-value="$ctrl.balanceManager"\r\n                                        minlength="3" remote-url="{{$ctrl.baseUrl}}/api/getById?customerId="\r\n                                        remote-url-data-field="serviceResponse" title-field="customerId" .\r\n                                        input-class="form-control" disable-input="$ctrl.isEdit"\r\n                                        override-suggestions="true" ng-model="$ctrl.balanceManager.customerId" />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show = "$ctrl.balanceManager.customerId">\r\n                                    <label for="name">Customer Name:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" id="designatedAccountNumber"\r\n                                     placeholder="Customer name" \r\n                                    ng-model="$ctrl.balanceManager.customerName" readonly>\r\n                                    <!-- <angucomplete-alt id="designatedAccountNumber" placeholder="Designated Acc Number" minlength="3" input-class="form-control" selected-object="$ctrl.designatedAccountNumber"\r\n                                        initial-value="$ctrl.data.designatedAccountNumber" \r\n                                        remote-url-data-field="serviceResponse" title-field="designatedAccountNumber" disable-input="$ctrl.isEdit"\r\n                                        override-suggestions="true" />  -->\r\n                                        <!-- remote-url="{{$ctrl.baseUrl}}/api/getById?customerId=" -->\r\n                                </div>\r\n                                \r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Designated Account Number:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" id="designatedAccountNumber"\r\n                                     placeholder="Designated Account Number" \r\n                                    ng-model="$ctrl.balanceManager.designatedAccountNumber" readonly>\r\n                                    <!-- <angucomplete-alt id="designatedAccountNumber" placeholder="Designated Acc Number" minlength="3" input-class="form-control" selected-object="$ctrl.designatedAccountNumber"\r\n                                        initial-value="$ctrl.data.designatedAccountNumber" \r\n                                        remote-url-data-field="serviceResponse" title-field="designatedAccountNumber" disable-input="$ctrl.isEdit"\r\n                                        override-suggestions="true" />  -->\r\n                                        <!-- remote-url="{{$ctrl.baseUrl}}/api/getById?customerId=" -->\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show = "$ctrl.balanceManager.designatedAccountNumber">\r\n                                    <label for="name">Designated A/c IFSC Code:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <!-- ng-pattern="/^[0-9\\.]*$/" -->\r\n                                    <input type="text" class="form-control input-group-lg reg_name" \r\n                                        placeholder="Designated A/c IFSC " id="gAccountNo"\r\n                                        ng-model="$ctrl.balanceManager.designatedAccIfsc" \r\n                                        readonly\r\n                                        >\r\n                                </div> \r\n                               \r\n                                 <!-- Designated Account Branch Code -->\r\n                                <div class="form-group col-sm-6" ng-show = "$ctrl.balanceManager.designatedAccountNumber">\r\n                                    <label for="name">Designated A/c Branch Code:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <!-- ng-pattern="/^[0-9\\.]*$/" -->\r\n                                    <input type="text" class="form-control input-group-lg reg_name" \r\n                                        placeholder="Designated A/c IFSC " id="gAccountNo"\r\n                                        ng-model="$ctrl.balanceManager.desigAccBranchCode" \r\n                                        readonly\r\n                                        >\r\n                                </div> \r\n\r\n                                <!-- ng-show="$ctrl.balanceManager.designatedAccountNumber" -->\r\n                                <div class="form-group">\r\n                                    <div class="form-group col-sm-3" ng-show="$ctrl.balanceManager.designatedAccountNumber">\r\n                                        <div>&nbsp;</div>\r\n                                        <button type="" class="btn btn-primary" ng-click="$ctrl.getBalance()" ng-hide="$ctrl.role==\'ipa_checker\'"\r\n                                            ng-disabled="!$ctrl.balanceManager.customerId">Show Balance</button>\r\n                                    </div>\r\n\r\n                                    <div class="form-group col-sm-3" ng-show="$ctrl.balanceManager.designatedAccountNumber">\r\n                                        <div>&nbsp;</div>   \r\n                                        <input type="text" class="form-control" id="availableBalance"\r\n                                            placeholder="Available Balance" \r\n                                            ng-model = "$ctrl.balanceManager.availableBalance" readonly/>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.balanceManager.customerId">\r\n                                    <label for="name">ISIN:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="isin" placeholder="ISIN Number"\r\n                                    ng-model = "$ctrl.balanceManager.isin" \r\n                                    autocomplete="off"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.balanceManager.customerId">\r\n                                    <label for="name">Scheme Code:\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="isin" placeholder="Scheme Code"\r\n                                    ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                                    ng-model = "$ctrl.balanceManager.purpose" \r\n                                    />\r\n                                </div>\r\n\r\n                                <!-- ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/" -->\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.balanceManager.customerId">\r\n                                    <label for="name">Remark:\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="isin" placeholder="Remark (max. 50 Characters)"\r\n                                    maxlength="50"\r\n                                    ng-model = "$ctrl.balanceManager.remark" \r\n                                    />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.balanceManager.axisAccountNumber">\r\n                                        <label for="name">Axis Account Number:\r\n                                                <span style="color: red">*</span>\r\n                                        </label>\r\n                                        <input type="text" class="form-control"\r\n                                         id="axisAccNo" placeholder="Axis Account Number" \r\n                                         ng-model = "$ctrl.balanceManager.axisAccountNumber"\r\n                                         readonly  />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show ="$ctrl.balanceManager.axisAccountNumber">\r\n                                    <label for="name">Axis Account IFSC Number:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="ifscNumber" placeholder="Axis Account IFSC Number"\r\n                                    ng-model = "$ctrl.balanceManager.axisIfscCode"\r\n                                    readonly />\r\n                                </div>\r\n\r\n                                 <!-- Axis Account Branch Code -->\r\n                                <div class="form-group col-sm-6" ng-show ="$ctrl.balanceManager.axisAccountNumber">\r\n                                    <label for="name">Axis A/c Branch Code:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="ifscNumber" placeholder="Axis Account Branch Code"\r\n                                    ng-model = "$ctrl.balanceManager.axisAccBranchCode"\r\n                                    readonly />\r\n                                </div>\r\n\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                        <label for="name" ng-show="$ctrl.balanceManager.otherBankAccount">Other Bank Account Number:\r\n                                                <span style="color: red">*</span>\r\n                                        </label>\r\n                                        <input type="text" class="form-control"\r\n                                         id="otherAccNo" placeholder="Other Bank Account Number" \r\n                                         ng-model = "$ctrl.balanceManager.otherBankAccount"\r\n                                         ng-show="$ctrl.balanceManager.otherBankAccount" readonly/>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.balanceManager.otherBankAccount">\r\n                                        <label for="name" >Other Account IFSC Number:\r\n                                                <span style="color: red">*</span>\r\n                                        </label>\r\n                                        <input type="text" class="form-control" \r\n                                        id="ifscNumber" placeholder="Other account IFSC Number"\r\n                                        ng-model = "$ctrl.balanceManager.ifscCode"\r\n                                        readonly />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                        <label for="name" ng-show="$ctrl.balanceManager.bankName" >Bank Name:\r\n                                                <span style="color: red">*</span>\r\n                                        </label>\r\n                                        <input type="text" class="form-control" \r\n                                        id="bankName" placeholder="Bank Name"\r\n                                        ng-model = "$ctrl.balanceManager.bankName" \r\n                                        ng-show="$ctrl.balanceManager.bankName"\r\n                                        readonly />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                        <label for="name" ng-show ="$ctrl.balanceManager.axisAccountNumber || $ctrl.balanceManager.otherBankAccount">Amount:\r\n                                                <span style="color: red">*</span>\r\n                                        </label>\r\n                                        <input type="number" class="form-control" \r\n                                        id="amount" placeholder="Enter amount" \r\n                                        ng-model ="$ctrl.balanceManager.amount"\r\n                                        ng-show ="$ctrl.balanceManager.axisAccountNumber || $ctrl.balanceManager.otherBankAccount"\r\n                                        autocomplete="off"\r\n                                        />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.balanceManager.axisAccountNumber || $ctrl.balanceManager.otherBankAccount">\r\n                                        <label for="name">Select Bank</label>\r\n                                        <select class="form-control" ng-model="$ctrl.balanceManager.bankSelected">\r\n                                            <option value="">Select</option>\r\n                                            <option value="axis">Internal Fund Transfer </option>\r\n                                            <option value="rtgs" ng-if="$ctrl.balanceManager.otherBankAccount">RTGS</option>\r\n                                            <option value="neft" ng-if="$ctrl.balanceManager.otherBankAccount">NEFT</option>\r\n                                            <!-- <option value="axis">RTGS </option> -->\r\n                                            <!-- <option value="other" ng-if="$ctrl.balanceManager.otherBankAccount">Other Bank </option> -->\r\n                                        </select>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-12" ng-show="$ctrl.balanceManager.amount && $ctrl.balanceManager.bankSelected">\r\n                                            <button type="submit" class="btn btn-primary" ng-click="$ctrl.submit(manageAccForm)" \r\n                                            ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit"\r\n                                            >Submit</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n,a,o,s){(0,i.default)(this,e),this.baseUrl=c.CONFIG.BASE_URL,this.CreditDebitService=t,this.scope=o,self=this,this.state=a,this.$filter=s,this.commonService=n,this.myStorage=window.localStorage,this.formData=new FormData,this.balanceManager={},this.$stateParams=r,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId))}return(0,s.default)(e,[{key:"inputChangedById",value:function(e){if(e)if(self.data=e.originalObject,self.isUserActive=self.data.isUserActive,"Approved"==self.data.status)self.scope.$broadcast("angucomplete-alt:changeInput","designatedAccountNumber",self.data),self.balanceManager.customerId=self.data.customerId,self.balanceManager.customerName=self.data.customerName,self.balanceManager.designatedAccountNumber=self.data.designatedAccountNumber,self.balanceManager.designatedAccIfsc=self.data.designatedAccIfsc,self.balanceManager.axisAccountNumber=self.data.accountNumber,self.balanceManager.axisIfscCode=self.data.axisIfscCode,self.balanceManager.otherBankAccount=self.data.otherBankAccount,self.balanceManager.ifscCode=self.data.ifscCode,self.balanceManager.otherBankIfscCode=self.data.ifscCode,self.balanceManager.bankName=self.data.bankName,self.balanceManager.amount=self.data.amount,self.balanceManager.axisAccBranchCode=self.data.axisAccBranchCode,self.balanceManager.desigAccBranchCode=self.data.desigAccBranchCode;else if("Pending"==self.data.status||"Rejected"==self.data.status)return alert("Customer is not Approved/Pending"),void(self.data=null)}},{key:"getBalance",value:function(){console.log("in show bal"),$(".se-pre-con").show(),this.CreditDebitService.getBalance(this.balanceManager.customerId).then(function(e){$(".se-pre-con").hide();var t=JSON.parse(e.data.serviceResponse),r=t.BalInq_Response.BalInq_Rsp_Body.AcctBal;if(null!=e.data.serviceResponse){var n=r[1].BalAmt.amountValue.toString();if(0!=n){var a=n.substring(0,n.length-2).concat("."),i=n.substring(n.length-2),o=a.concat(i);self.balanceManager.availableBalance=o}else self.balanceManager.availableBalance=n}})}},{key:"submit",value:function(e){if(!self.isUserActive)return void alert("Customer status is Inactive");if(null==self.balanceManager.availableBalance)return void alert("Please check available balance");if(0===self.balanceManager.availableBalance)return void alert("No balance is available");var t=parseFloat(self.balanceManager.amount),r=parseFloat(self.balanceManager.availableBalance);return t>r?void alert("Entered amount should be less or equal to available balance"):self.balanceManager.amount<2e5&&"rtgs"==self.balanceManager.bankSelected?void alert("Please enter amount greater than 2 Lakhs"):($(".se-pre-con").show(),self.balanceManager.createdBy=this.myStorage.getItem("userName"),this.formData.append("accmaster_req_data",angular.toJson(self.balanceManager)),void this.CreditDebitService.saveData(this.formData).then(function(e){$(".se-pre-con").hide(),console.log(e),"SUCCESS"==e.data.serviceResponse?(self.submitResponse=!0,self.message="Data saved successfully",self.balanceManager={}):(self.submitResponse=!1,self.message=e.data.serviceError)}))}}]),e}();d.$inject=["CreditDebitService","$stateParams","commonService","$state","$scope","$filter"],exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(845),a=r(n),i=t(846),o=r(i);t(847);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n\r\n    <div class="col-lg-12 col-xs-20">\r\n        <!-- small box -->\r\n        <h1>\r\n            <!-- Request Dashboard -->\r\n        </h1>\r\n\r\n        <div class="row">\r\n            <h3 class=" col-sm-8 box-title">Manage Transactions</h3>\r\n\r\n            <div class="form-group col-sm-4">\r\n                <!-- <label for="name">Search  Request in :\r\n                      <i class="fa fa-spinner fa-spin" ng-show="$ctrl.searching" style="display:inline; font-size:15px"></i>\r\n                      </label> -->\r\n                <input type="text" ng-model="$ctrl.requestType" placeholder="Search Transaction" class="form-control"\r\n                    id="description">\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="col-sm-12">&nbsp;\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="box box-primary" id="boxx">\r\n                    <form role="form" name="groupCreation">\r\n                        <div class="box-body" style="overflow-x: scroll">\r\n                            <div ng-app=\'MyModule\'>\r\n\r\n\r\n                                <div>\r\n                                    <table class="table table-bordered table-hover">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Id</th>\r\n                                                <th>Date of Transaction</th>\r\n                                                <th>Cutomer Id</th>\r\n                                                <th>ISIN</th>\r\n                                                <th>Desig. A/c Ifsc Code (Debit A/c)</th>\r\n                                                <th>Desig. A/c No (Debit A/c)</th>\r\n                                                <th>Credit A/c Beneficiary Name</th>\r\n                                                <!-- <th>Desig A/c Branch Code</th> -->\r\n                                                <!-- <th>Axis Ifsc Code</th> -->\r\n                                                <th>Credit A/c Bank Ifsc Code</th>\r\n                                                <!-- <th>Axis A/c No</th> -->\r\n                                                <th>Credit Bank A/c No</th>\r\n                                                <!-- <th> Axis A/c Branch Code</th> -->\r\n                                                <!-- <th>Other Bank Ifsc Code</th>\r\n                                                <th>Bank Name</th>\r\n                                                <th>Other Bank A/c No</th> -->\r\n                                                <th>Available Balance</th>\r\n                                                <th>Trans. Amount</th>\r\n                                                <th>Trans. Option Selected</th>\r\n                                                <!-- <th>Scheme Code</th> -->\r\n                                                <th>Status of Transaction</th>\r\n                                                <th>Remarks</th>\r\n                                                <th>Reference Id</th>\r\n                                                <th>Trans. Type</th>\r\n                                                <th>Response Status Code</th>\r\n                                                <!-- <th>Action</th> -->\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="request in $ctrl.arrayToDisplay | filter:$ctrl.requestType">\r\n                                            <!-- <td>{{$ctrl.pgSize *($ctrl.pgNo-1)+$index+1}}</td> -->\r\n                                            <td>{{request.id}}</td>\r\n                                            <td>{{request.createdOn | date : \'dd-MM-yyyy\'}}</td>\r\n                                            <td>{{request.customerId}}</td>\r\n                                            <td>{{request.isin}}</td>\r\n                                            <td>{{request.designatedAccIfsc}}</td>\r\n                                            <td>{{request.designatedAccountNumber}}</td>\r\n                                            <td>{{request.customerName}}</td> <!-- Beneficiary Name-->\r\n                                            <!-- <td>{{request.desigAccBranchCode}}</td> -->\r\n                                            <!-- <td>{{request.axisIfscCode}}</td> -->\r\n                                            <td>{{request.creditAccIfscCode}}</td>\r\n                                            <!-- <td>{{request.axisAccountNumber}}</td> -->\r\n                                            <td>{{request.creditAccNo}}</td>\r\n                                            <!-- <td>{{request.axisAccBranchCode}}</td>\r\n                                            <td>{{request.otherBankIfscCode}}</td>\r\n                                            <td>{{request.bankName}}</td>\r\n                                            <td>{{request.otherBankAccount}}</td> -->\r\n                                            <td>{{request.availableBalance}}</td>\r\n                                            <td>{{request.amount}}</td>\r\n                                            <td>{{request.bankSelected}}</td>\r\n                                            <!-- <td>{{request.purpose}}</td> -->\r\n                                            <td>{{request.status}}</td>\r\n                                            <td>{{request.remark}}</td>\r\n                                            <td>{{request.requestId}}</td>\r\n                                            <td>{{request.transType}}</td>\r\n                                            <td>{{request.responseCode}}</td>\r\n                                            <!-- Action Buttons  here>\r\n                                           <td> -->\r\n                                            <!-- <button class="btn btn-primary" data-toggle="tooltip" title="View" ng-click="$ctrl.viewRequest(request)"> -->\r\n                                            <!-- <i class="fa fa-align-justify"></i> -->\r\n                                            <!-- </button> -->\r\n                                            <!-- <button class="btn btn-primary" data-toggle="tooltip" title="Approve" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                  ng-click="$ctrl.approveRequest(request)">\r\n                                                  <i class="glyphicon glyphicon-ok"></i>\r\n                                              </button> -->\r\n                                            <!-- <button class="btn btn-info" data-toggle="tooltip" title="Callback" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                  ng-click="$ctrl.callBackRequest(request)">\r\n                                                 <i class="fa fa-undo" style="font-size:20px;color: red"></i>\r\n                                                 <i style="font-size:20px" class="fa">&#xf0e2;</i>\r\n                                              </button> \r\n                                              <button class="btn btn-danger" data-toggle="tooltip" title="Reject" ng-disabled="request.status==\'Approved\' || request.status==\'Rejected\'"\r\n                                                   ng-click="$ctrl.rejectRequest(request)">\r\n                                                   <i class="glyphicon glyphicon-remove"></i> \r\n                                               </button> \r\n                                           </td>  -->\r\n                                            <!-- Action Buttons to here -->\r\n\r\n                                    </table>\r\n\r\n                                    <!-- <button type="button" ng-click="$ctrl.jumpToFirst()"  class="btn btn-primary">Go 1 page</button>\r\n                                               <button type="button" ng-click="$ctrl.previous()" class="btn btn-primary" ng-disabled="$ctrl.pagenumber == 1 ">Previous</button>\r\n                                               <button type="button" ng-click="$ctrl.next()" ng-disabled="$ctrl.arrayToDisplay.length==0" class="btn btn-primary">Next</button> -->\r\n\r\n                                    <!-- <div class="row">\r\n                                                  <div class="col-sm-6">&nbsp;</div>\r\n                                                  <ul class="pager col-sm-6">\r\n                                                  <li>\r\n                                                  <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage == 0" ng-click="$ctrl.currentPage=$ctrl.currentPage-1" >\r\n                                                      <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Previous</button>\r\n                                                  </li>\r\n                                                        &nbsp; &nbsp; &nbsp; Page  {{$ctrl.currentPage+1}} of {{$ctrl.numberOfPages()}} &nbsp; &nbsp; &nbsp;\r\n                                                  <li>\r\n                                                  <button class="btn btn-default" href="#" ng-disabled="$ctrl.currentPage >= $ctrl.requestData.length/$ctrl.pageSize - 1" ng-click="$ctrl.currentPage=$ctrl.currentPage+1">Next\r\n                                                  <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                  </button>\r\n                                                  </li>\r\n                                              </ul>\r\n                                           </div> -->\r\n\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">&nbsp;</div>\r\n                                        <ul class="pager col-sm-6">\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#" ng-click="$ctrl.jumpToFirst()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i> Go 1\r\n                                                    page</button>\r\n                                            </li>\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#"\r\n                                                    ng-disabled="$ctrl.pagenumber == 1 " ng-click="$ctrl.previous()">\r\n                                                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>\r\n                                                    Previous</button>\r\n                                            </li>\r\n                                            &nbsp; &nbsp; &nbsp; Page {{$ctrl.pagenumber}} &nbsp; &nbsp; &nbsp;\r\n                                            <li>\r\n                                                <button class="btn btn-default" href="#"\r\n                                                    ng-disabled="$ctrl.disable==true" ng-click="$ctrl.next()">Next\r\n                                                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>\r\n                                                </button>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-sm-4">&nbsp</div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>';
},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t,r,n){"ngInject";(0,i.default)(this,e),this.pagenumber=1,this.pageSize=10,this.masterArray=[],this.baseUrl=c.CONFIG.BASE_URL,this.state=t,this.manageAccService=r,this.commonService=n,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList)),this.getAllRequest()}return e.$inject=["$state","manageAccService","commonService"],(0,s.default)(e,[{key:"getAllRequest",value:function(){var e=this;$(".se-pre-con").show(),this.manageAccService.getAllRequest(this.pagenumber,this.pageSize).then(function(t){if($(".se-pre-con").hide(),e.disable=!1,null!=t.data.serviceResponse&&"SUCCESS"==t.data.serviceStatus){e.pgNo=e.pagenumber,e.pgSize=e.pageSize;for(var r,n,a=t.data.serviceResponse,i=0;i<a.length;i++){var o=a[i].bankSelected;if("axis"==o){var s=a[i].axisAccountNumber,l=a[i].axisIfscCode;""==s&&null==s&&""==l&&null==l||(r=s,n=l,a[i].creditAccNo=r,a[i].creditAccIfscCode=n)}else r=a[i].otherBankAccount,n=a[i].otherBankIfscCode,a[i].creditAccNo=r,a[i].creditAccIfscCode=n}e.arrayToDisplay=a}else"No Record found"==t.data.serviceError&&(e.disable=!0)})}},{key:"numberOfPages",value:function(){return Math.ceil(this.masterArray.length/this.pageSize)}},{key:"jumpToFirst",value:function(){this.pagenumber=1,this.getAllRequest()}},{key:"previous",value:function(){this.pagenumber--,this.getAllRequest()}},{key:"next",value:function(){this.pagenumber++,this.getAllRequest()}}]),e}();exports.default=d},function(e,exports,t){var r=t(848);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".manage{color:red}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(850),a=r(n),i=t(851),o=r(i),s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section class="content-header" ng-init="fillCreateDetails=true; fillBasicDetails=false" ng-show="fillCreateDetails">\r\n    <div class="col-lg-12 col-xs-20">\r\n        <h3>\r\n            Fees Calculation\r\n        </h3>\r\n\r\n        <div class="row">\r\n            <div class="col-md-12">\r\n                <div class="nq-ipa-success-failure-fees-calc-msg" \r\n                    ng-if="$ctrl.submitResponse != null && $ctrl.submitResponse != undefined"\r\n                    ng-class="$ctrl.submitResponse ?\'alert alert-success alert-dismissible fade in\': \'alert alert-danger alert-dismissible fade in\'" \r\n                    style="margin-bottom: 0px !important; margin-top: 10px !important">\r\n                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>\r\n                    <strong>{{$ctrl.submitResponse ? "SUCCESS": "Failure"}} !</strong> {{$ctrl.submitResponse ? "SUCCESS": "Failed"}} : {{ $ctrl.message}} \r\n                 </div>\r\n\r\n                <div class="box box-primary" id="boxx">\r\n                    <form  role="form" name="feesCalForm" >\r\n\r\n                           \r\n\r\n                        <div class="box-body">\r\n                            <div ng-app=\'MyModule\'>\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Customer Id:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <angucomplete-alt id="Customers" placeholder="Search Members"\r\n                                        selected-object="$ctrl.inputChangedById" initial-value="$ctrl.feesCalculation"\r\n                                        minlength="3" remote-url="{{$ctrl.baseUrl}}/api/getById?customerId="\r\n                                        remote-url-data-field="serviceResponse" title-field="customerId" .\r\n                                        input-class="form-control" disable-input="$ctrl.isEdit"\r\n                                        override-suggestions="true" ng-model="$ctrl.feesCalculation.customerId" />\r\n                                </div>\r\n                                \r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.feesCalculation.customerId">\r\n                                    <label for="name">Customer Name:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" id="designatedAccountNumber" \r\n                                    placeholder="Customer Name" \r\n                                    ng-model="$ctrl.feesCalculation.customerName" readonly>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6">\r\n                                    <label for="name">Designated Account Number:\r\n                                        <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" id="designatedAccountNumber" placeholder="Designated Account Number" \r\n                                    ng-model="$ctrl.feesCalculation.designatedAccountNumber" readonly>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show = "$ctrl.feesCalculation.designatedAccountNumber">\r\n                                    <label for="name">Designated A/c IFSC Code:\r\n                                        <span style="color: red">*</span>\r\n                                    </label> \r\n                                    <input type="text" class="form-control input-group-lg reg_name" \r\n                                        placeholder="Designated A/c IFSC " \r\n                                        id="designatedAccIfsc"\r\n                                        ng-model="$ctrl.feesCalculation.designatedAccIfsc" \r\n                                        \r\n                                        readonly />\r\n                                </div> \r\n\r\n                                <div class="form-group col-sm-2" ng-show="$ctrl.feesCalculation.designatedAccountNumber" style="margin: auto">\r\n                                        <div><label>&nbsp;</label></div>\r\n                                        <button type="" class="btn btn-primary" ng-click="$ctrl.getBalance()" ng-hide="$ctrl.role==\'ipa_checker\'"\r\n                                        ng-disabled="!$ctrl.feesCalculation.customerId"\r\n                                        >Show Balance</button>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-4" ng-show="$ctrl.feesCalculation.designatedAccountNumber">\r\n                                        <div><label>&nbsp;</label></div>\r\n                                        <input type="text" class="form-control" id="availableBalance"\r\n                                         placeholder="Available Balance" \r\n                                         ng-model = "$ctrl.feesCalculation.availableBalance" readonly/>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.feesCalculation.customerId">\r\n                                    <label for="name">Fees frequency:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="isin" placeholder="Fees frequency"\r\n                                    ng-model = "$ctrl.feesCalculation.ipaFrequency" \r\n                                    autocomplete="off"\r\n                                    readonly\r\n                                    />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.feesCalculation.customerId">\r\n                                    <label for="name">IPA Fees:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="isin" placeholder="IPA Fees"\r\n                                    ng-pattern="/^[a-zA-Z][a-zA-Z ]+$/"\r\n                                    ng-model = "$ctrl.feesCalculation.ipaFees" \r\n                                    autocomplete="off"\r\n                                    readonly\r\n                                    />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.feesCalculation.customerId">\r\n                                        <label for="name">TDS:\r\n                                                <span style="color: red">*</span>\r\n                                        </label>\r\n                                        <input type="text" class="form-control"\r\n                                         id="axisAccNo" placeholder="TDS" \r\n                                         ng-model = "$ctrl.feesCalculation.tds"\r\n                                         readonly  />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show ="$ctrl.feesCalculation.customerId">\r\n                                    <label for="name">Total fees:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="ifscNumber" placeholder="Total fees"\r\n                                    ng-model = "$ctrl.feesCalculation.totalFees"\r\n                                    readonly />\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-4" ng-show ="$ctrl.showTrancheId">\r\n                                    <label for="name">Tranche Id:\r\n                                            <span style="color: red">*</span>\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="ifscNumber" placeholder="Tranche Id"\r\n                                    autocomplete = "off"\r\n                                    ng-model = "$ctrl.feesCalculation.trancheId"\r\n                                     />\r\n                                </div>\r\n                                <div class="form-group col-sm-2" ng-show ="$ctrl.isPercentFees">\r\n                                    <div><label>&nbsp;</label></div>\r\n                                    <button type="" class="btn btn-primary" \r\n                                    ng-click="$ctrl.calculateFees($ctrl.feesCalculation.trancheId, $ctrl.feesCalculation.customerId)" \r\n                                    ng-hide="$ctrl.role==\'ipa_checker\'"\r\n                                    ng-disabled="!$ctrl.feesCalculation.trancheId"\r\n                                    >Calculate fees</button>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-12" ng-show="$ctrl.balanceManager.amount && $ctrl.balanceManager.bankSelected">\r\n                                            <button type="submit" class="btn btn-primary" ng-click="$ctrl.submit(manageAccForm)" \r\n                                            ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit"\r\n                                            >Submit</button>\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-6" ng-show="$ctrl.feesCalculation.customerId">\r\n                                    <label for="name">Remark:\r\n                                    </label>\r\n                                    <input type="text" class="form-control" \r\n                                    id="isin" placeholder="Remark (max. 50 Characters)"\r\n                                    maxlength="50"\r\n                                    ng-model = "$ctrl.feesCalculation.remark" \r\n                                    />\r\n                                </div>\r\n                                \r\n                                <div class="form-group col-sm-12">\r\n                                    &nbsp;\r\n                                </div>\r\n\r\n                                <div class="form-group col-sm-12">\r\n                                    <button type="submit" class="btn btn-primary" ng-click="$ctrl.save()" \r\n                                    ng-hide="$ctrl.role==\'ipa_checker\' || $ctrl.isEdit"\r\n                                    >Save</button>\r\n                                    <!-- ng-disabled = "!ctrl.availableBalance || !ctrl.isPercentFees || !ctrl.ipaFees" -->\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=t(510),u=function(){function e(t,r,n,a,o,s){"ngInject";(0,i.default)(this,e),this.baseUrl=c.CONFIG.BASE_URL,this.scope=r,self=this,this.state=t,this.$filter=n,this.feesCalculation={},this.myStorage=window.localStorage,this.commonService=o,this.feesCalculationService=a,this.CreditDebitService=s,this.myStorage=window.localStorage,void 0!=this.commonService.rolename&&this.commonService.username&&(this.myStorage.setItem("role",this.commonService.rolename),this.myStorage.setItem("userName",this.commonService.username),this.myStorage.setItem("IdList",this.commonService.IdList),this.myStorage.setItem("emailId",this.commonService.emailId))}return e.$inject=["$state","$scope","$filter","feesCalculationService","commonService","CreditDebitService"],(0,s.default)(e,[{key:"inputChangedById",value:function(e){if(self.data=e.originalObject,self.isUserActive=self.data.isUserActive,"Approved"==self.data.status)self.scope.$broadcast("angucomplete-alt:changeInput","designatedAccountNumber",self.data),self.feesCalculation.customerId=self.data.customerId,self.feesCalculation.customerName=self.data.customerName,self.feesCalculation.designatedAccountNumber=self.data.designatedAccountNumber,self.feesCalculation.designatedAccIfsc=self.data.designatedAccIfsc,self.feesCalculation.ipaFrequency=self.data.ipaFrequency,self.feesCalculation.ipaFees=self.data.ipaFees,null!=self.data.tds?(self.feesCalculation.tds=self.data.tds,self.feesCalculation.isTDS=self.data.isTDS):(self.feesCalculation.tds=0,self.feesCalculation.isTDS=0),self.feesCalculation.totalFees=self.data.totalFees,self.feesCalculation.ipaAggrementDate=self.data.ipaAggrementDate,self.feesCalculation.gst=self.data.gst,"Dealwise"!=self.feesCalculation.ipaFrequency&&"percentFees"!=self.feesCalculation.ipaFrequency||(console.log("inside ipaFre"),self.showTrancheId=!0),"percentFees"==self.feesCalculation.ipaFrequency&&(self.isPercentFees=!0);else if("Pending"==self.data.status||"Rejected"==self.data.status)return alert("Customer is not approved"),void(self.data=null)}},{key:"getBalance",value:function(){$(".se-pre-con").show(),this.CreditDebitService.getBalance(this.feesCalculation.customerId).then(function(e){$(".se-pre-con").hide();var t=JSON.parse(e.data.serviceResponse),r=t.BalInq_Response.BalInq_Rsp_Body.AcctBal;if(null!=e.data.serviceResponse){var n=r[1].BalAmt.amountValue.toString();if(0!=n){var a=n.substring(0,n.length-2).concat("."),i=n.substring(n.length-2),o=a.concat(i);self.feesCalculation.availableBalance=o}else self.feesCalculation.availableBalance=n}})}},{key:"calculateFees",value:function(e,t){console.log("Tranche ID: "+e+"Customer ID: "+t),this.feesCalculationService.calculateFees(e,t).then(function(e){if("SUCCESS"==e.data.serviceStatus){var t=e.data.serviceResponse,r=d(t.maturityDate,"DD/MM/YYYY"),n=d(t.valueDate,"DD/MM/YYYY");self.tenorInDays=r.diff(n,"days");var a=.01*t.totalCPIssue*parseInt(self.tenorInDays)/365*100,i=18*a/100;if(self.ipaFeeAmount=a+i,"percentFees"==t.commercialPaper.customer.ipaFrequency&&1==t.commercialPaper.customer.isTDS){var o=10*a/100;self.ipaFeeAmount=a-o}self.feesCalculation.ipaFees=parseFloat(self.ipaFeeAmount.toFixed(2))}else alert(e.serviceResponse.status)})}},{key:"save",value:function(){return self.isUserActive?0!=self.feesCalculation.tds?void alert(" TDS applicable - Fees collection not allowed."):null==self.feesCalculation.availableBalance?void alert("Please check available balance"):"Dealwise"!=self.feesCalculation.ipaFrequency&&"percentFees"!=self.feesCalculation.ipaFrequency||null!=self.feesCalculation.trancheId?($(".se-pre-con").show(),this.feesCalculation.createdBy=this.myStorage.getItem("userName"),void this.feesCalculationService.saveFeesDetails(this.feesCalculation).then(function(e){$(".se-pre-con").hide(),"SUCCESS"==e.data.serviceResponse?(self.submitResponse=!0,self.message=e.data.serviceStatus,self.feesCalculation={}):(self.submitResponse=!1,self.message=e.data.serviceStatus)})):void alert("Tranche Id required"):void alert("Customer status is Inactive")}}]),e}();u.$inject=["$state","$scope","$filter","feesCalculationService","commonService","CreditDebitService"],exports.default=u},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="CreditDebitService",this.$http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"saveData",value:function(e){return this.$http({method:"POST",url:c.CONFIG.BASE_URL+"/api/account_master/create",headers:{"content-type":void 0},data:e})}},{key:"getBalance",value:function(e){return this.$http({method:"GET",url:c.CONFIG.BASE_URL+"/api/account_master/BalanceEnquiry",headers:{"content-type":void 0},params:{custId:e}})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.name="feesCalculationService",this.$http=t}return e.$inject=["$http"],(0,s.default)(e,[{key:"calculateFees",value:function(e,t){return this.$http({method:"GET",url:c.CONFIG.BASE_URL+"/api/getTranchByTrancheIdAndCustomerID",headers:{"content-type":"application/json"},params:{trancheId:e,customerId:t}})}},{key:"saveFeesDetails",value:function(e){return this.$http({method:"POST",url:c.CONFIG.BASE_URL+"/api/feescalculation/saveFeesDetails",headers:{"content-type":"application/json"},data:e})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(333),a=r(n),i=t(335),o=r(i),s=t(855),l=r(s),c=t(860),d=r(c),u=t(865),p=r(u),m=a.default.module("quarterlyreport",[o.default]).component("quarterlyreport",l.default).component("qmanage",d.default).service("quarterlyReportService",p.default).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";e.state({name:"quarterlyreport",url:"/quarterlyreport",component:"quarterlyreport"}).state({name:"quarterlyreport.manage",url:"/manage",component:"qmanage"})}]).name;exports.default=m},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(856),a=r(n),i=t(857),o=r(i);t(858);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports="<div ui-view></div>"},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.name="quarterlyreport"};exports.default=i},function(e,exports,t){var r=t(859);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".quarterlyreport{color:red}",""])},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(861),a=r(n),i=t(862),o=r(i);t(863);var s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<section>\r\n  <div class="box nq-ipa-body-cont">\r\n    <div class="box-header">\r\n      <label class="nq-ipa-title">Quartely Report</label>\r\n    </div>\r\n    <div class="box-body">\r\n      <div class="row nq-ipa-filter-cont">\r\n        <label class="nq-ipa-filter-lbl nq-ipa-form-filter">Select quarter :</label>\r\n        <div class="nq-ipa-form-filter">\r\n          <select ng-model="$ctrl.formData.filterYear" class="nq-ipa-form-filter-date form-control" ng-change="$ctrl.getQuarterlyReportData()">\r\n            <option ng-value={{key}} ng-repeat="(key, value) in $ctrl.fyYearMap">{{value}}</option>\r\n          </select>\r\n        </div>\r\n        <div class="nq-ipa-form-filter">\r\n          <select ng-model="$ctrl.formData.filterQuarter" class="nq-ipa-form-filter-date form-control" ng-change="$ctrl.getQuarterlyReportData()">\r\n            <option value="quarter01">Quarter 1</option>\r\n            <option value="quarter02">Quarter 2</option>\r\n            <option value="quarter03">Quarter 3</option>\r\n            <option value="quarter04">Quarter 4</option>\r\n          </select>\r\n        </div>\r\n        <label class="nq-ipa-filter-lbl nq-ipa-form-filter">Customer Id :</label>\r\n        <input type="number" class="form-control nq-ipa-form-filter" ng-model="$ctrl.searchData" ng-change="$ctrl.filterData()" placeholder="Customer Id">\r\n        <button class="btn nq-ipa-btn-sm" ng-click="$ctrl.getQuarterlyReportData()">Refresh</button>\r\n      </div>\r\n      <div class="row nq-ipa-form-cont">\r\n        <form name="qrUploadForm">\r\n          <table class="table table-bordered table-striped nq-ipa-qr-table" ng-click="$ctrl.onTableClick($event)">\r\n            <thead>\r\n              <tr>\r\n                <th>Sr No</th>\r\n                <th>Customer Id</th>\r\n                <th>Customer Name</th>\r\n                <th>Action</th>\r\n                <th>Remarks</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr ng-repeat="cust in $ctrl.filteredCL">\r\n                <td>{{ $index + 1 }}</td>\r\n                <td>{{ cust.customerId }}</td>\r\n                <td>{{ cust.customerName }}</td>\r\n                <td>\r\n                  <label class="fileContainer" ng-if="$ctrl.attachmentData[cust.customerId].isButtonEnabled">\r\n                    Upload File\r\n                    <i class="fa fa-upload nq-ipa-btn-icon" aria-hidden="true"></i>\r\n                    <input type="file" files-input ng-model="$ctrl.selectedFile" ng-change="$ctrl.uploadFile( cust.customerId )">\r\n                  </label>\r\n                  <label class="fileContainer nq-ipa-disabled" ng-if="!$ctrl.attachmentData[cust.customerId].isButtonEnabled">\r\n                    Upload File\r\n                    <i class="fa fa-upload nq-ipa-btn-icon" aria-hidden="true"></i>\r\n                  </label>\r\n                  <label>\r\n                    <i class="fa fa-check-circle-o nq-ipa-btn-icon nq-ipa-icon-md nq-ipa-fa-icon" aria-hidden="true" ng-if="$ctrl.attachmentData[cust.customerId].currentState == \'Active\'"\r\n                      title="File Approved"></i>\r\n\r\n                    <i class="fa fa-times-circle-o nq-ipa-btn-icon nq-ipa-icon-md nq-ipa-rj-icon" aria-hidden="true" ng-if="$ctrl.attachmentData[cust.customerId].currentState == \'Rejected\'"\r\n                      title="File Rejected"></i>\r\n\r\n                    <i class="fa fa-eye nq-ipa-btn-icon nq-ipa-icon-md nq-ipa-ap-icon" aria-hidden="true" ng-if="$ctrl.attachmentData[cust.customerId].currentState == \'Approve\'"\r\n                      title="Approval Pending"></i>\r\n                  </label>\r\n                  <label>\r\n                    <span ng-value="{{$ctrl.attachmentData[cust.customerId].id}}" class="nq-ipa-qr-attname">{{ $ctrl.attachmentData[cust.customerId].attachmentName }}</span>\r\n                  </label>\r\n                </td>\r\n                <td>\r\n                  <span>{{ $ctrl.commentData[$ctrl.attachmentData[cust.customerId].id] }}</span>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>'},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(695),a=r(n),i=t(416),o=r(i),s=t(434),l=r(s),c=t(489),d=(r(c),function(){function e(t,r){"ngInject";(0,o.default)(this,e),this.formData={},this.commonService=r,this.qrService=t,this.prepareReportFilter(),this.getQuarterlyReportData()}return e.$inject=["quarterlyReportService","commonService"],(0,l.default)(e,[{key:"prepareReportFilter",value:function(){this.fyYearMap={};for(var e=2018;e<2025;e++)this.fyYearMap[e]="FY  "+e+"-"+(e+1)}},{key:"getQuarterlyReportData",value:function(){var e=this;if(this.formData.filterYear||(this.formData.filterYear=(new Date).getFullYear()),!this.formData.filterQuarter){var t=(new Date).getMonth();t<3?this.formData.filterQuarter="quarter04":t>2&&t<6?this.formData.filterQuarter="quarter01":t>5&&t<9?this.formData.filterQuarter="quarter02":this.formData.filterQuarter="quarter03"}$(".se-pre-con").show(),this.qrService.getQuarterlyReportData(this.formData.filterQuarter,this.formData.filterYear).then(function(t){if(t.data.serviceStatus&&"success"===t.data.serviceStatus.toLowerCase()){e.prepareDataForReport(t.data.serviceResponse),$(".se-pre-con").hide();var r={type:"warn",msg:"Quarterly report data loaded successfully."};e.commonService.displayMsg(r)}else t.data.serviceStatus&&"fail"===t.data.serviceStatus.toLowerCase()&&$(".se-pre-con").hide()})}},{key:"prepareDataForReport",value:function(e){var t=this;this.customerList=e.customerList,this.attachmentData=e.attachmentData,this.commentData=e.commentData,this.filteredCL=this.customerList,this.customerList.forEach(function(e,r){t.attachmentData[e.customerId]||(t.attachmentData[e.customerId]={});var n=t.attachmentData[e.customerId];n.isButtonEnabled=!0,"Active"!=n.currentState&&"Approve"!=n.currentState||(n.isButtonEnabled=!1)})}},{key:"filterData",value:function(){var e=this;this.filteredCL=new Array,this.searchData&&""!=this.searchData?this.customerList.forEach(function(t,r){t.customerId&&t.customerId.indexOf(e.searchData)!=-1&&e.filteredCL.push(t)}):this.filteredCL=this.customerList}},{key:"onTableClick",value:function(e){e.target&&$(e.target).hasClass("nq-ipa-qr-attname")&&this.downloadFile(e.target.value)}},{key:"uploadFile",value:function(e){var t=this,r=new FormData;r.append("selectedFile",this.selectedFile[0]);var n={customerId:e,quarter:this.formData.filterQuarter,year:this.formData.filterYear};r.append("data",(0,a.default)(n)),$(".se-pre-con").show(),this.qrService.upload(r).then(function(e){if(e.data.serviceStatus&&"success"===e.data.serviceStatus.toLowerCase())t.getQuarterlyReportData();else if("Fail"==e.data.serviceStatus){$(".se-pre-con").hide();var r={type:"warn",msg:e.data.serviceError};t.commonService.displayErrorMsg(r)}})}},{key:"downloadFile",value:function(e){var t=this,r=void 0;if(this.customerList.forEach(function(n,a){var i=t.attachmentData[n.customerId];e==i.id&&(r=i)}),r)$(".se-pre-con").show(),this.qrService.download(e).then(function(e){"Fail"==e.data.serviceStatus?$(".se-pre-con").hide():($(".se-pre-con").hide(),t.commonService.buildAndPushFile(e.data,r.attachmentName))});else{var n={type:"warn",msg:"Error while downloading the quarterly report. Please try again or contact administrator."};this.commonService.displayMsg(n)}}}]),e}());exports.default=d},function(e,exports,t){var r=t(864);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,".nq-ipa-form-cont{margin-top:15px!important}.nq-ipa-body-cont .row{margin:0}.nq-ipa-title{color:#a03058;text-transform:uppercase}.nq-ipa-form-filter{float:left;margin-right:15px}.nq-ipa-form-filter-date{width:16rem!important}.nq-ipa-filter-lbl{text-transform:uppercase;line-height:2.3}.nq-ipa-body-cont .form-control{width:200px}.nq-ipa-body-cont .table th{background:hsla(0,1%,47%,.2)}.nq-ipa-btn-icon{margin-left:10px}.fileContainer{overflow:hidden;position:relative}.fileContainer [type=file]{cursor:inherit;display:block;font-size:999px;filter:alpha(opacity=0);min-height:100%;min-width:100%;opacity:0;position:absolute;right:0;text-align:right;top:0}.fileContainer,.nq-ipa-btn-sm{float:left;border-radius:0;background-color:transparent;border:1px solid #a03058;font-size:12px;font-weight:600;letter-spacing:1px;padding:8px;text-transform:uppercase;cursor:pointer}.fileContainer:hover,.nq-ipa-btn-sm:hover{color:#fff;background-color:#a03058}.nq-ipa-disabled{cursor:default;border-color:#6e6e6e}.nq-ipa-disabled:hover{background-color:#6e6e6e}.nq-ipa-icon-md{font-size:2.5rem;margin-top:5px}.nq-ipa-fa-icon{color:#0d9b0d}.nq-ipa-rj-icon{color:#eb3c1d}.nq-ipa-ap-icon{color:#3e6ef1}.nq-ipa-qr-attname{display:inline-block;margin-left:10px;color:#007bff;cursor:pointer;font-weight:500;text-decoration:none}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.$http=t,this.baseURL=c.CONFIG.BASE_URL+"/api/quarterlyreport/"}return e.$inject=["$http"],(0,s.default)(e,[{key:"getQuarterlyReportData",value:function(e,t){return this.$http({method:"GET",url:this.baseURL+"getQR",params:{filterQuarter:e,filterYear:t}})}},{key:"upload",value:function(e){return this.$http({method:"POST",url:this.baseURL+"upload",
headers:{"content-type":void 0},data:e})}},{key:"download",value:function(e){return this.$http({method:"POST",url:this.baseURL+"download",headers:{"content-type":void 0},params:{attachmentId:e},responseType:"blob"})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(867),a=r(n);t(868);var i=t(488),o=r(i),s={bindings:{},template:a.default,controller:o.default};exports.default=s},function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\r\n<div class="app hold-transition skin-blue sidebar-mini">\r\n\r\n  <div class="wrapper">\r\n    <header class="main-header">\r\n      <a href="index.html" class="nq-ipa-nav-icon-a logo" style="background-color: #f2f2f2;">\r\n        <!-- mini logo for sidebar mini 50x50 pixels -->\r\n        <span class="logo-mini">\r\n          <b>axis</b>\r\n        </span>\r\n        <!-- logo for regular state and mobile devices -->\r\n\t\t<!-- <span class="logo-lg"> -->\r\n          <!-- <img class="nq-ipa-nav-icon" src="assets/img/axis-bank-logo.png"> -->\r\n          <h2 class="nq-ipa-nav-icon-text">IPA</h2>\r\n        <!-- </span> -->\r\n      </a>\r\n      <nav class="navbar navbar-static-top">\r\n        <!-- Sidebar toggle button-->\r\n        <a class="sidebar-toggle" data-toggle="offcanvas" role="button">\r\n          <span class="sr-only">Toggle navigation</span>\r\n        </a>\r\n        <ul class="nav navbar-nav">\r\n          <li>\r\n            <label class="nq-ipa-app-title" ng-init="$ctrl.getAllUsers()">\r\n              IPA Portal\r\n            </label>\r\n          </li>\r\n        </ul>\r\n        <div class="navbar-custom-menu">\r\n          <ul class="nav navbar-nav">\r\n            <li>\r\n              <p style="padding-top: 15px;color: white">\r\n                <b>Last Login Time: {{$ctrl.commonService.lastTokenGenerated}}</b> &nbsp; &nbsp; &nbsp; </p>\r\n            </li>\r\n            <li class="dropdown user user-menu nq-ipa-login-name">\r\n              <a class="dropdown-toggle" data-toggle="dropdown">\r\n                <!-- <img src="assets/img/user2-160x160.jpg" class="user-image" alt="User Image"> -->\r\n                <span class="hidden-xs">{{$ctrl.commonService.username}}</span>\r\n              </a>\r\n              <ul class="dropdown-menu">\r\n                <!-- User image -->\r\n                <li class="user-header">\r\n                  <!-- <img src="assets/img/user2-160x160.jpg" class="img-circle" alt="User Image"> -->\r\n                  <p>\r\n                    {{$ctrl.commonService.username}}\r\n                  </p>\r\n                </li>\r\n\r\n                <!-- Menu Body -->\r\n                <li class="user-body">\r\n                  <!-- /.row -->\r\n                </li>\r\n                <!-- Menu Footer-->\r\n                <li class="user-footer">\r\n                  <div class="pull-left">\r\n                    <a class="btn btn-default btn-flat">Profile</a>\r\n                  </div>\r\n                  <div class="pull-right">\r\n                    <!-- <a onclick="document.cookie=\'access-token=;\'; document.cookie=\'loggedId=;\';window.location.href = \'../\';" class="btn btn-default btn-flat">Sign out</a> -->\r\n                    <!-- <a ngclick="document.cookie=\'access-token=;\'; document.cookie=\'loggedId=;\';window.location.href = {{ $ctrl.CONFIG.Base_user_url }}; " class="btn btn-default btn-flat">Sign out</a> -->\r\n                    <a ng-click="$ctrl.SignOut()" class="btn btn-default btn-flat">Sign out</a>\r\n                  </div>\r\n                </li>\r\n                <li>\r\n                  <div class="pull-left">\r\n                    <p style="padding-top: 15px;color: red">\r\n                      <b>Last Login Time: {{$ctrl.commonService.lastTokenGenerated}}</b> &nbsp; &nbsp; &nbsp; </p>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n    <!-- Sidebar -->\r\n    <aside class="main-sidebar">\r\n\r\n      <section class="sidebar">\r\n\r\n        <ul class="sidebar-menu">\r\n          <li class="">&nbsp;</li>\r\n\r\n          <!-- Admin URLS -->\r\n          <!--<ul class="treeview-menu ">-->\r\n          <li class="" ng-show="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users"></i>\r\n              <span>\r\n                <b>Requests</b>\r\n              </span>\r\n              <span class="pull-right-container">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <li class="">\r\n                <a ui-sref="requests/request">\r\n                  <i class="fa fa-user-plus "></i>All Requests</a>\r\n              </li>\r\n\r\n              <li class="">\r\n                <a ui-sref="requests/manageacc">\r\n                  <i class="fa fa-user-plus "></i>Manage transactions</a>\r\n              </li>\r\n\r\n              <li class="">\r\n                <a ui-sref="requests/feesmanagement">\r\n                  <i class="fa fa-user-plus "></i>Fees Management</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <li ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a ui-sref="dashboard">\r\n              <i class="fa fa-server" aria-hidden="true"></i>\r\n              Dashboard\r\n            </a>\r\n          </li>\r\n\r\n          <li class="treeview" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-user "></i>\r\n              <span>\r\n                <b>Customer</b>\r\n              </span>\r\n              <span class="pull-right-container ">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <li class="">\r\n                <a ui-sref="customers/create/reg">\r\n\r\n                  <i class="fa fa-user-plus" aria-hidden="true"></i>Add new Customer</a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="customers/list">\r\n                  <i class="fa fa-circle-o"></i>Customer List</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n\r\n          <li class="" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users"></i>\r\n              <span>\r\n                <b>Board Resolution</b>\r\n              </span>\r\n              <span class="pull-right-container">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <li class="">\r\n                <a ui-sref="boardResolution/br">\r\n                  <i class="fa fa-user-plus "></i>BR Details</a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="boardResolution/show">\r\n                  <i class="fa fa-circle-o "></i>Show BR</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <li class="" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users"></i>\r\n              <span>\r\n                <b>CP Registration</b>\r\n              </span>\r\n              <span class="pull-right-container">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <li class="">\r\n                <a ui-sref="cpReg/createCp/cp_create">\r\n\r\n                  <i class="fa fa-user-plus "></i>Register CP</a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="cpReg/showCp">\r\n                  <i class="fa fa-circle-o "></i>CP Details</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <li class="" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users"></i>\r\n              <span>\r\n                <b>Tranch and Security</b>\r\n              </span>\r\n              <span class="pull-right-container">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <li class="">\r\n                <a ui-sref="security/addsecurity">\r\n                  <i class="fa fa-users "></i>Add security</a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="security/details">\r\n                  <i class="fa fa-circle-o "></i>Security Details</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <li class="" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users"></i>\r\n              <span>\r\n                <b>Deal registration</b>\r\n              </span>\r\n              <span class="pull-right-container">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <li class="">\r\n                <a ui-sref="deal/addDeal">\r\n                  <i class="fa fa-users "></i>Add Deal</a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="deal/showdeal">\r\n                  <i class="fa fa-circle-o"></i>Show Deal</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <li class="" ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users"></i>\r\n              <span>\r\n                <b>Report</b>\r\n              </span>\r\n              <span class="pull-right-container">\r\n              </span>\r\n            </a>\r\n            <ul class="treeview-menu">\r\n              <!-- <li class="">\r\n                        <a ui-sref="report/reports">\r\n                          <i class="fa fa-circle-o "></i>View Report</a>\r\n                      </li> -->\r\n              <li class="">\r\n                <a ui-sref="/report/reportDownload">\r\n                  <i class="fa fa fa-circle-o"></i>Download Report</a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <li class="treeview " ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users" aria-hidden="true"></i>\r\n              <span>\r\n                <b>Investor</b>\r\n              </span>\r\n              <span class="pull-right-container ">\r\n              </span>\r\n            </a>\r\n\r\n            <ul class="treeview-menu ">\r\n              <li class="">\r\n                <a ui-sref="investor.create">\r\n                  <i class="fa fa-user-plus" aria-hidden="true"></i>\r\n                  <span>Create Investor</span>\r\n                  <span class="pull-right-container ">\r\n                  </span>\r\n                </a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="investor.manage">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  Manage Investors\r\n                </a>\r\n              </li>\r\n            </ul>\r\n\r\n          </li>\r\n\r\n          <li class="treeview " ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users" aria-hidden="true"></i>\r\n              <span>\r\n                <b>Buyback</b>\r\n              </span>\r\n              <span class="pull-right-container ">\r\n              </span>\r\n            </a>\r\n\r\n            <ul class="treeview-menu ">\r\n              <li class="">\r\n                <a ui-sref="buyback.create">\r\n                  <i class="fa fa-user-plus" aria-hidden="true"></i>\r\n                  <span>Create Buyback</span>\r\n                  <span class="pull-right-container ">\r\n                  </span>\r\n                </a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="buyback.manage">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  Manage Buyback\r\n                </a>\r\n              </li>\r\n            </ul>\r\n\r\n          </li>\r\n\r\n          <li class="treeview " ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users" aria-hidden="true"></i>\r\n              <span>\r\n                <b>Benpos</b>\r\n              </span>\r\n              <span class="pull-right-container ">\r\n              </span>\r\n            </a>\r\n\r\n            <ul class="treeview-menu ">\r\n              <li class="">\r\n                <a ui-sref="benpos.manage">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  Manage Benpos\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n\r\n          <!-- Credit Debit  -->\r\n          <li class="treeview " ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-users" aria-hidden="true"></i>\r\n              <span>\r\n                <b>Credit/Debit</b>\r\n              </span>\r\n              <span class="pull-right-container ">\r\n              </span>\r\n            </a>\r\n\r\n            <ul class="treeview-menu ">\r\n              <li class="">\r\n                <a ui-sref="creditdebit">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  Manage Credit/ Debit\r\n                </a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="managecrdr">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  View transactions\r\n                </a>\r\n              </li>\r\n              <li class="">\r\n                <a ui-sref="feescalculation">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  Fees Calculation\r\n                </a>\r\n              </li>\r\n\r\n            </ul>\r\n          </li>\r\n\r\n          <li class="treeview " ng-hide="$ctrl.role==\'ipa_checker\'">\r\n            <a>\r\n              <i class="fa fa-pie-chart" aria-hidden="true"></i>\r\n              <span>\r\n                <b>Quarterly Report</b>\r\n              </span>\r\n              <span class="pull-right-container ">\r\n              </span>\r\n            </a>\r\n\r\n            <ul class="treeview-menu ">\r\n              <li class="">\r\n                <a ui-sref="quarterlyreport.manage">\r\n                  <i class="fa fa-server" aria-hidden="true"></i>\r\n                  Report List\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n    </aside>\r\n    <!-- End Sidebar -->\r\n\r\n    <div class="content-wrapper ">\r\n      <section class="content-header ">\r\n      </section>\r\n      <section class="content " style="overflow-y:scroll">\r\n        <div class="nq-ipa-errbox">\r\n          <div class="nq-ipa-errbox-img">\r\n            <i class="fa fa-check nq-ipa-icon-md nq-ipa-errbox-icon" aria-hidden="true"></i>\r\n          </div>\r\n          <div class="nq-ipa-errbox-msgbox"></div>\r\n        </div>\r\n        <div ui-view></div>\r\n      </section>\r\n      <!-- /.content -->\r\n    </div>\r\n    <!-- /.content-wrapper -->\r\n\r\n    <footer class="main-footer ">\r\n      <div class="pull-right hidden-xs ">\r\n        <b>Version</b> 1.0.0\r\n      </div>\r\n      <strong>Copyright &copy; 2019\r\n        <a href="http://neoquant.com ">NeoQuant Solutions Pvt. Ltd</a>.</strong> All rights reserved.\r\n    </footer>\r\n    <div class="control-sidebar-bg "></div>\r\n  </div>\r\n</div>\r\n</div>'},function(e,exports,t){var r=t(869);"string"==typeof r&&(r=[[e.id,r,""]]);t(420)(r,{});r.locals&&(e.exports=r.locals)},function(e,exports,t){exports=e.exports=t(419)(),exports.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body,html{height:100%!important}.nq-ipa-nav-icon{transform:scale(.6);-moz-transform:scale(.6);-ms-transform:scale(.6);-webkit-transform:scale(.6);-o-transform:scale(.6)}.nq-ipa-app-title{font-weight:600;font-size:25px;color:#fff;margin:6px 0 5px 10px;text-transform:uppercase}.app{height:100%;background-color:#37474f}.nq-ipa-nav-icon-a{height:6.5rem!important}.nq-ipa-nav-icon-text{color:#881e42;font-weight:700}.nq-ipa-errbox{background-color:#f8fbfc;height:80px;width:25%;position:absolute;z-index:10000;top:0;left:40%;display:none}.nq-ipa-errbox-img{background-color:#43fd3d;height:inherit;padding-top:5%;width:20%;float:left;text-align:center}.nq-ipa-errbox-msgbox{padding:4%;height:inherit;float:left;font-size:500;width:80%}.warn{background-color:#eca12f}.nq-ipa-errbox-icon{color:#fff}.nq-ipa-login-name{border:1px solid #fff}",""])},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){(0,i.default)(this,e),this.name="appService",this.$http=t,this.userUrl=c.CONFIG.Base_user_url}return(0,s.default)(e,[{key:"getAllUsers",value:function(){this.$http({method:"GET",url:c.CONFIG.BASE_URL+"/api/users/getAllUsers",headers:{"content-type":"application/json"},params:{fetchOnlyActive:!1}}).then(function(e){})}}]),e}();exports.default=d},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){(0,i.default)(this,e),window.commonStore=t,this.userCookies={},this.baseUser_logouturl=c.CONFIG.Base_user_logouturl;var r={},n=document.cookie.split(";",5);n.forEach(function(e){var t=e.split("=",2);r[t[0].trim()]=t[1]}),this.userCookies=r}return(0,s.default)(e,[{key:"responseError",value:function(e){return 401!=e.status&&"Unauthorized"!=e.error||(document.cookie="access-token=; Path=/",window.location.href=c.CONFIG.Base_user_logouturl,setTimeout(function(){},2e3)),e}},{key:"response",value:function(e){return e}},{key:"request",value:function(e){return void 0!=window.commonStore.userCookies["access-token"]&&""!=window.commonStore.userCookies["access-token"]||(window.location.href=c.CONFIG.Base_user_logouturl),e.headers.Authorization="Token "+window.commonStore.userCookies["access-token"],e}},{key:"requestError",value:function(e){return e}}]),e}();d.$inject=["commonStorage"],exports.default=d},function(e,exports,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(416),a=r(n),i=function e(){(0,a.default)(this,e),this.userCookies={};var t={},r=document.cookie.split(";",5);r.forEach(function(e){var r=e.split("=",2);t[r[0].trim()]=r[1]}),this.userCookies=t};exports.default=i},function(e,exports,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(416),i=n(a),o=t(434),s=n(o),l=t(454),c=r(l),d=function(){function e(t){"ngInject";(0,i.default)(this,e),this.$http=t,this.baseURL=c.CONFIG.BASE_URL+"/api/"}return e.$inject=["$http"],(0,s.default)(e,[{key:"create",value:function(e,t){return this.$http({method:"POST",url:this.baseURL+t+"/create",data:e})}},{key:"update",value:function(e,t){return this.$http({method:"POST",url:this.baseURL+t+"/update",data:e})}},{key:"switchStatus",value:function(e,t){return this.$http({method:"POST",url:this.baseURL+t+"/toggle-status",data:e})}}]),e}();exports.default=d}]);
//# sourceMappingURL=app.bundle.js.map